<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Bear&#39;s dream</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-01-19T17:27:54.926Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>Yang Xiong</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>pandas 10套练习</title>
    <link href="http://yoursite.com/2020/01/15/python/kesci_notes/pandas10%E5%A5%97%E7%BB%83%E4%B9%A0/"/>
    <id>http://yoursite.com/2020/01/15/python/kesci_notes/pandas10%E5%A5%97%E7%BB%83%E4%B9%A0/</id>
    <published>2020-01-16T03:30:00.000Z</published>
    <updated>2020-01-19T17:27:54.926Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>此练习来自kesci.com <br><br><a href="https://www.kesci.com/home/project/59e77a636d213335f38daec2" target="_blank" rel="external nofollow noopener noreferrer">这十套练习，教你如何使用Pandas做数据分析</a></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure></div><h1 id="chipotle-快餐数据-基本操作"><a href="#chipotle-快餐数据-基本操作" class="headerlink" title="chipotle 快餐数据(基本操作)"></a>chipotle 快餐数据(基本操作)</h1><h2 id="看基本数据"><a href="#看基本数据" class="headerlink" title="看基本数据"></a>看基本数据</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo = pd.read_csv(<span class="string">"chipotle.tsv"</span>, sep=<span class="string">"\t"</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo.head(<span class="number">10</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>order_id</th>      <th>quantity</th>      <th>item_name</th>      <th>choice_description</th>      <th>item_price</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>1</td>      <td>Chips and Fresh Tomato Salsa</td>      <td>NaN</td>      <td>$2.39</td>    </tr>    <tr>      <th>1</th>      <td>1</td>      <td>1</td>      <td>Izze</td>      <td>[Clementine]</td>      <td>$3.39</td>    </tr>    <tr>      <th>2</th>      <td>1</td>      <td>1</td>      <td>Nantucket Nectar</td>      <td>[Apple]</td>      <td>$3.39</td>    </tr>    <tr>      <th>3</th>      <td>1</td>      <td>1</td>      <td>Chips and Tomatillo-Green Chili Salsa</td>      <td>NaN</td>      <td>$2.39</td>    </tr>    <tr>      <th>4</th>      <td>2</td>      <td>2</td>      <td>Chicken Bowl</td>      <td>[Tomatillo-Red Chili Salsa (Hot), [Black Beans...</td>      <td>$16.98</td>    </tr>    <tr>      <th>5</th>      <td>3</td>      <td>1</td>      <td>Chicken Bowl</td>      <td>[Fresh Tomato Salsa (Mild), [Rice, Cheese, Sou...</td>      <td>$10.98</td>    </tr>    <tr>      <th>6</th>      <td>3</td>      <td>1</td>      <td>Side of Chips</td>      <td>NaN</td>      <td>$1.69</td>    </tr>    <tr>      <th>7</th>      <td>4</td>      <td>1</td>      <td>Steak Burrito</td>      <td>[Tomatillo Red Chili Salsa, [Fajita Vegetables...</td>      <td>$11.75</td>    </tr>    <tr>      <th>8</th>      <td>4</td>      <td>1</td>      <td>Steak Soft Tacos</td>      <td>[Tomatillo Green Chili Salsa, [Pinto Beans, Ch...</td>      <td>$9.25</td>    </tr>    <tr>      <th>9</th>      <td>5</td>      <td>1</td>      <td>Steak Burrito</td>      <td>[Fresh Tomato Salsa, [Rice, Black Beans, Pinto...</td>      <td>$9.25</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo.shape</span><br></pre></td></tr></table></figure></div><pre><code>(4622, 5)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo.columns</span><br></pre></td></tr></table></figure></div><pre><code>Index([&#39;order_id&#39;, &#39;quantity&#39;, &#39;item_name&#39;, &#39;choice_description&#39;,       &#39;item_price&#39;],      dtype=&#39;object&#39;)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo.index</span><br></pre></td></tr></table></figure></div><pre><code>RangeIndex(start=0, stop=4622, step=1)</code></pre><h2 id="被下单最多的商品-item"><a href="#被下单最多的商品-item" class="headerlink" title="被下单最多的商品(item)?"></a>被下单最多的商品(item)?</h2><p>as_index=False 意思是不让item_name变成index.<br>agg里面的字典表示你可以对每一列用不同的函数</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = chipo.groupby([<span class="string">'item_name'</span>],as_index=<span class="literal">False</span>).agg(&#123;<span class="string">'quantity'</span>:sum&#125;)</span><br><span class="line">c.sort_values([<span class="string">'quantity'</span>],ascending=<span class="literal">False</span>,inplace=<span class="literal">True</span>)</span><br><span class="line">c.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>item_name</th>      <th>quantity</th>    </tr>  </thead>  <tbody>    <tr>      <th>17</th>      <td>Chicken Bowl</td>      <td>761</td>    </tr>    <tr>      <th>18</th>      <td>Chicken Burrito</td>      <td>591</td>    </tr>    <tr>      <th>25</th>      <td>Chips and Guacamole</td>      <td>506</td>    </tr>    <tr>      <th>39</th>      <td>Steak Burrito</td>      <td>386</td>    </tr>    <tr>      <th>10</th>      <td>Canned Soft Drink</td>      <td>351</td>    </tr>  </tbody></table></div><h2 id="在item-name这一列中，一共有多少种商品被下单？¶"><a href="#在item-name这一列中，一共有多少种商品被下单？¶" class="headerlink" title="在item_name这一列中，一共有多少种商品被下单？¶"></a>在item_name这一列中，一共有多少种商品被下单？¶</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo[<span class="string">'item_name'</span>].nunique()</span><br></pre></td></tr></table></figure></div><pre><code>50</code></pre><h2 id="步骤11-在choice-description中，下单次数最多的商品是什么？"><a href="#步骤11-在choice-description中，下单次数最多的商品是什么？" class="headerlink" title="步骤11 在choice_description中，下单次数最多的商品是什么？"></a>步骤11 在choice_description中，下单次数最多的商品是什么？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">temp = chipo.groupby([<span class="string">'choice_description'</span>],as_index=<span class="literal">False</span>).agg(&#123;<span class="string">'quantity'</span>:sum&#125;)</span><br><span class="line">temp.sort_values(by=<span class="string">'quantity'</span>,inplace=<span class="literal">True</span>,ascending=<span class="literal">False</span>)</span><br><span class="line">temp</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>choice_description</th>      <th>quantity</th>    </tr>  </thead>  <tbody>    <tr>      <th>15</th>      <td>[Diet Coke]</td>      <td>159</td>    </tr>    <tr>      <th>14</th>      <td>[Coke]</td>      <td>143</td>    </tr>    <tr>      <th>583</th>      <td>[Sprite]</td>      <td>89</td>    </tr>    <tr>      <th>256</th>      <td>[Fresh Tomato Salsa, [Rice, Black Beans, Chees...</td>      <td>49</td>    </tr>    <tr>      <th>257</th>      <td>[Fresh Tomato Salsa, [Rice, Black Beans, Chees...</td>      <td>42</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>496</th>      <td>[Roasted Chili Corn Salsa, [Fajita Vegetables,...</td>      <td>1</td>    </tr>    <tr>      <th>499</th>      <td>[Roasted Chili Corn Salsa, [Fajita Vegetables,...</td>      <td>1</td>    </tr>    <tr>      <th>502</th>      <td>[Roasted Chili Corn Salsa, [Fajita Vegetables,...</td>      <td>1</td>    </tr>    <tr>      <th>504</th>      <td>[Roasted Chili Corn Salsa, [Guacamole, Sour Cr...</td>      <td>1</td>    </tr>    <tr>      <th>1042</th>      <td>[[Tomatillo-Red Chili Salsa (Hot), Tomatillo-G...</td>      <td>1</td>    </tr>  </tbody></table><p>1043 rows × 2 columns</p></div><h2 id="一共有多少商品被下单？"><a href="#一共有多少商品被下单？" class="headerlink" title="一共有多少商品被下单？"></a>一共有多少商品被下单？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo.loc[:, <span class="string">'quantity'</span>].sum()</span><br></pre></td></tr></table></figure></div><pre><code>4972</code></pre><h2 id="将item-price转换为浮点数"><a href="#将item-price转换为浮点数" class="headerlink" title="将item_price转换为浮点数"></a>将item_price转换为浮点数</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo[<span class="string">'item_price'</span>] = chipo.loc[:, <span class="string">'item_price'</span>].apply(<span class="keyword">lambda</span> x: x[<span class="number">1</span>:]).astype(np.float64)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo[<span class="string">'item_price'</span>]</span><br></pre></td></tr></table></figure></div><pre><code>0        2.391        3.392        3.393        2.394       16.98        ...  4617    11.754618    11.754619    11.254620     8.754621     8.75Name: item_price, Length: 4622, dtype: float64</code></pre><h2 id="在该数据集对应的时期内，收入-revenue-是多少"><a href="#在该数据集对应的时期内，收入-revenue-是多少" class="headerlink" title="在该数据集对应的时期内，收入(revenue)是多少"></a>在该数据集对应的时期内，收入(revenue)是多少</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo[<span class="string">'sum_earn'</span>] = chipo[<span class="string">'quantity'</span>]*chipo[<span class="string">'item_price'</span>]</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo[<span class="string">'sum_earn'</span>].sum()</span><br></pre></td></tr></table></figure></div><pre><code>39237.02</code></pre><h2 id="在该数据集对应的时期内，一共有多少订单？"><a href="#在该数据集对应的时期内，一共有多少订单？" class="headerlink" title="在该数据集对应的时期内，一共有多少订单？"></a>在该数据集对应的时期内，一共有多少订单？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo[<span class="string">'order_id'</span>].nunique()</span><br></pre></td></tr></table></figure></div><pre><code>1834</code></pre><h2 id="每一单-order-对应的平均总价是多少？"><a href="#每一单-order-对应的平均总价是多少？" class="headerlink" title="每一单(order)对应的平均总价是多少？"></a>每一单(order)对应的平均总价是多少？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo.groupby(<span class="string">'order_id'</span>).agg(&#123;<span class="string">'sum_earn'</span>:sum&#125;).mean()</span><br></pre></td></tr></table></figure></div><pre><code>sum_earn    21.394231dtype: float64</code></pre><h2 id="一共有多少种不同的商品被售出"><a href="#一共有多少种不同的商品被售出" class="headerlink" title="一共有多少种不同的商品被售出"></a>一共有多少种不同的商品被售出</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chipo[<span class="string">'item_name'</span>].nunique()</span><br></pre></td></tr></table></figure></div><pre><code>50</code></pre><h1 id="探索2012欧洲杯数据-数据过滤排序"><a href="#探索2012欧洲杯数据-数据过滤排序" class="headerlink" title="探索2012欧洲杯数据(数据过滤排序)"></a>探索2012欧洲杯数据(数据过滤排序)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12 = pd.read_csv(<span class="string">'Euro2012_stats.csv'</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12.head(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Goals</th>      <th>Shots on target</th>      <th>Shots off target</th>      <th>Shooting Accuracy</th>      <th>% Goals-to-shots</th>      <th>Total shots (inc. Blocked)</th>      <th>Hit Woodwork</th>      <th>Penalty goals</th>      <th>Penalties not scored</th>      <th>...</th>      <th>Saves made</th>      <th>Saves-to-shots ratio</th>      <th>Fouls Won</th>      <th>Fouls Conceded</th>      <th>Offsides</th>      <th>Yellow Cards</th>      <th>Red Cards</th>      <th>Subs on</th>      <th>Subs off</th>      <th>Players Used</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Croatia</td>      <td>4</td>      <td>13</td>      <td>12</td>      <td>51.9%</td>      <td>16.0%</td>      <td>32</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>13</td>      <td>81.3%</td>      <td>41</td>      <td>62</td>      <td>2</td>      <td>9</td>      <td>0</td>      <td>9</td>      <td>9</td>      <td>16</td>    </tr>    <tr>      <th>1</th>      <td>Czech Republic</td>      <td>4</td>      <td>13</td>      <td>18</td>      <td>41.9%</td>      <td>12.9%</td>      <td>39</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>9</td>      <td>60.1%</td>      <td>53</td>      <td>73</td>      <td>8</td>      <td>7</td>      <td>0</td>      <td>11</td>      <td>11</td>      <td>19</td>    </tr>    <tr>      <th>2</th>      <td>Denmark</td>      <td>4</td>      <td>10</td>      <td>10</td>      <td>50.0%</td>      <td>20.0%</td>      <td>27</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>10</td>      <td>66.7%</td>      <td>25</td>      <td>38</td>      <td>8</td>      <td>4</td>      <td>0</td>      <td>7</td>      <td>7</td>      <td>15</td>    </tr>    <tr>      <th>3</th>      <td>England</td>      <td>5</td>      <td>11</td>      <td>18</td>      <td>50.0%</td>      <td>17.2%</td>      <td>40</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>22</td>      <td>88.1%</td>      <td>43</td>      <td>45</td>      <td>6</td>      <td>5</td>      <td>0</td>      <td>11</td>      <td>11</td>      <td>16</td>    </tr>    <tr>      <th>4</th>      <td>France</td>      <td>3</td>      <td>22</td>      <td>24</td>      <td>37.9%</td>      <td>6.5%</td>      <td>65</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>6</td>      <td>54.6%</td>      <td>36</td>      <td>51</td>      <td>5</td>      <td>6</td>      <td>0</td>      <td>11</td>      <td>11</td>      <td>19</td>    </tr>  </tbody></table><p>5 rows × 35 columns</p></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12[<span class="string">'Goals'</span>]</span><br></pre></td></tr></table></figure></div><pre><code>0      41      42      43      54      35     106      57      68      29      210     611     112     513    1214     515     2Name: Goals, dtype: int64</code></pre><h2 id="有多少球队参与了2012欧洲杯？"><a href="#有多少球队参与了2012欧洲杯？" class="headerlink" title="有多少球队参与了2012欧洲杯？"></a>有多少球队参与了2012欧洲杯？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12[<span class="string">'Team'</span>].nunique()</span><br></pre></td></tr></table></figure></div><pre><code>16</code></pre><h2 id="该数据集中一共有多少列-columns"><a href="#该数据集中一共有多少列-columns" class="headerlink" title="该数据集中一共有多少列(columns)?"></a>该数据集中一共有多少列(columns)?</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12.shape[<span class="number">1</span>]</span><br></pre></td></tr></table></figure></div><pre><code>35</code></pre><h2 id="将数据集中的列Team-Yellow-Cards和Red-Cards单独存为一个名叫discipline的数据框"><a href="#将数据集中的列Team-Yellow-Cards和Red-Cards单独存为一个名叫discipline的数据框" class="headerlink" title="将数据集中的列Team, Yellow Cards和Red Cards单独存为一个名叫discipline的数据框"></a>将数据集中的列Team, Yellow Cards和Red Cards单独存为一个名叫discipline的数据框</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">discipline = euro12.loc[:,[<span class="string">'Team'</span>, <span class="string">'Yellow Cards'</span>, <span class="string">'Red Cards'</span>]]</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">discipline.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Yellow Cards</th>      <th>Red Cards</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Croatia</td>      <td>9</td>      <td>0</td>    </tr>    <tr>      <th>1</th>      <td>Czech Republic</td>      <td>7</td>      <td>0</td>    </tr>    <tr>      <th>2</th>      <td>Denmark</td>      <td>4</td>      <td>0</td>    </tr>    <tr>      <th>3</th>      <td>England</td>      <td>5</td>      <td>0</td>    </tr>    <tr>      <th>4</th>      <td>France</td>      <td>6</td>      <td>0</td>    </tr>  </tbody></table></div><h2 id="对数据框discipline按照先Red-Cards再Yellow-Cards进行排序"><a href="#对数据框discipline按照先Red-Cards再Yellow-Cards进行排序" class="headerlink" title="对数据框discipline按照先Red Cards再Yellow Cards进行排序"></a>对数据框discipline按照先Red Cards再Yellow Cards进行排序</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">discipline.sort_values(by=[<span class="string">'Red Cards'</span>, <span class="string">'Yellow Cards'</span>])</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Yellow Cards</th>      <th>Red Cards</th>    </tr>  </thead>  <tbody>    <tr>      <th>2</th>      <td>Denmark</td>      <td>4</td>      <td>0</td>    </tr>    <tr>      <th>5</th>      <td>Germany</td>      <td>4</td>      <td>0</td>    </tr>    <tr>      <th>3</th>      <td>England</td>      <td>5</td>      <td>0</td>    </tr>    <tr>      <th>8</th>      <td>Netherlands</td>      <td>5</td>      <td>0</td>    </tr>    <tr>      <th>15</th>      <td>Ukraine</td>      <td>5</td>      <td>0</td>    </tr>    <tr>      <th>4</th>      <td>France</td>      <td>6</td>      <td>0</td>    </tr>    <tr>      <th>12</th>      <td>Russia</td>      <td>6</td>      <td>0</td>    </tr>    <tr>      <th>1</th>      <td>Czech Republic</td>      <td>7</td>      <td>0</td>    </tr>    <tr>      <th>14</th>      <td>Sweden</td>      <td>7</td>      <td>0</td>    </tr>    <tr>      <th>0</th>      <td>Croatia</td>      <td>9</td>      <td>0</td>    </tr>    <tr>      <th>13</th>      <td>Spain</td>      <td>11</td>      <td>0</td>    </tr>    <tr>      <th>10</th>      <td>Portugal</td>      <td>12</td>      <td>0</td>    </tr>    <tr>      <th>7</th>      <td>Italy</td>      <td>16</td>      <td>0</td>    </tr>    <tr>      <th>11</th>      <td>Republic of Ireland</td>      <td>6</td>      <td>1</td>    </tr>    <tr>      <th>9</th>      <td>Poland</td>      <td>7</td>      <td>1</td>    </tr>    <tr>      <th>6</th>      <td>Greece</td>      <td>9</td>      <td>1</td>    </tr>  </tbody></table></div><h2 id="计算每个球队拿到的黄牌数的平均值"><a href="#计算每个球队拿到的黄牌数的平均值" class="headerlink" title="计算每个球队拿到的黄牌数的平均值"></a>计算每个球队拿到的黄牌数的平均值</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">discipline.groupby([<span class="string">'Team'</span>]).agg(&#123;<span class="string">'Yellow Cards'</span>:np.mean&#125;)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Yellow Cards</th>    </tr>    <tr>      <th>Team</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>Croatia</th>      <td>9</td>    </tr>    <tr>      <th>Czech Republic</th>      <td>7</td>    </tr>    <tr>      <th>Denmark</th>      <td>4</td>    </tr>    <tr>      <th>England</th>      <td>5</td>    </tr>    <tr>      <th>France</th>      <td>6</td>    </tr>    <tr>      <th>Germany</th>      <td>4</td>    </tr>    <tr>      <th>Greece</th>      <td>9</td>    </tr>    <tr>      <th>Italy</th>      <td>16</td>    </tr>    <tr>      <th>Netherlands</th>      <td>5</td>    </tr>    <tr>      <th>Poland</th>      <td>7</td>    </tr>    <tr>      <th>Portugal</th>      <td>12</td>    </tr>    <tr>      <th>Republic of Ireland</th>      <td>6</td>    </tr>    <tr>      <th>Russia</th>      <td>6</td>    </tr>    <tr>      <th>Spain</th>      <td>11</td>    </tr>    <tr>      <th>Sweden</th>      <td>7</td>    </tr>    <tr>      <th>Ukraine</th>      <td>5</td>    </tr>  </tbody></table></div><h2 id="找到进球数Goals超过6的球队数据"><a href="#找到进球数Goals超过6的球队数据" class="headerlink" title="找到进球数Goals超过6的球队数据"></a>找到进球数Goals超过6的球队数据</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12.loc[euro12.Goals&gt;<span class="number">6</span>, :]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Goals</th>      <th>Shots on target</th>      <th>Shots off target</th>      <th>Shooting Accuracy</th>      <th>% Goals-to-shots</th>      <th>Total shots (inc. Blocked)</th>      <th>Hit Woodwork</th>      <th>Penalty goals</th>      <th>Penalties not scored</th>      <th>...</th>      <th>Saves made</th>      <th>Saves-to-shots ratio</th>      <th>Fouls Won</th>      <th>Fouls Conceded</th>      <th>Offsides</th>      <th>Yellow Cards</th>      <th>Red Cards</th>      <th>Subs on</th>      <th>Subs off</th>      <th>Players Used</th>    </tr>  </thead>  <tbody>    <tr>      <th>5</th>      <td>Germany</td>      <td>10</td>      <td>32</td>      <td>32</td>      <td>47.8%</td>      <td>15.6%</td>      <td>80</td>      <td>2</td>      <td>1</td>      <td>0</td>      <td>...</td>      <td>10</td>      <td>62.6%</td>      <td>63</td>      <td>49</td>      <td>12</td>      <td>4</td>      <td>0</td>      <td>15</td>      <td>15</td>      <td>17</td>    </tr>    <tr>      <th>13</th>      <td>Spain</td>      <td>12</td>      <td>42</td>      <td>33</td>      <td>55.9%</td>      <td>16.0%</td>      <td>100</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>...</td>      <td>15</td>      <td>93.8%</td>      <td>102</td>      <td>83</td>      <td>19</td>      <td>11</td>      <td>0</td>      <td>17</td>      <td>17</td>      <td>18</td>    </tr>  </tbody></table><p>2 rows × 35 columns</p></div><h2 id="选取以字母G开头的球队数据"><a href="#选取以字母G开头的球队数据" class="headerlink" title="选取以字母G开头的球队数据"></a>选取以字母G开头的球队数据</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%timeit euro12.loc[euro12.loc[:, <span class="string">"Team"</span>].apply(<span class="keyword">lambda</span> x: x.startswith(<span class="string">"G"</span>))]</span><br></pre></td></tr></table></figure></div><pre><code>631 µs ± 7.93 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%timeit euro12[euro12.Team.str.startswith(<span class="string">'G'</span>)]</span><br></pre></td></tr></table></figure></div><pre><code>524 µs ± 3.51 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)</code></pre><h2 id="选取前7列"><a href="#选取前7列" class="headerlink" title="选取前7列"></a>选取前7列</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12.iloc[:, <span class="number">0</span>:<span class="number">7</span>]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Goals</th>      <th>Shots on target</th>      <th>Shots off target</th>      <th>Shooting Accuracy</th>      <th>% Goals-to-shots</th>      <th>Total shots (inc. Blocked)</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Croatia</td>      <td>4</td>      <td>13</td>      <td>12</td>      <td>51.9%</td>      <td>16.0%</td>      <td>32</td>    </tr>    <tr>      <th>1</th>      <td>Czech Republic</td>      <td>4</td>      <td>13</td>      <td>18</td>      <td>41.9%</td>      <td>12.9%</td>      <td>39</td>    </tr>    <tr>      <th>2</th>      <td>Denmark</td>      <td>4</td>      <td>10</td>      <td>10</td>      <td>50.0%</td>      <td>20.0%</td>      <td>27</td>    </tr>    <tr>      <th>3</th>      <td>England</td>      <td>5</td>      <td>11</td>      <td>18</td>      <td>50.0%</td>      <td>17.2%</td>      <td>40</td>    </tr>    <tr>      <th>4</th>      <td>France</td>      <td>3</td>      <td>22</td>      <td>24</td>      <td>37.9%</td>      <td>6.5%</td>      <td>65</td>    </tr>    <tr>      <th>5</th>      <td>Germany</td>      <td>10</td>      <td>32</td>      <td>32</td>      <td>47.8%</td>      <td>15.6%</td>      <td>80</td>    </tr>    <tr>      <th>6</th>      <td>Greece</td>      <td>5</td>      <td>8</td>      <td>18</td>      <td>30.7%</td>      <td>19.2%</td>      <td>32</td>    </tr>    <tr>      <th>7</th>      <td>Italy</td>      <td>6</td>      <td>34</td>      <td>45</td>      <td>43.0%</td>      <td>7.5%</td>      <td>110</td>    </tr>    <tr>      <th>8</th>      <td>Netherlands</td>      <td>2</td>      <td>12</td>      <td>36</td>      <td>25.0%</td>      <td>4.1%</td>      <td>60</td>    </tr>    <tr>      <th>9</th>      <td>Poland</td>      <td>2</td>      <td>15</td>      <td>23</td>      <td>39.4%</td>      <td>5.2%</td>      <td>48</td>    </tr>    <tr>      <th>10</th>      <td>Portugal</td>      <td>6</td>      <td>22</td>      <td>42</td>      <td>34.3%</td>      <td>9.3%</td>      <td>82</td>    </tr>    <tr>      <th>11</th>      <td>Republic of Ireland</td>      <td>1</td>      <td>7</td>      <td>12</td>      <td>36.8%</td>      <td>5.2%</td>      <td>28</td>    </tr>    <tr>      <th>12</th>      <td>Russia</td>      <td>5</td>      <td>9</td>      <td>31</td>      <td>22.5%</td>      <td>12.5%</td>      <td>59</td>    </tr>    <tr>      <th>13</th>      <td>Spain</td>      <td>12</td>      <td>42</td>      <td>33</td>      <td>55.9%</td>      <td>16.0%</td>      <td>100</td>    </tr>    <tr>      <th>14</th>      <td>Sweden</td>      <td>5</td>      <td>17</td>      <td>19</td>      <td>47.2%</td>      <td>13.8%</td>      <td>39</td>    </tr>    <tr>      <th>15</th>      <td>Ukraine</td>      <td>2</td>      <td>7</td>      <td>26</td>      <td>21.2%</td>      <td>6.0%</td>      <td>38</td>    </tr>  </tbody></table></div><h2 id="选取除了最后3列之外的全部列"><a href="#选取除了最后3列之外的全部列" class="headerlink" title="选取除了最后3列之外的全部列"></a>选取除了最后3列之外的全部列</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12.iloc[:, :<span class="number">-3</span>]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Goals</th>      <th>Shots on target</th>      <th>Shots off target</th>      <th>Shooting Accuracy</th>      <th>% Goals-to-shots</th>      <th>Total shots (inc. Blocked)</th>      <th>Hit Woodwork</th>      <th>Penalty goals</th>      <th>Penalties not scored</th>      <th>...</th>      <th>Clean Sheets</th>      <th>Blocks</th>      <th>Goals conceded</th>      <th>Saves made</th>      <th>Saves-to-shots ratio</th>      <th>Fouls Won</th>      <th>Fouls Conceded</th>      <th>Offsides</th>      <th>Yellow Cards</th>      <th>Red Cards</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Croatia</td>      <td>4</td>      <td>13</td>      <td>12</td>      <td>51.9%</td>      <td>16.0%</td>      <td>32</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>10</td>      <td>3</td>      <td>13</td>      <td>81.3%</td>      <td>41</td>      <td>62</td>      <td>2</td>      <td>9</td>      <td>0</td>    </tr>    <tr>      <th>1</th>      <td>Czech Republic</td>      <td>4</td>      <td>13</td>      <td>18</td>      <td>41.9%</td>      <td>12.9%</td>      <td>39</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>1</td>      <td>10</td>      <td>6</td>      <td>9</td>      <td>60.1%</td>      <td>53</td>      <td>73</td>      <td>8</td>      <td>7</td>      <td>0</td>    </tr>    <tr>      <th>2</th>      <td>Denmark</td>      <td>4</td>      <td>10</td>      <td>10</td>      <td>50.0%</td>      <td>20.0%</td>      <td>27</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>1</td>      <td>10</td>      <td>5</td>      <td>10</td>      <td>66.7%</td>      <td>25</td>      <td>38</td>      <td>8</td>      <td>4</td>      <td>0</td>    </tr>    <tr>      <th>3</th>      <td>England</td>      <td>5</td>      <td>11</td>      <td>18</td>      <td>50.0%</td>      <td>17.2%</td>      <td>40</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>2</td>      <td>29</td>      <td>3</td>      <td>22</td>      <td>88.1%</td>      <td>43</td>      <td>45</td>      <td>6</td>      <td>5</td>      <td>0</td>    </tr>    <tr>      <th>4</th>      <td>France</td>      <td>3</td>      <td>22</td>      <td>24</td>      <td>37.9%</td>      <td>6.5%</td>      <td>65</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>1</td>      <td>7</td>      <td>5</td>      <td>6</td>      <td>54.6%</td>      <td>36</td>      <td>51</td>      <td>5</td>      <td>6</td>      <td>0</td>    </tr>    <tr>      <th>5</th>      <td>Germany</td>      <td>10</td>      <td>32</td>      <td>32</td>      <td>47.8%</td>      <td>15.6%</td>      <td>80</td>      <td>2</td>      <td>1</td>      <td>0</td>      <td>...</td>      <td>1</td>      <td>11</td>      <td>6</td>      <td>10</td>      <td>62.6%</td>      <td>63</td>      <td>49</td>      <td>12</td>      <td>4</td>      <td>0</td>    </tr>    <tr>      <th>6</th>      <td>Greece</td>      <td>5</td>      <td>8</td>      <td>18</td>      <td>30.7%</td>      <td>19.2%</td>      <td>32</td>      <td>1</td>      <td>1</td>      <td>1</td>      <td>...</td>      <td>1</td>      <td>23</td>      <td>7</td>      <td>13</td>      <td>65.1%</td>      <td>67</td>      <td>48</td>      <td>12</td>      <td>9</td>      <td>1</td>    </tr>    <tr>      <th>7</th>      <td>Italy</td>      <td>6</td>      <td>34</td>      <td>45</td>      <td>43.0%</td>      <td>7.5%</td>      <td>110</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>2</td>      <td>18</td>      <td>7</td>      <td>20</td>      <td>74.1%</td>      <td>101</td>      <td>89</td>      <td>16</td>      <td>16</td>      <td>0</td>    </tr>    <tr>      <th>8</th>      <td>Netherlands</td>      <td>2</td>      <td>12</td>      <td>36</td>      <td>25.0%</td>      <td>4.1%</td>      <td>60</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>9</td>      <td>5</td>      <td>12</td>      <td>70.6%</td>      <td>35</td>      <td>30</td>      <td>3</td>      <td>5</td>      <td>0</td>    </tr>    <tr>      <th>9</th>      <td>Poland</td>      <td>2</td>      <td>15</td>      <td>23</td>      <td>39.4%</td>      <td>5.2%</td>      <td>48</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>8</td>      <td>3</td>      <td>6</td>      <td>66.7%</td>      <td>48</td>      <td>56</td>      <td>3</td>      <td>7</td>      <td>1</td>    </tr>    <tr>      <th>10</th>      <td>Portugal</td>      <td>6</td>      <td>22</td>      <td>42</td>      <td>34.3%</td>      <td>9.3%</td>      <td>82</td>      <td>6</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>2</td>      <td>11</td>      <td>4</td>      <td>10</td>      <td>71.5%</td>      <td>73</td>      <td>90</td>      <td>10</td>      <td>12</td>      <td>0</td>    </tr>    <tr>      <th>11</th>      <td>Republic of Ireland</td>      <td>1</td>      <td>7</td>      <td>12</td>      <td>36.8%</td>      <td>5.2%</td>      <td>28</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>23</td>      <td>9</td>      <td>17</td>      <td>65.4%</td>      <td>43</td>      <td>51</td>      <td>11</td>      <td>6</td>      <td>1</td>    </tr>    <tr>      <th>12</th>      <td>Russia</td>      <td>5</td>      <td>9</td>      <td>31</td>      <td>22.5%</td>      <td>12.5%</td>      <td>59</td>      <td>2</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>8</td>      <td>3</td>      <td>10</td>      <td>77.0%</td>      <td>34</td>      <td>43</td>      <td>4</td>      <td>6</td>      <td>0</td>    </tr>    <tr>      <th>13</th>      <td>Spain</td>      <td>12</td>      <td>42</td>      <td>33</td>      <td>55.9%</td>      <td>16.0%</td>      <td>100</td>      <td>0</td>      <td>1</td>      <td>0</td>      <td>...</td>      <td>5</td>      <td>8</td>      <td>1</td>      <td>15</td>      <td>93.8%</td>      <td>102</td>      <td>83</td>      <td>19</td>      <td>11</td>      <td>0</td>    </tr>    <tr>      <th>14</th>      <td>Sweden</td>      <td>5</td>      <td>17</td>      <td>19</td>      <td>47.2%</td>      <td>13.8%</td>      <td>39</td>      <td>3</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>1</td>      <td>12</td>      <td>5</td>      <td>8</td>      <td>61.6%</td>      <td>35</td>      <td>51</td>      <td>7</td>      <td>7</td>      <td>0</td>    </tr>    <tr>      <th>15</th>      <td>Ukraine</td>      <td>2</td>      <td>7</td>      <td>26</td>      <td>21.2%</td>      <td>6.0%</td>      <td>38</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>0</td>      <td>4</td>      <td>4</td>      <td>13</td>      <td>76.5%</td>      <td>48</td>      <td>31</td>      <td>4</td>      <td>5</td>      <td>0</td>    </tr>  </tbody></table><p>16 rows × 32 columns</p></div><h2 id="找到英格兰-England-、意大利-Italy-和俄罗斯-Russia-的射正率-Shooting-Accuracy"><a href="#找到英格兰-England-、意大利-Italy-和俄罗斯-Russia-的射正率-Shooting-Accuracy" class="headerlink" title="找到英格兰(England)、意大利(Italy)和俄罗斯(Russia)的射正率(Shooting Accuracy)"></a>找到英格兰(England)、意大利(Italy)和俄罗斯(Russia)的射正率(Shooting Accuracy)</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12[euro12.Team.isin([<span class="string">'England'</span>, <span class="string">'Italy'</span>, <span class="string">'Russia'</span>])].loc[:,[<span class="string">"Team"</span>, <span class="string">"Shooting Accuracy"</span>]]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Shooting Accuracy</th>    </tr>  </thead>  <tbody>    <tr>      <th>3</th>      <td>England</td>      <td>50.0%</td>    </tr>    <tr>      <th>7</th>      <td>Italy</td>      <td>43.0%</td>    </tr>    <tr>      <th>12</th>      <td>Russia</td>      <td>22.5%</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">euro12.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Goals</th>      <th>Shots on target</th>      <th>Shots off target</th>      <th>Shooting Accuracy</th>      <th>% Goals-to-shots</th>      <th>Total shots (inc. Blocked)</th>      <th>Hit Woodwork</th>      <th>Penalty goals</th>      <th>Penalties not scored</th>      <th>...</th>      <th>Saves made</th>      <th>Saves-to-shots ratio</th>      <th>Fouls Won</th>      <th>Fouls Conceded</th>      <th>Offsides</th>      <th>Yellow Cards</th>      <th>Red Cards</th>      <th>Subs on</th>      <th>Subs off</th>      <th>Players Used</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Croatia</td>      <td>4</td>      <td>13</td>      <td>12</td>      <td>51.9%</td>      <td>16.0%</td>      <td>32</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>13</td>      <td>81.3%</td>      <td>41</td>      <td>62</td>      <td>2</td>      <td>9</td>      <td>0</td>      <td>9</td>      <td>9</td>      <td>16</td>    </tr>    <tr>      <th>1</th>      <td>Czech Republic</td>      <td>4</td>      <td>13</td>      <td>18</td>      <td>41.9%</td>      <td>12.9%</td>      <td>39</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>9</td>      <td>60.1%</td>      <td>53</td>      <td>73</td>      <td>8</td>      <td>7</td>      <td>0</td>      <td>11</td>      <td>11</td>      <td>19</td>    </tr>    <tr>      <th>2</th>      <td>Denmark</td>      <td>4</td>      <td>10</td>      <td>10</td>      <td>50.0%</td>      <td>20.0%</td>      <td>27</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>10</td>      <td>66.7%</td>      <td>25</td>      <td>38</td>      <td>8</td>      <td>4</td>      <td>0</td>      <td>7</td>      <td>7</td>      <td>15</td>    </tr>    <tr>      <th>3</th>      <td>England</td>      <td>5</td>      <td>11</td>      <td>18</td>      <td>50.0%</td>      <td>17.2%</td>      <td>40</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>22</td>      <td>88.1%</td>      <td>43</td>      <td>45</td>      <td>6</td>      <td>5</td>      <td>0</td>      <td>11</td>      <td>11</td>      <td>16</td>    </tr>    <tr>      <th>4</th>      <td>France</td>      <td>3</td>      <td>22</td>      <td>24</td>      <td>37.9%</td>      <td>6.5%</td>      <td>65</td>      <td>1</td>      <td>0</td>      <td>0</td>      <td>...</td>      <td>6</td>      <td>54.6%</td>      <td>36</td>      <td>51</td>      <td>5</td>      <td>6</td>      <td>0</td>      <td>11</td>      <td>11</td>      <td>19</td>    </tr>  </tbody></table><p>5 rows × 35 columns</p></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">discipline.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Team</th>      <th>Yellow Cards</th>      <th>Red Cards</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Croatia</td>      <td>9</td>      <td>0</td>    </tr>    <tr>      <th>1</th>      <td>Czech Republic</td>      <td>7</td>      <td>0</td>    </tr>    <tr>      <th>2</th>      <td>Denmark</td>      <td>4</td>      <td>0</td>    </tr>    <tr>      <th>3</th>      <td>England</td>      <td>5</td>      <td>0</td>    </tr>    <tr>      <th>4</th>      <td>France</td>      <td>6</td>      <td>0</td>    </tr>  </tbody></table></div><h1 id="探索酒类消费数据-数据分类统计"><a href="#探索酒类消费数据-数据分类统计" class="headerlink" title="探索酒类消费数据(数据分类统计)"></a>探索酒类消费数据(数据分类统计)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks = pd.read_csv(<span class="string">'drinks.csv'</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.head(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>country</th>      <th>beer_servings</th>      <th>spirit_servings</th>      <th>wine_servings</th>      <th>total_litres_of_pure_alcohol</th>      <th>continent</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Afghanistan</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0.0</td>      <td>AS</td>    </tr>    <tr>      <th>1</th>      <td>Albania</td>      <td>89</td>      <td>132</td>      <td>54</td>      <td>4.9</td>      <td>EU</td>    </tr>    <tr>      <th>2</th>      <td>Algeria</td>      <td>25</td>      <td>0</td>      <td>14</td>      <td>0.7</td>      <td>AF</td>    </tr>    <tr>      <th>3</th>      <td>Andorra</td>      <td>245</td>      <td>138</td>      <td>312</td>      <td>12.4</td>      <td>EU</td>    </tr>    <tr>      <th>4</th>      <td>Angola</td>      <td>217</td>      <td>57</td>      <td>45</td>      <td>5.9</td>      <td>AF</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.describe()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>beer_servings</th>      <th>spirit_servings</th>      <th>wine_servings</th>      <th>total_litres_of_pure_alcohol</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>193.000000</td>      <td>193.000000</td>      <td>193.000000</td>      <td>193.000000</td>    </tr>    <tr>      <th>mean</th>      <td>106.160622</td>      <td>80.994819</td>      <td>49.450777</td>      <td>4.717098</td>    </tr>    <tr>      <th>std</th>      <td>101.143103</td>      <td>88.284312</td>      <td>79.697598</td>      <td>3.773298</td>    </tr>    <tr>      <th>min</th>      <td>0.000000</td>      <td>0.000000</td>      <td>0.000000</td>      <td>0.000000</td>    </tr>    <tr>      <th>25%</th>      <td>20.000000</td>      <td>4.000000</td>      <td>1.000000</td>      <td>1.300000</td>    </tr>    <tr>      <th>50%</th>      <td>76.000000</td>      <td>56.000000</td>      <td>8.000000</td>      <td>4.200000</td>    </tr>    <tr>      <th>75%</th>      <td>188.000000</td>      <td>128.000000</td>      <td>59.000000</td>      <td>7.200000</td>    </tr>    <tr>      <th>max</th>      <td>376.000000</td>      <td>438.000000</td>      <td>370.000000</td>      <td>14.400000</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.info()</span><br></pre></td></tr></table></figure></div><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 193 entries, 0 to 192Data columns (total 6 columns):country                         193 non-null objectbeer_servings                   193 non-null int64spirit_servings                 193 non-null int64wine_servings                   193 non-null int64total_litres_of_pure_alcohol    193 non-null float64continent                       170 non-null objectdtypes: float64(1), int64(3), object(2)memory usage: 9.2+ KB</code></pre><h2 id="哪个大陆-continent-平均消耗的啤酒-beer-更多？"><a href="#哪个大陆-continent-平均消耗的啤酒-beer-更多？" class="headerlink" title="哪个大陆(continent)平均消耗的啤酒(beer)更多？"></a>哪个大陆(continent)平均消耗的啤酒(beer)更多？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>country</th>      <th>beer_servings</th>      <th>spirit_servings</th>      <th>wine_servings</th>      <th>total_litres_of_pure_alcohol</th>      <th>continent</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Afghanistan</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0.0</td>      <td>AS</td>    </tr>    <tr>      <th>1</th>      <td>Albania</td>      <td>89</td>      <td>132</td>      <td>54</td>      <td>4.9</td>      <td>EU</td>    </tr>    <tr>      <th>2</th>      <td>Algeria</td>      <td>25</td>      <td>0</td>      <td>14</td>      <td>0.7</td>      <td>AF</td>    </tr>    <tr>      <th>3</th>      <td>Andorra</td>      <td>245</td>      <td>138</td>      <td>312</td>      <td>12.4</td>      <td>EU</td>    </tr>    <tr>      <th>4</th>      <td>Angola</td>      <td>217</td>      <td>57</td>      <td>45</td>      <td>5.9</td>      <td>AF</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.groupby(<span class="string">'continent'</span>).agg(&#123;<span class="string">'beer_servings'</span>:np.mean&#125;).sort_values(<span class="string">'beer_servings'</span>, ascending=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>beer_servings</th>    </tr>    <tr>      <th>continent</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>EU</th>      <td>193.777778</td>    </tr>    <tr>      <th>SA</th>      <td>175.083333</td>    </tr>    <tr>      <th>OC</th>      <td>89.687500</td>    </tr>    <tr>      <th>AF</th>      <td>61.471698</td>    </tr>    <tr>      <th>AS</th>      <td>37.045455</td>    </tr>  </tbody></table></div><h2 id="打印出每个大陆-continent-的红酒消耗-wine-servings-的描述性统计值"><a href="#打印出每个大陆-continent-的红酒消耗-wine-servings-的描述性统计值" class="headerlink" title="打印出每个大陆(continent)的红酒消耗(wine_servings)的描述性统计值"></a>打印出每个大陆(continent)的红酒消耗(wine_servings)的描述性统计值</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.loc[:, [<span class="string">'continent'</span>,<span class="string">'wine_servings'</span>]].groupby(<span class="string">'continent'</span>).describe()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead tr th {        text-align: left;    }    .dataframe thead tr:last-of-type th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="8" halign="left">wine_servings</th>    </tr>    <tr>      <th></th>      <th>count</th>      <th>mean</th>      <th>std</th>      <th>min</th>      <th>25%</th>      <th>50%</th>      <th>75%</th>      <th>max</th>    </tr>    <tr>      <th>continent</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>AF</th>      <td>53.0</td>      <td>16.264151</td>      <td>38.846419</td>      <td>0.0</td>      <td>1.0</td>      <td>2.0</td>      <td>13.00</td>      <td>233.0</td>    </tr>    <tr>      <th>AS</th>      <td>44.0</td>      <td>9.068182</td>      <td>21.667034</td>      <td>0.0</td>      <td>0.0</td>      <td>1.0</td>      <td>8.00</td>      <td>123.0</td>    </tr>    <tr>      <th>EU</th>      <td>45.0</td>      <td>142.222222</td>      <td>97.421738</td>      <td>0.0</td>      <td>59.0</td>      <td>128.0</td>      <td>195.00</td>      <td>370.0</td>    </tr>    <tr>      <th>OC</th>      <td>16.0</td>      <td>35.625000</td>      <td>64.555790</td>      <td>0.0</td>      <td>1.0</td>      <td>8.5</td>      <td>23.25</td>      <td>212.0</td>    </tr>    <tr>      <th>SA</th>      <td>12.0</td>      <td>62.416667</td>      <td>88.620189</td>      <td>1.0</td>      <td>3.0</td>      <td>12.0</td>      <td>98.50</td>      <td>221.0</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%timeit drinks.loc[:, [<span class="string">'continent'</span>,<span class="string">'wine_servings'</span>]].groupby(<span class="string">'continent'</span>).describe()</span><br></pre></td></tr></table></figure></div><pre><code>21 ms ± 577 µs per loop (mean ± std. dev. of 7 runs, 10 loops each)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.groupby(<span class="string">'continent'</span>).wine_servings.describe()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>count</th>      <th>mean</th>      <th>std</th>      <th>min</th>      <th>25%</th>      <th>50%</th>      <th>75%</th>      <th>max</th>    </tr>    <tr>      <th>continent</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>AF</th>      <td>53.0</td>      <td>16.264151</td>      <td>38.846419</td>      <td>0.0</td>      <td>1.0</td>      <td>2.0</td>      <td>13.00</td>      <td>233.0</td>    </tr>    <tr>      <th>AS</th>      <td>44.0</td>      <td>9.068182</td>      <td>21.667034</td>      <td>0.0</td>      <td>0.0</td>      <td>1.0</td>      <td>8.00</td>      <td>123.0</td>    </tr>    <tr>      <th>EU</th>      <td>45.0</td>      <td>142.222222</td>      <td>97.421738</td>      <td>0.0</td>      <td>59.0</td>      <td>128.0</td>      <td>195.00</td>      <td>370.0</td>    </tr>    <tr>      <th>OC</th>      <td>16.0</td>      <td>35.625000</td>      <td>64.555790</td>      <td>0.0</td>      <td>1.0</td>      <td>8.5</td>      <td>23.25</td>      <td>212.0</td>    </tr>    <tr>      <th>SA</th>      <td>12.0</td>      <td>62.416667</td>      <td>88.620189</td>      <td>1.0</td>      <td>3.0</td>      <td>12.0</td>      <td>98.50</td>      <td>221.0</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%timeit drinks.groupby(<span class="string">'continent'</span>).wine_servings.describe()</span><br></pre></td></tr></table></figure></div><pre><code>9.78 ms ± 292 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.groupby(<span class="string">'continent'</span>).agg(&#123;<span class="string">'wine_servings'</span>: <span class="string">'describe'</span>&#125;)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead tr th {        text-align: left;    }    .dataframe thead tr:last-of-type th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="8" halign="left">wine_servings</th>    </tr>    <tr>      <th></th>      <th>count</th>      <th>mean</th>      <th>std</th>      <th>min</th>      <th>25%</th>      <th>50%</th>      <th>75%</th>      <th>max</th>    </tr>    <tr>      <th>continent</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>AF</th>      <td>53.0</td>      <td>16.264151</td>      <td>38.846419</td>      <td>0.0</td>      <td>1.0</td>      <td>2.0</td>      <td>13.00</td>      <td>233.0</td>    </tr>    <tr>      <th>AS</th>      <td>44.0</td>      <td>9.068182</td>      <td>21.667034</td>      <td>0.0</td>      <td>0.0</td>      <td>1.0</td>      <td>8.00</td>      <td>123.0</td>    </tr>    <tr>      <th>EU</th>      <td>45.0</td>      <td>142.222222</td>      <td>97.421738</td>      <td>0.0</td>      <td>59.0</td>      <td>128.0</td>      <td>195.00</td>      <td>370.0</td>    </tr>    <tr>      <th>OC</th>      <td>16.0</td>      <td>35.625000</td>      <td>64.555790</td>      <td>0.0</td>      <td>1.0</td>      <td>8.5</td>      <td>23.25</td>      <td>212.0</td>    </tr>    <tr>      <th>SA</th>      <td>12.0</td>      <td>62.416667</td>      <td>88.620189</td>      <td>1.0</td>      <td>3.0</td>      <td>12.0</td>      <td>98.50</td>      <td>221.0</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%timeit drinks.groupby(<span class="string">'continent'</span>).agg(&#123;<span class="string">'wine_servings'</span>: <span class="string">'describe'</span>&#125;)</span><br></pre></td></tr></table></figure></div><pre><code>10.6 ms ± 80.9 µs per loop (mean ± std. dev. of 7 runs, 100 loops each)</code></pre><h2 id="打印出每个大陆每种酒类别的消耗平均值"><a href="#打印出每个大陆每种酒类别的消耗平均值" class="headerlink" title="打印出每个大陆每种酒类别的消耗平均值"></a>打印出每个大陆每种酒类别的消耗平均值</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>country</th>      <th>beer_servings</th>      <th>spirit_servings</th>      <th>wine_servings</th>      <th>total_litres_of_pure_alcohol</th>      <th>continent</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Afghanistan</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0.0</td>      <td>AS</td>    </tr>    <tr>      <th>1</th>      <td>Albania</td>      <td>89</td>      <td>132</td>      <td>54</td>      <td>4.9</td>      <td>EU</td>    </tr>    <tr>      <th>2</th>      <td>Algeria</td>      <td>25</td>      <td>0</td>      <td>14</td>      <td>0.7</td>      <td>AF</td>    </tr>    <tr>      <th>3</th>      <td>Andorra</td>      <td>245</td>      <td>138</td>      <td>312</td>      <td>12.4</td>      <td>EU</td>    </tr>    <tr>      <th>4</th>      <td>Angola</td>      <td>217</td>      <td>57</td>      <td>45</td>      <td>5.9</td>      <td>AF</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.groupby(<span class="string">'continent'</span>).mean()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>beer_servings</th>      <th>spirit_servings</th>      <th>wine_servings</th>      <th>total_litres_of_pure_alcohol</th>    </tr>    <tr>      <th>continent</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>AF</th>      <td>61.471698</td>      <td>16.339623</td>      <td>16.264151</td>      <td>3.007547</td>    </tr>    <tr>      <th>AS</th>      <td>37.045455</td>      <td>60.840909</td>      <td>9.068182</td>      <td>2.170455</td>    </tr>    <tr>      <th>EU</th>      <td>193.777778</td>      <td>132.555556</td>      <td>142.222222</td>      <td>8.617778</td>    </tr>    <tr>      <th>OC</th>      <td>89.687500</td>      <td>58.437500</td>      <td>35.625000</td>      <td>3.381250</td>    </tr>    <tr>      <th>SA</th>      <td>175.083333</td>      <td>114.750000</td>      <td>62.416667</td>      <td>6.308333</td>    </tr>  </tbody></table></div><h2 id="打印出每个大陆每种酒类别的消耗中位数"><a href="#打印出每个大陆每种酒类别的消耗中位数" class="headerlink" title="打印出每个大陆每种酒类别的消耗中位数"></a>打印出每个大陆每种酒类别的消耗中位数</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.groupby(<span class="string">'continent'</span>).median()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>beer_servings</th>      <th>spirit_servings</th>      <th>wine_servings</th>      <th>total_litres_of_pure_alcohol</th>    </tr>    <tr>      <th>continent</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>AF</th>      <td>32.0</td>      <td>3.0</td>      <td>2.0</td>      <td>2.30</td>    </tr>    <tr>      <th>AS</th>      <td>17.5</td>      <td>16.0</td>      <td>1.0</td>      <td>1.20</td>    </tr>    <tr>      <th>EU</th>      <td>219.0</td>      <td>122.0</td>      <td>128.0</td>      <td>10.00</td>    </tr>    <tr>      <th>OC</th>      <td>52.5</td>      <td>37.0</td>      <td>8.5</td>      <td>1.75</td>    </tr>    <tr>      <th>SA</th>      <td>162.5</td>      <td>108.5</td>      <td>12.0</td>      <td>6.85</td>    </tr>  </tbody></table></div><h2 id="打印出每个大陆对spirit饮品消耗的平均值，最大值和最小值¶"><a href="#打印出每个大陆对spirit饮品消耗的平均值，最大值和最小值¶" class="headerlink" title="打印出每个大陆对spirit饮品消耗的平均值，最大值和最小值¶"></a>打印出每个大陆对spirit饮品消耗的平均值，最大值和最小值¶</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>country</th>      <th>beer_servings</th>      <th>spirit_servings</th>      <th>wine_servings</th>      <th>total_litres_of_pure_alcohol</th>      <th>continent</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Afghanistan</td>      <td>0</td>      <td>0</td>      <td>0</td>      <td>0.0</td>      <td>AS</td>    </tr>    <tr>      <th>1</th>      <td>Albania</td>      <td>89</td>      <td>132</td>      <td>54</td>      <td>4.9</td>      <td>EU</td>    </tr>    <tr>      <th>2</th>      <td>Algeria</td>      <td>25</td>      <td>0</td>      <td>14</td>      <td>0.7</td>      <td>AF</td>    </tr>    <tr>      <th>3</th>      <td>Andorra</td>      <td>245</td>      <td>138</td>      <td>312</td>      <td>12.4</td>      <td>EU</td>    </tr>    <tr>      <th>4</th>      <td>Angola</td>      <td>217</td>      <td>57</td>      <td>45</td>      <td>5.9</td>      <td>AF</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drinks.groupby(<span class="string">'continent'</span>).agg(&#123;<span class="string">'spirit_servings'</span>:[<span class="string">'mean'</span>,<span class="string">'min'</span>,<span class="string">'max'</span>]&#125;)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead tr th {        text-align: left;    }    .dataframe thead tr:last-of-type th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="3" halign="left">spirit_servings</th>    </tr>    <tr>      <th></th>      <th>mean</th>      <th>min</th>      <th>max</th>    </tr>    <tr>      <th>continent</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>AF</th>      <td>16.339623</td>      <td>0</td>      <td>152</td>    </tr>    <tr>      <th>AS</th>      <td>60.840909</td>      <td>0</td>      <td>326</td>    </tr>    <tr>      <th>EU</th>      <td>132.555556</td>      <td>0</td>      <td>373</td>    </tr>    <tr>      <th>OC</th>      <td>58.437500</td>      <td>0</td>      <td>254</td>    </tr>    <tr>      <th>SA</th>      <td>114.750000</td>      <td>25</td>      <td>302</td>    </tr>  </tbody></table></div><h1 id="探索1960-2014-美国犯罪数据-apply函数"><a href="#探索1960-2014-美国犯罪数据-apply函数" class="headerlink" title="探索1960 - 2014 美国犯罪数据(apply函数)"></a>探索1960 - 2014 美国犯罪数据(apply函数)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crime = pd.read_csv(<span class="string">'US_Crime_Rates_1960_2014.csv'</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crime.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Year</th>      <th>Population</th>      <th>Total</th>      <th>Violent</th>      <th>Property</th>      <th>Murder</th>      <th>Forcible_Rape</th>      <th>Robbery</th>      <th>Aggravated_assault</th>      <th>Burglary</th>      <th>Larceny_Theft</th>      <th>Vehicle_Theft</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1960</td>      <td>179323175</td>      <td>3384200</td>      <td>288460</td>      <td>3095700</td>      <td>9110</td>      <td>17190</td>      <td>107840</td>      <td>154320</td>      <td>912100</td>      <td>1855400</td>      <td>328200</td>    </tr>    <tr>      <th>1</th>      <td>1961</td>      <td>182992000</td>      <td>3488000</td>      <td>289390</td>      <td>3198600</td>      <td>8740</td>      <td>17220</td>      <td>106670</td>      <td>156760</td>      <td>949600</td>      <td>1913000</td>      <td>336000</td>    </tr>    <tr>      <th>2</th>      <td>1962</td>      <td>185771000</td>      <td>3752200</td>      <td>301510</td>      <td>3450700</td>      <td>8530</td>      <td>17550</td>      <td>110860</td>      <td>164570</td>      <td>994300</td>      <td>2089600</td>      <td>366800</td>    </tr>    <tr>      <th>3</th>      <td>1963</td>      <td>188483000</td>      <td>4109500</td>      <td>316970</td>      <td>3792500</td>      <td>8640</td>      <td>17650</td>      <td>116470</td>      <td>174210</td>      <td>1086400</td>      <td>2297800</td>      <td>408300</td>    </tr>    <tr>      <th>4</th>      <td>1964</td>      <td>191141000</td>      <td>4564600</td>      <td>364220</td>      <td>4200400</td>      <td>9360</td>      <td>21420</td>      <td>130390</td>      <td>203050</td>      <td>1213200</td>      <td>2514400</td>      <td>472800</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crime.info()</span><br></pre></td></tr></table></figure></div><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 55 entries, 0 to 54Data columns (total 12 columns):Year                  55 non-null int64Population            55 non-null int64Total                 55 non-null int64Violent               55 non-null int64Property              55 non-null int64Murder                55 non-null int64Forcible_Rape         55 non-null int64Robbery               55 non-null int64Aggravated_assault    55 non-null int64Burglary              55 non-null int64Larceny_Theft         55 non-null int64Vehicle_Theft         55 non-null int64dtypes: int64(12)memory usage: 5.3 KB</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crime.describe()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Year</th>      <th>Population</th>      <th>Total</th>      <th>Violent</th>      <th>Property</th>      <th>Murder</th>      <th>Forcible_Rape</th>      <th>Robbery</th>      <th>Aggravated_assault</th>      <th>Burglary</th>      <th>Larceny_Theft</th>      <th>Vehicle_Theft</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>55.00000</td>      <td>5.500000e+01</td>      <td>5.500000e+01</td>      <td>5.500000e+01</td>      <td>5.500000e+01</td>      <td>55.000000</td>      <td>55.000000</td>      <td>55.000000</td>      <td>5.500000e+01</td>      <td>5.500000e+01</td>      <td>5.500000e+01</td>      <td>5.500000e+01</td>    </tr>    <tr>      <th>mean</th>      <td>1987.00000</td>      <td>2.461556e+08</td>      <td>1.060315e+07</td>      <td>1.188806e+06</td>      <td>9.412499e+06</td>      <td>17317.236364</td>      <td>72714.800000</td>      <td>416449.890909</td>      <td>6.811818e+05</td>      <td>2.424017e+06</td>      <td>5.959947e+06</td>      <td>1.028614e+06</td>    </tr>    <tr>      <th>std</th>      <td>16.02082</td>      <td>4.166216e+07</td>      <td>3.175931e+06</td>      <td>4.597107e+05</td>      <td>2.738512e+06</td>      <td>4267.442664</td>      <td>28278.006893</td>      <td>150506.403782</td>      <td>2.960255e+05</td>      <td>7.259004e+05</td>      <td>1.846401e+06</td>      <td>3.455693e+05</td>    </tr>    <tr>      <th>min</th>      <td>1960.00000</td>      <td>1.793232e+08</td>      <td>3.384200e+06</td>      <td>2.884600e+05</td>      <td>3.095700e+06</td>      <td>8530.000000</td>      <td>17190.000000</td>      <td>106670.000000</td>      <td>1.543200e+05</td>      <td>9.121000e+05</td>      <td>1.855400e+06</td>      <td>3.282000e+05</td>    </tr>    <tr>      <th>25%</th>      <td>1973.50000</td>      <td>2.106215e+08</td>      <td>9.096958e+06</td>      <td>9.253150e+05</td>      <td>8.060014e+06</td>      <td>14819.000000</td>      <td>53400.000000</td>      <td>354911.500000</td>      <td>4.384300e+05</td>      <td>2.105336e+06</td>      <td>4.843350e+06</td>      <td>7.896260e+05</td>    </tr>    <tr>      <th>50%</th>      <td>1987.00000</td>      <td>2.422829e+08</td>      <td>1.140151e+07</td>      <td>1.322390e+06</td>      <td>1.018259e+07</td>      <td>17030.000000</td>      <td>84230.000000</td>      <td>423557.000000</td>      <td>7.412910e+05</td>      <td>2.329950e+06</td>      <td>6.591900e+06</td>      <td>1.032200e+06</td>    </tr>    <tr>      <th>75%</th>      <td>2000.50000</td>      <td>2.833697e+08</td>      <td>1.308449e+07</td>      <td>1.432762e+06</td>      <td>1.160509e+07</td>      <td>20561.500000</td>      <td>92930.000000</td>      <td>512137.000000</td>      <td>9.002150e+05</td>      <td>3.073600e+06</td>      <td>7.168450e+06</td>      <td>1.239302e+06</td>    </tr>    <tr>      <th>max</th>      <td>2014.00000</td>      <td>3.188571e+08</td>      <td>1.487290e+07</td>      <td>1.932270e+06</td>      <td>1.296110e+07</td>      <td>24700.000000</td>      <td>109060.000000</td>      <td>687730.000000</td>      <td>1.135610e+06</td>      <td>3.795200e+06</td>      <td>8.142200e+06</td>      <td>1.661700e+06</td>    </tr>  </tbody></table></div><h2 id="将Year的数据类型转换为-datetime64"><a href="#将Year的数据类型转换为-datetime64" class="headerlink" title="将Year的数据类型转换为 datetime64"></a>将Year的数据类型转换为 datetime64</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crime.Year = pd.to_datetime(crime.Year, format=<span class="string">'%Y'</span>)</span><br><span class="line">crime.info()</span><br></pre></td></tr></table></figure></div><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 55 entries, 0 to 54Data columns (total 12 columns):Year                  55 non-null datetime64[ns]Population            55 non-null int64Total                 55 non-null int64Violent               55 non-null int64Property              55 non-null int64Murder                55 non-null int64Forcible_Rape         55 non-null int64Robbery               55 non-null int64Aggravated_assault    55 non-null int64Burglary              55 non-null int64Larceny_Theft         55 non-null int64Vehicle_Theft         55 non-null int64dtypes: datetime64[ns](1), int64(11)memory usage: 5.3 KB</code></pre><h2 id="将列Year设置为数据框的索引"><a href="#将列Year设置为数据框的索引" class="headerlink" title="将列Year设置为数据框的索引"></a>将列Year设置为数据框的索引</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">crime.set_index(<span class="string">'Year'</span>, inplace=<span class="literal">True</span>)</span><br><span class="line">crime.head(<span class="number">5</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Population</th>      <th>Total</th>      <th>Violent</th>      <th>Property</th>      <th>Murder</th>      <th>Forcible_Rape</th>      <th>Robbery</th>      <th>Aggravated_assault</th>      <th>Burglary</th>      <th>Larceny_Theft</th>      <th>Vehicle_Theft</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1960-01-01</th>      <td>179323175</td>      <td>3384200</td>      <td>288460</td>      <td>3095700</td>      <td>9110</td>      <td>17190</td>      <td>107840</td>      <td>154320</td>      <td>912100</td>      <td>1855400</td>      <td>328200</td>    </tr>    <tr>      <th>1961-01-01</th>      <td>182992000</td>      <td>3488000</td>      <td>289390</td>      <td>3198600</td>      <td>8740</td>      <td>17220</td>      <td>106670</td>      <td>156760</td>      <td>949600</td>      <td>1913000</td>      <td>336000</td>    </tr>    <tr>      <th>1962-01-01</th>      <td>185771000</td>      <td>3752200</td>      <td>301510</td>      <td>3450700</td>      <td>8530</td>      <td>17550</td>      <td>110860</td>      <td>164570</td>      <td>994300</td>      <td>2089600</td>      <td>366800</td>    </tr>    <tr>      <th>1963-01-01</th>      <td>188483000</td>      <td>4109500</td>      <td>316970</td>      <td>3792500</td>      <td>8640</td>      <td>17650</td>      <td>116470</td>      <td>174210</td>      <td>1086400</td>      <td>2297800</td>      <td>408300</td>    </tr>    <tr>      <th>1964-01-01</th>      <td>191141000</td>      <td>4564600</td>      <td>364220</td>      <td>4200400</td>      <td>9360</td>      <td>21420</td>      <td>130390</td>      <td>203050</td>      <td>1213200</td>      <td>2514400</td>      <td>472800</td>    </tr>  </tbody></table></div><p>删除名为Total的列</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crime.drop([<span class="string">'Total'</span>],axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crime.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Population</th>      <th>Violent</th>      <th>Property</th>      <th>Murder</th>      <th>Forcible_Rape</th>      <th>Robbery</th>      <th>Aggravated_assault</th>      <th>Burglary</th>      <th>Larceny_Theft</th>      <th>Vehicle_Theft</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1960-01-01</th>      <td>179323175</td>      <td>288460</td>      <td>3095700</td>      <td>9110</td>      <td>17190</td>      <td>107840</td>      <td>154320</td>      <td>912100</td>      <td>1855400</td>      <td>328200</td>    </tr>    <tr>      <th>1961-01-01</th>      <td>182992000</td>      <td>289390</td>      <td>3198600</td>      <td>8740</td>      <td>17220</td>      <td>106670</td>      <td>156760</td>      <td>949600</td>      <td>1913000</td>      <td>336000</td>    </tr>    <tr>      <th>1962-01-01</th>      <td>185771000</td>      <td>301510</td>      <td>3450700</td>      <td>8530</td>      <td>17550</td>      <td>110860</td>      <td>164570</td>      <td>994300</td>      <td>2089600</td>      <td>366800</td>    </tr>    <tr>      <th>1963-01-01</th>      <td>188483000</td>      <td>316970</td>      <td>3792500</td>      <td>8640</td>      <td>17650</td>      <td>116470</td>      <td>174210</td>      <td>1086400</td>      <td>2297800</td>      <td>408300</td>    </tr>    <tr>      <th>1964-01-01</th>      <td>191141000</td>      <td>364220</td>      <td>4200400</td>      <td>9360</td>      <td>21420</td>      <td>130390</td>      <td>203050</td>      <td>1213200</td>      <td>2514400</td>      <td>472800</td>    </tr>  </tbody></table></div><p>按照Year对数据框进行10年的采样并求和</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">crimes = crime.resample(<span class="string">'10AS'</span>).sum()</span><br><span class="line"><span class="comment"># 用resample去得到“Population”列的最大值</span></span><br><span class="line">population = crime[<span class="string">'Population'</span>].resample(<span class="string">'10AS'</span>).max()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新 "Population" </span></span><br><span class="line">crimes[<span class="string">'Population'</span>] = population</span><br><span class="line"></span><br><span class="line">crimes</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Population</th>      <th>Violent</th>      <th>Property</th>      <th>Murder</th>      <th>Forcible_Rape</th>      <th>Robbery</th>      <th>Aggravated_assault</th>      <th>Burglary</th>      <th>Larceny_Theft</th>      <th>Vehicle_Theft</th>    </tr>    <tr>      <th>Year</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1960-01-01</th>      <td>201385000</td>      <td>4134930</td>      <td>45160900</td>      <td>106180</td>      <td>236720</td>      <td>1633510</td>      <td>2158520</td>      <td>13321100</td>      <td>26547700</td>      <td>5292100</td>    </tr>    <tr>      <th>1970-01-01</th>      <td>220099000</td>      <td>9607930</td>      <td>91383800</td>      <td>192230</td>      <td>554570</td>      <td>4159020</td>      <td>4702120</td>      <td>28486000</td>      <td>53157800</td>      <td>9739900</td>    </tr>    <tr>      <th>1980-01-01</th>      <td>248239000</td>      <td>14074328</td>      <td>117048900</td>      <td>206439</td>      <td>865639</td>      <td>5383109</td>      <td>7619130</td>      <td>33073494</td>      <td>72040253</td>      <td>11935411</td>    </tr>    <tr>      <th>1990-01-01</th>      <td>272690813</td>      <td>17527048</td>      <td>119053499</td>      <td>211664</td>      <td>998827</td>      <td>5748930</td>      <td>10568963</td>      <td>26750015</td>      <td>77679366</td>      <td>14624418</td>    </tr>    <tr>      <th>2000-01-01</th>      <td>307006550</td>      <td>13968056</td>      <td>100944369</td>      <td>163068</td>      <td>922499</td>      <td>4230366</td>      <td>8652124</td>      <td>21565176</td>      <td>67970291</td>      <td>11412834</td>    </tr>    <tr>      <th>2010-01-01</th>      <td>318857056</td>      <td>6072017</td>      <td>44095950</td>      <td>72867</td>      <td>421059</td>      <td>1749809</td>      <td>3764142</td>      <td>10125170</td>      <td>30401698</td>      <td>3569080</td>    </tr>  </tbody></table></div><h2 id="何时是美国历史上生存最危险的年代？"><a href="#何时是美国历史上生存最危险的年代？" class="headerlink" title="何时是美国历史上生存最危险的年代？"></a>何时是美国历史上生存最危险的年代？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">crime.idxmax()</span><br></pre></td></tr></table></figure></div><pre><code>Population           2014-01-01Violent              1992-01-01Property             1991-01-01Murder               1991-01-01Forcible_Rape        1992-01-01Robbery              1991-01-01Aggravated_assault   1993-01-01Burglary             1980-01-01Larceny_Theft        1991-01-01Vehicle_Theft        1991-01-01dtype: datetime64[ns]</code></pre><h1 id="探索虚拟姓名数据-数据整合"><a href="#探索虚拟姓名数据-数据整合" class="headerlink" title="探索虚拟姓名数据(数据整合)"></a>探索虚拟姓名数据(数据整合)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行以下代码</span></span><br><span class="line">raw_data_1 = &#123;</span><br><span class="line">        <span class="string">'subject_id'</span>: [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>],</span><br><span class="line">        <span class="string">'first_name'</span>: [<span class="string">'Alex'</span>, <span class="string">'Amy'</span>, <span class="string">'Allen'</span>, <span class="string">'Alice'</span>, <span class="string">'Ayoung'</span>], </span><br><span class="line">        <span class="string">'last_name'</span>: [<span class="string">'Anderson'</span>, <span class="string">'Ackerman'</span>, <span class="string">'Ali'</span>, <span class="string">'Aoni'</span>, <span class="string">'Atiches'</span>]&#125;</span><br><span class="line"></span><br><span class="line">raw_data_2 = &#123;</span><br><span class="line">        <span class="string">'subject_id'</span>: [<span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>],</span><br><span class="line">        <span class="string">'first_name'</span>: [<span class="string">'Billy'</span>, <span class="string">'Brian'</span>, <span class="string">'Bran'</span>, <span class="string">'Bryce'</span>, <span class="string">'Betty'</span>], </span><br><span class="line">        <span class="string">'last_name'</span>: [<span class="string">'Bonder'</span>, <span class="string">'Black'</span>, <span class="string">'Balwner'</span>, <span class="string">'Brice'</span>, <span class="string">'Btisan'</span>]&#125;</span><br><span class="line"></span><br><span class="line">raw_data_3 = &#123;</span><br><span class="line">        <span class="string">'subject_id'</span>: [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>, <span class="string">'10'</span>, <span class="string">'11'</span>],</span><br><span class="line">        <span class="string">'test_id'</span>: [<span class="number">51</span>, <span class="number">15</span>, <span class="number">15</span>, <span class="number">61</span>, <span class="number">16</span>, <span class="number">14</span>, <span class="number">15</span>, <span class="number">1</span>, <span class="number">61</span>, <span class="number">16</span>]&#125;</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行以下代码</span></span><br><span class="line">data1 = pd.DataFrame(raw_data_1, columns = [<span class="string">'subject_id'</span>, <span class="string">'first_name'</span>, <span class="string">'last_name'</span>])</span><br><span class="line">data2 = pd.DataFrame(raw_data_2, columns = [<span class="string">'subject_id'</span>, <span class="string">'first_name'</span>, <span class="string">'last_name'</span>])</span><br><span class="line">data3 = pd.DataFrame(raw_data_3, columns = [<span class="string">'subject_id'</span>,<span class="string">'test_id'</span>])</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>first_name</th>      <th>last_name</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>Alex</td>      <td>Anderson</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>Amy</td>      <td>Ackerman</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>Allen</td>      <td>Ali</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>Alice</td>      <td>Aoni</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>Ayoung</td>      <td>Atiches</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data2</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>first_name</th>      <th>last_name</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>4</td>      <td>Billy</td>      <td>Bonder</td>    </tr>    <tr>      <th>1</th>      <td>5</td>      <td>Brian</td>      <td>Black</td>    </tr>    <tr>      <th>2</th>      <td>6</td>      <td>Bran</td>      <td>Balwner</td>    </tr>    <tr>      <th>3</th>      <td>7</td>      <td>Bryce</td>      <td>Brice</td>    </tr>    <tr>      <th>4</th>      <td>8</td>      <td>Betty</td>      <td>Btisan</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data3</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>test_id</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>51</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>15</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>15</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>61</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>16</td>    </tr>    <tr>      <th>5</th>      <td>7</td>      <td>14</td>    </tr>    <tr>      <th>6</th>      <td>8</td>      <td>15</td>    </tr>    <tr>      <th>7</th>      <td>9</td>      <td>1</td>    </tr>    <tr>      <th>8</th>      <td>10</td>      <td>61</td>    </tr>    <tr>      <th>9</th>      <td>11</td>      <td>16</td>    </tr>  </tbody></table></div><h2 id="将data1和data2两个数据框按照行的维度进行合并，命名为all-data"><a href="#将data1和data2两个数据框按照行的维度进行合并，命名为all-data" class="headerlink" title="将data1和data2两个数据框按照行的维度进行合并，命名为all_data"></a>将data1和data2两个数据框按照行的维度进行合并，命名为all_data</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_data = pd.concat([data1, data2], axis=<span class="number">0</span>)</span><br><span class="line">all_data</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>first_name</th>      <th>last_name</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>Alex</td>      <td>Anderson</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>Amy</td>      <td>Ackerman</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>Allen</td>      <td>Ali</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>Alice</td>      <td>Aoni</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>Ayoung</td>      <td>Atiches</td>    </tr>    <tr>      <th>0</th>      <td>4</td>      <td>Billy</td>      <td>Bonder</td>    </tr>    <tr>      <th>1</th>      <td>5</td>      <td>Brian</td>      <td>Black</td>    </tr>    <tr>      <th>2</th>      <td>6</td>      <td>Bran</td>      <td>Balwner</td>    </tr>    <tr>      <th>3</th>      <td>7</td>      <td>Bryce</td>      <td>Brice</td>    </tr>    <tr>      <th>4</th>      <td>8</td>      <td>Betty</td>      <td>Btisan</td>    </tr>  </tbody></table></div><p>将data1和data2两个数据框按照列的维度进行合并，命名为all_data_col</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">all_data_col = pd.concat([data1, data2], axis=<span class="number">1</span>)</span><br><span class="line">all_data_col</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>first_name</th>      <th>last_name</th>      <th>subject_id</th>      <th>first_name</th>      <th>last_name</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>Alex</td>      <td>Anderson</td>      <td>4</td>      <td>Billy</td>      <td>Bonder</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>Amy</td>      <td>Ackerman</td>      <td>5</td>      <td>Brian</td>      <td>Black</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>Allen</td>      <td>Ali</td>      <td>6</td>      <td>Bran</td>      <td>Balwner</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>Alice</td>      <td>Aoni</td>      <td>7</td>      <td>Bryce</td>      <td>Brice</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>Ayoung</td>      <td>Atiches</td>      <td>8</td>      <td>Betty</td>      <td>Btisan</td>    </tr>  </tbody></table></div><h2 id="按照subject-id的值对all-data和data3作合并"><a href="#按照subject-id的值对all-data和data3作合并" class="headerlink" title="按照subject_id的值对all_data和data3作合并"></a>按照subject_id的值对all_data和data3作合并</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">pd.merge(all_data, data3, on=<span class="string">'subject_id'</span>)</span><br></pre></td></tr></table></figure></div><pre><code>Wall time: 3.07 ms</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>first_name</th>      <th>last_name</th>      <th>test_id</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>Alex</td>      <td>Anderson</td>      <td>51</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>Amy</td>      <td>Ackerman</td>      <td>15</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>Allen</td>      <td>Ali</td>      <td>15</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>Alice</td>      <td>Aoni</td>      <td>61</td>    </tr>    <tr>      <th>4</th>      <td>4</td>      <td>Billy</td>      <td>Bonder</td>      <td>61</td>    </tr>    <tr>      <th>5</th>      <td>5</td>      <td>Ayoung</td>      <td>Atiches</td>      <td>16</td>    </tr>    <tr>      <th>6</th>      <td>5</td>      <td>Brian</td>      <td>Black</td>      <td>16</td>    </tr>    <tr>      <th>7</th>      <td>7</td>      <td>Bryce</td>      <td>Brice</td>      <td>14</td>    </tr>    <tr>      <th>8</th>      <td>8</td>      <td>Betty</td>      <td>Btisan</td>      <td>15</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">all_data.join(data3.set_index(<span class="string">'subject_id'</span>),on=<span class="string">'subject_id'</span>)</span><br></pre></td></tr></table></figure></div><pre><code>Wall time: 3.38 ms</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>first_name</th>      <th>last_name</th>      <th>test_id</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>Alex</td>      <td>Anderson</td>      <td>51.0</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>Amy</td>      <td>Ackerman</td>      <td>15.0</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>Allen</td>      <td>Ali</td>      <td>15.0</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>Alice</td>      <td>Aoni</td>      <td>61.0</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>Ayoung</td>      <td>Atiches</td>      <td>16.0</td>    </tr>    <tr>      <th>0</th>      <td>4</td>      <td>Billy</td>      <td>Bonder</td>      <td>61.0</td>    </tr>    <tr>      <th>1</th>      <td>5</td>      <td>Brian</td>      <td>Black</td>      <td>16.0</td>    </tr>    <tr>      <th>2</th>      <td>6</td>      <td>Bran</td>      <td>Balwner</td>      <td>NaN</td>    </tr>    <tr>      <th>3</th>      <td>7</td>      <td>Bryce</td>      <td>Brice</td>      <td>14.0</td>    </tr>    <tr>      <th>4</th>      <td>8</td>      <td>Betty</td>      <td>Btisan</td>      <td>15.0</td>    </tr>  </tbody></table></div><h2 id="对data1和data2按照subject-id作连接"><a href="#对data1和data2按照subject-id作连接" class="headerlink" title="对data1和data2按照subject_id作连接"></a>对data1和data2按照subject_id作连接</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([data1, data2])</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>first_name</th>      <th>last_name</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>Alex</td>      <td>Anderson</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>Amy</td>      <td>Ackerman</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>Allen</td>      <td>Ali</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>Alice</td>      <td>Aoni</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>Ayoung</td>      <td>Atiches</td>    </tr>    <tr>      <th>0</th>      <td>4</td>      <td>Billy</td>      <td>Bonder</td>    </tr>    <tr>      <th>1</th>      <td>5</td>      <td>Brian</td>      <td>Black</td>    </tr>    <tr>      <th>2</th>      <td>6</td>      <td>Bran</td>      <td>Balwner</td>    </tr>    <tr>      <th>3</th>      <td>7</td>      <td>Bryce</td>      <td>Brice</td>    </tr>    <tr>      <th>4</th>      <td>8</td>      <td>Betty</td>      <td>Btisan</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(data1, data2, on=<span class="string">'subject_id'</span>, how=<span class="string">'outer'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>subject_id</th>      <th>first_name_x</th>      <th>last_name_x</th>      <th>first_name_y</th>      <th>last_name_y</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>Alex</td>      <td>Anderson</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>Amy</td>      <td>Ackerman</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>Allen</td>      <td>Ali</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>Alice</td>      <td>Aoni</td>      <td>Billy</td>      <td>Bonder</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>Ayoung</td>      <td>Atiches</td>      <td>Brian</td>      <td>Black</td>    </tr>    <tr>      <th>5</th>      <td>6</td>      <td>NaN</td>      <td>NaN</td>      <td>Bran</td>      <td>Balwner</td>    </tr>    <tr>      <th>6</th>      <td>7</td>      <td>NaN</td>      <td>NaN</td>      <td>Bryce</td>      <td>Brice</td>    </tr>    <tr>      <th>7</th>      <td>8</td>      <td>NaN</td>      <td>NaN</td>      <td>Betty</td>      <td>Btisan</td>    </tr>  </tbody></table></div><h1 id="探索风速数据-描述统计"><a href="#探索风速数据-描述统计" class="headerlink" title="探索风速数据(描述统计)"></a>探索风速数据(描述统计)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path6 = <span class="string">"wind.data"</span></span><br><span class="line">data = pd.read_table(path6, sep = <span class="string">"\s+"</span>, parse_dates = [[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]])</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Yr_Mo_Dy</th>      <th>RPT</th>      <th>VAL</th>      <th>ROS</th>      <th>KIL</th>      <th>SHA</th>      <th>BIR</th>      <th>DUB</th>      <th>CLA</th>      <th>MUL</th>      <th>CLO</th>      <th>BEL</th>      <th>MAL</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>2061-01-01</td>      <td>15.04</td>      <td>14.96</td>      <td>13.17</td>      <td>9.29</td>      <td>NaN</td>      <td>9.87</td>      <td>13.67</td>      <td>10.25</td>      <td>10.83</td>      <td>12.58</td>      <td>18.50</td>      <td>15.04</td>    </tr>    <tr>      <th>1</th>      <td>2061-01-02</td>      <td>14.71</td>      <td>NaN</td>      <td>10.83</td>      <td>6.50</td>      <td>12.62</td>      <td>7.67</td>      <td>11.50</td>      <td>10.04</td>      <td>9.79</td>      <td>9.67</td>      <td>17.54</td>      <td>13.83</td>    </tr>    <tr>      <th>2</th>      <td>2061-01-03</td>      <td>18.50</td>      <td>16.88</td>      <td>12.33</td>      <td>10.13</td>      <td>11.17</td>      <td>6.17</td>      <td>11.25</td>      <td>NaN</td>      <td>8.50</td>      <td>7.67</td>      <td>12.75</td>      <td>12.71</td>    </tr>    <tr>      <th>3</th>      <td>2061-01-04</td>      <td>10.58</td>      <td>6.63</td>      <td>11.75</td>      <td>4.58</td>      <td>4.54</td>      <td>2.88</td>      <td>8.63</td>      <td>1.79</td>      <td>5.83</td>      <td>5.88</td>      <td>5.46</td>      <td>10.88</td>    </tr>    <tr>      <th>4</th>      <td>2061-01-05</td>      <td>13.33</td>      <td>13.25</td>      <td>11.42</td>      <td>6.17</td>      <td>10.71</td>      <td>8.21</td>      <td>11.92</td>      <td>6.54</td>      <td>10.92</td>      <td>10.34</td>      <td>12.92</td>      <td>11.83</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.describe()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>RPT</th>      <th>VAL</th>      <th>ROS</th>      <th>KIL</th>      <th>SHA</th>      <th>BIR</th>      <th>DUB</th>      <th>CLA</th>      <th>MUL</th>      <th>CLO</th>      <th>BEL</th>      <th>MAL</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>6568.000000</td>      <td>6571.000000</td>      <td>6572.000000</td>      <td>6569.000000</td>      <td>6572.000000</td>      <td>6574.000000</td>      <td>6571.000000</td>      <td>6572.000000</td>      <td>6571.000000</td>      <td>6573.000000</td>      <td>6574.000000</td>      <td>6570.000000</td>    </tr>    <tr>      <th>mean</th>      <td>12.362987</td>      <td>10.644314</td>      <td>11.660526</td>      <td>6.306468</td>      <td>10.455834</td>      <td>7.092254</td>      <td>9.797343</td>      <td>8.495053</td>      <td>8.493590</td>      <td>8.707332</td>      <td>13.121007</td>      <td>15.599079</td>    </tr>    <tr>      <th>std</th>      <td>5.618413</td>      <td>5.267356</td>      <td>5.008450</td>      <td>3.605811</td>      <td>4.936125</td>      <td>3.968683</td>      <td>4.977555</td>      <td>4.499449</td>      <td>4.166872</td>      <td>4.503954</td>      <td>5.835037</td>      <td>6.699794</td>    </tr>    <tr>      <th>min</th>      <td>0.670000</td>      <td>0.210000</td>      <td>1.500000</td>      <td>0.000000</td>      <td>0.130000</td>      <td>0.000000</td>      <td>0.000000</td>      <td>0.000000</td>      <td>0.000000</td>      <td>0.040000</td>      <td>0.130000</td>      <td>0.670000</td>    </tr>    <tr>      <th>25%</th>      <td>8.120000</td>      <td>6.670000</td>      <td>8.000000</td>      <td>3.580000</td>      <td>6.750000</td>      <td>4.000000</td>      <td>6.000000</td>      <td>5.090000</td>      <td>5.370000</td>      <td>5.330000</td>      <td>8.710000</td>      <td>10.710000</td>    </tr>    <tr>      <th>50%</th>      <td>11.710000</td>      <td>10.170000</td>      <td>10.920000</td>      <td>5.750000</td>      <td>9.960000</td>      <td>6.830000</td>      <td>9.210000</td>      <td>8.080000</td>      <td>8.170000</td>      <td>8.290000</td>      <td>12.500000</td>      <td>15.000000</td>    </tr>    <tr>      <th>75%</th>      <td>15.920000</td>      <td>14.040000</td>      <td>14.670000</td>      <td>8.420000</td>      <td>13.540000</td>      <td>9.670000</td>      <td>12.960000</td>      <td>11.420000</td>      <td>11.190000</td>      <td>11.630000</td>      <td>16.880000</td>      <td>19.830000</td>    </tr>    <tr>      <th>max</th>      <td>35.800000</td>      <td>33.370000</td>      <td>33.840000</td>      <td>28.460000</td>      <td>37.540000</td>      <td>26.160000</td>      <td>30.370000</td>      <td>31.080000</td>      <td>25.880000</td>      <td>28.210000</td>      <td>42.380000</td>      <td>42.540000</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.info()</span><br></pre></td></tr></table></figure></div><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 6574 entries, 0 to 6573Data columns (total 13 columns):Yr_Mo_Dy    6574 non-null datetime64[ns]RPT         6568 non-null float64VAL         6571 non-null float64ROS         6572 non-null float64KIL         6569 non-null float64SHA         6572 non-null float64BIR         6574 non-null float64DUB         6571 non-null float64CLA         6572 non-null float64MUL         6571 non-null float64CLO         6573 non-null float64BEL         6574 non-null float64MAL         6570 non-null float64dtypes: datetime64[ns](1), float64(12)memory usage: 667.8 KB</code></pre><h2 id="2061年？我们真的有这一年的数据？创建一个函数并用它去修复这个bug"><a href="#2061年？我们真的有这一年的数据？创建一个函数并用它去修复这个bug" class="headerlink" title="2061年？我们真的有这一年的数据？创建一个函数并用它去修复这个bug"></a>2061年？我们真的有这一年的数据？创建一个函数并用它去修复这个bug</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fix_year</span><span class="params">(date)</span>:</span></span><br><span class="line">    new_year = date.year - <span class="number">100</span> <span class="keyword">if</span> date.year&gt; <span class="number">1989</span> <span class="keyword">else</span> date.year</span><br><span class="line">    <span class="keyword">return</span> datetime.date(new_year, date.month, date.day)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'Yr_Mo_Dy'</span>] = data[<span class="string">'Yr_Mo_Dy'</span>].apply(fix_year)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Yr_Mo_Dy</th>      <th>RPT</th>      <th>VAL</th>      <th>ROS</th>      <th>KIL</th>      <th>SHA</th>      <th>BIR</th>      <th>DUB</th>      <th>CLA</th>      <th>MUL</th>      <th>CLO</th>      <th>BEL</th>      <th>MAL</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1961-01-01</td>      <td>15.04</td>      <td>14.96</td>      <td>13.17</td>      <td>9.29</td>      <td>NaN</td>      <td>9.87</td>      <td>13.67</td>      <td>10.25</td>      <td>10.83</td>      <td>12.58</td>      <td>18.50</td>      <td>15.04</td>    </tr>    <tr>      <th>1</th>      <td>1961-01-02</td>      <td>14.71</td>      <td>NaN</td>      <td>10.83</td>      <td>6.50</td>      <td>12.62</td>      <td>7.67</td>      <td>11.50</td>      <td>10.04</td>      <td>9.79</td>      <td>9.67</td>      <td>17.54</td>      <td>13.83</td>    </tr>    <tr>      <th>2</th>      <td>1961-01-03</td>      <td>18.50</td>      <td>16.88</td>      <td>12.33</td>      <td>10.13</td>      <td>11.17</td>      <td>6.17</td>      <td>11.25</td>      <td>NaN</td>      <td>8.50</td>      <td>7.67</td>      <td>12.75</td>      <td>12.71</td>    </tr>    <tr>      <th>3</th>      <td>1961-01-04</td>      <td>10.58</td>      <td>6.63</td>      <td>11.75</td>      <td>4.58</td>      <td>4.54</td>      <td>2.88</td>      <td>8.63</td>      <td>1.79</td>      <td>5.83</td>      <td>5.88</td>      <td>5.46</td>      <td>10.88</td>    </tr>    <tr>      <th>4</th>      <td>1961-01-05</td>      <td>13.33</td>      <td>13.25</td>      <td>11.42</td>      <td>6.17</td>      <td>10.71</td>      <td>8.21</td>      <td>11.92</td>      <td>6.54</td>      <td>10.92</td>      <td>10.34</td>      <td>12.92</td>      <td>11.83</td>    </tr>  </tbody></table></div><h2 id="将日期设为索引，注意数据类型，应该是datetime64-ns"><a href="#将日期设为索引，注意数据类型，应该是datetime64-ns" class="headerlink" title="将日期设为索引，注意数据类型，应该是datetime64[ns]"></a>将日期设为索引，注意数据类型，应该是datetime64[ns]</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">data[<span class="string">'Yr_Mo_Dy'</span>]= pd.to_datetime(data[<span class="string">"Yr_Mo_Dy"</span>])</span><br><span class="line">data = data.set_index(<span class="string">'Yr_Mo_Dy'</span>)</span><br><span class="line">data.head()</span><br></pre></td></tr></table></figure></div><pre><code>Wall time: 3.41 ms</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>RPT</th>      <th>VAL</th>      <th>ROS</th>      <th>KIL</th>      <th>SHA</th>      <th>BIR</th>      <th>DUB</th>      <th>CLA</th>      <th>MUL</th>      <th>CLO</th>      <th>BEL</th>      <th>MAL</th>    </tr>    <tr>      <th>Yr_Mo_Dy</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1961-01-01</th>      <td>15.04</td>      <td>14.96</td>      <td>13.17</td>      <td>9.29</td>      <td>NaN</td>      <td>9.87</td>      <td>13.67</td>      <td>10.25</td>      <td>10.83</td>      <td>12.58</td>      <td>18.50</td>      <td>15.04</td>    </tr>    <tr>      <th>1961-01-02</th>      <td>14.71</td>      <td>NaN</td>      <td>10.83</td>      <td>6.50</td>      <td>12.62</td>      <td>7.67</td>      <td>11.50</td>      <td>10.04</td>      <td>9.79</td>      <td>9.67</td>      <td>17.54</td>      <td>13.83</td>    </tr>    <tr>      <th>1961-01-03</th>      <td>18.50</td>      <td>16.88</td>      <td>12.33</td>      <td>10.13</td>      <td>11.17</td>      <td>6.17</td>      <td>11.25</td>      <td>NaN</td>      <td>8.50</td>      <td>7.67</td>      <td>12.75</td>      <td>12.71</td>    </tr>    <tr>      <th>1961-01-04</th>      <td>10.58</td>      <td>6.63</td>      <td>11.75</td>      <td>4.58</td>      <td>4.54</td>      <td>2.88</td>      <td>8.63</td>      <td>1.79</td>      <td>5.83</td>      <td>5.88</td>      <td>5.46</td>      <td>10.88</td>    </tr>    <tr>      <th>1961-01-05</th>      <td>13.33</td>      <td>13.25</td>      <td>11.42</td>      <td>6.17</td>      <td>10.71</td>      <td>8.21</td>      <td>11.92</td>      <td>6.54</td>      <td>10.92</td>      <td>10.34</td>      <td>12.92</td>      <td>11.83</td>    </tr>  </tbody></table></div><h2 id="对应每一个location，一共有多少数据值缺失"><a href="#对应每一个location，一共有多少数据值缺失" class="headerlink" title="对应每一个location，一共有多少数据值缺失"></a>对应每一个location，一共有多少数据值缺失</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.isnull().sum()</span><br></pre></td></tr></table></figure></div><pre><code>RPT    6VAL    3ROS    2KIL    5SHA    2BIR    0DUB    3CLA    2MUL    3CLO    1BEL    0MAL    4dtype: int64</code></pre><h2 id="对应每一个location，一共有多少完整的数据值"><a href="#对应每一个location，一共有多少完整的数据值" class="headerlink" title="对应每一个location，一共有多少完整的数据值"></a>对应每一个location，一共有多少完整的数据值</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.count()</span><br></pre></td></tr></table></figure></div><pre><code>RPT    6568VAL    6571ROS    6572KIL    6569SHA    6572BIR    6574DUB    6571CLA    6572MUL    6571CLO    6573BEL    6574MAL    6570dtype: int64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#官方答案</span></span><br><span class="line">data.shape[<span class="number">0</span>] - data.isnull().sum()</span><br></pre></td></tr></table></figure></div><pre><code>RPT    6568VAL    6571ROS    6572KIL    6569SHA    6572BIR    6574DUB    6571CLA    6572MUL    6571CLO    6573BEL    6574MAL    6570dtype: int64</code></pre><h2 id="对于全体数据，计算风速的平均值"><a href="#对于全体数据，计算风速的平均值" class="headerlink" title="对于全体数据，计算风速的平均值"></a>对于全体数据，计算风速的平均值</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.mean().mean()</span><br></pre></td></tr></table></figure></div><pre><code>10.227982360836924</code></pre><h2 id="创建一个名为loc-stats的数据框去计算并存储每个location的风速最小值，最大值，平均值和标准差"><a href="#创建一个名为loc-stats的数据框去计算并存储每个location的风速最小值，最大值，平均值和标准差" class="headerlink" title="创建一个名为loc_stats的数据框去计算并存储每个location的风速最小值，最大值，平均值和标准差"></a>创建一个名为loc_stats的数据框去计算并存储每个location的风速最小值，最大值，平均值和标准差</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">loc_states = pd.DataFrame()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">loc_states[<span class="string">'min'</span>] = data.min()</span><br><span class="line">loc_states[<span class="string">'max'</span>] = data.max()</span><br><span class="line">loc_states[<span class="string">'mean'</span>] = data.mean()</span><br><span class="line">loc_states[<span class="string">'std'</span>] = data.std()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">loc_states</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>min</th>      <th>max</th>      <th>mean</th>      <th>std</th>    </tr>  </thead>  <tbody>    <tr>      <th>RPT</th>      <td>0.67</td>      <td>35.80</td>      <td>12.362987</td>      <td>5.618413</td>    </tr>    <tr>      <th>VAL</th>      <td>0.21</td>      <td>33.37</td>      <td>10.644314</td>      <td>5.267356</td>    </tr>    <tr>      <th>ROS</th>      <td>1.50</td>      <td>33.84</td>      <td>11.660526</td>      <td>5.008450</td>    </tr>    <tr>      <th>KIL</th>      <td>0.00</td>      <td>28.46</td>      <td>6.306468</td>      <td>3.605811</td>    </tr>    <tr>      <th>SHA</th>      <td>0.13</td>      <td>37.54</td>      <td>10.455834</td>      <td>4.936125</td>    </tr>    <tr>      <th>BIR</th>      <td>0.00</td>      <td>26.16</td>      <td>7.092254</td>      <td>3.968683</td>    </tr>    <tr>      <th>DUB</th>      <td>0.00</td>      <td>30.37</td>      <td>9.797343</td>      <td>4.977555</td>    </tr>    <tr>      <th>CLA</th>      <td>0.00</td>      <td>31.08</td>      <td>8.495053</td>      <td>4.499449</td>    </tr>    <tr>      <th>MUL</th>      <td>0.00</td>      <td>25.88</td>      <td>8.493590</td>      <td>4.166872</td>    </tr>    <tr>      <th>CLO</th>      <td>0.04</td>      <td>28.21</td>      <td>8.707332</td>      <td>4.503954</td>    </tr>    <tr>      <th>BEL</th>      <td>0.13</td>      <td>42.38</td>      <td>13.121007</td>      <td>5.835037</td>    </tr>    <tr>      <th>MAL</th>      <td>0.67</td>      <td>42.54</td>      <td>15.599079</td>      <td>6.699794</td>    </tr>  </tbody></table></div><h2 id="创建一个名为day-stats的数据框去计算并存储所有location的风速最小值，最大值，平均值和标准差"><a href="#创建一个名为day-stats的数据框去计算并存储所有location的风速最小值，最大值，平均值和标准差" class="headerlink" title="创建一个名为day_stats的数据框去计算并存储所有location的风速最小值，最大值，平均值和标准差"></a>创建一个名为day_stats的数据框去计算并存储所有location的风速最小值，最大值，平均值和标准差</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">day_stats = pd.Series()</span><br><span class="line">data_stack = data.stack()</span><br><span class="line">day_stats[<span class="string">'min'</span>] = data_stack.min() <span class="comment"># min</span></span><br><span class="line">day_stats[<span class="string">'max'</span>] = data_stack.max() <span class="comment"># max </span></span><br><span class="line">day_stats[<span class="string">'mean'</span>] = data_stack.mean() <span class="comment"># mean</span></span><br><span class="line">day_stats[<span class="string">'std'</span>] = data_stack.std(ddof=<span class="number">1</span>) <span class="comment"># standard deviations</span></span><br><span class="line"></span><br><span class="line">day_stats.head()</span><br></pre></td></tr></table></figure></div><pre><code>Wall time: 11 msmin      0.000000max     42.540000mean    10.227884std      5.603872dtype: float64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 官方答案</span></span><br><span class="line"><span class="comment"># create the dataframe</span></span><br><span class="line">day_stats = pd.DataFrame()</span><br><span class="line"></span><br><span class="line"><span class="comment"># this time we determine axis equals to one so it gets each row.</span></span><br><span class="line">day_stats[<span class="string">'min'</span>] = data.min(axis = <span class="number">1</span>) <span class="comment"># min</span></span><br><span class="line">day_stats[<span class="string">'max'</span>] = data.max(axis = <span class="number">1</span>) <span class="comment"># max </span></span><br><span class="line">day_stats[<span class="string">'mean'</span>] = data.mean(axis = <span class="number">1</span>) <span class="comment"># mean</span></span><br><span class="line">day_stats[<span class="string">'std'</span>] = data.std(axis = <span class="number">1</span>) <span class="comment"># standard deviations</span></span><br><span class="line"></span><br><span class="line">day_stats.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>min</th>      <th>max</th>      <th>mean</th>      <th>std</th>    </tr>    <tr>      <th>Yr_Mo_Dy</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1961-01-01</th>      <td>9.29</td>      <td>18.50</td>      <td>13.018182</td>      <td>2.808875</td>    </tr>    <tr>      <th>1961-01-02</th>      <td>6.50</td>      <td>17.54</td>      <td>11.336364</td>      <td>3.188994</td>    </tr>    <tr>      <th>1961-01-03</th>      <td>6.17</td>      <td>18.50</td>      <td>11.641818</td>      <td>3.681912</td>    </tr>    <tr>      <th>1961-01-04</th>      <td>1.79</td>      <td>11.75</td>      <td>6.619167</td>      <td>3.198126</td>    </tr>    <tr>      <th>1961-01-05</th>      <td>6.17</td>      <td>13.33</td>      <td>10.630000</td>      <td>2.445356</td>    </tr>  </tbody></table></div><h2 id="对于每一个location，计算一月份的平均风速¶"><a href="#对于每一个location，计算一月份的平均风速¶" class="headerlink" title="对于每一个location，计算一月份的平均风速¶"></a>对于每一个location，计算一月份的平均风速¶</h2><p>注意，1961年的1月和1962年的1月应该区别对待</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'date'</span>] = data.index</span><br><span class="line"><span class="comment"># creates a column for each value from date</span></span><br><span class="line">data[<span class="string">'month'</span>] = data[<span class="string">'date'</span>].apply(<span class="keyword">lambda</span> date: date.month)</span><br><span class="line">data[<span class="string">'year'</span>] = data[<span class="string">'date'</span>].apply(<span class="keyword">lambda</span> date: date.year)</span><br><span class="line">data[<span class="string">'day'</span>] = data[<span class="string">'date'</span>].apply(<span class="keyword">lambda</span> date: date.day)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gets all value from the month 1 and assign to janyary_winds</span></span><br><span class="line">january_winds = data[data[<span class="string">'month'</span>] == <span class="number">1</span>]</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">january_winds.loc[:,<span class="string">'RPT'</span>:<span class="string">"MAL"</span>].mean()</span><br></pre></td></tr></table></figure></div><pre><code>RPT    14.847325VAL    12.914560ROS    13.299624KIL     7.199498SHA    11.667734BIR     8.054839DUB    11.819355CLA     9.512047MUL     9.543208CLO    10.053566BEL    14.550520MAL    18.028763dtype: float64</code></pre><h2 id="对于数据记录按照年为频率取样"><a href="#对于数据记录按照年为频率取样" class="headerlink" title="对于数据记录按照年为频率取样"></a>对于数据记录按照年为频率取样</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">data.query(<span class="string">'month == 1 and day == 1'</span>)</span><br></pre></td></tr></table></figure></div><pre><code>Wall time: 3.38 ms</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>RPT</th>      <th>VAL</th>      <th>ROS</th>      <th>KIL</th>      <th>SHA</th>      <th>BIR</th>      <th>DUB</th>      <th>CLA</th>      <th>MUL</th>      <th>CLO</th>      <th>BEL</th>      <th>MAL</th>      <th>date</th>      <th>month</th>      <th>year</th>      <th>day</th>    </tr>    <tr>      <th>Yr_Mo_Dy</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1961-01-01</th>      <td>15.04</td>      <td>14.96</td>      <td>13.17</td>      <td>9.29</td>      <td>NaN</td>      <td>9.87</td>      <td>13.67</td>      <td>10.25</td>      <td>10.83</td>      <td>12.58</td>      <td>18.50</td>      <td>15.04</td>      <td>1961-01-01</td>      <td>1</td>      <td>1961</td>      <td>1</td>    </tr>    <tr>      <th>1962-01-01</th>      <td>9.29</td>      <td>3.42</td>      <td>11.54</td>      <td>3.50</td>      <td>2.21</td>      <td>1.96</td>      <td>10.41</td>      <td>2.79</td>      <td>3.54</td>      <td>5.17</td>      <td>4.38</td>      <td>7.92</td>      <td>1962-01-01</td>      <td>1</td>      <td>1962</td>      <td>1</td>    </tr>    <tr>      <th>1963-01-01</th>      <td>15.59</td>      <td>13.62</td>      <td>19.79</td>      <td>8.38</td>      <td>12.25</td>      <td>10.00</td>      <td>23.45</td>      <td>15.71</td>      <td>13.59</td>      <td>14.37</td>      <td>17.58</td>      <td>34.13</td>      <td>1963-01-01</td>      <td>1</td>      <td>1963</td>      <td>1</td>    </tr>    <tr>      <th>1964-01-01</th>      <td>25.80</td>      <td>22.13</td>      <td>18.21</td>      <td>13.25</td>      <td>21.29</td>      <td>14.79</td>      <td>14.12</td>      <td>19.58</td>      <td>13.25</td>      <td>16.75</td>      <td>28.96</td>      <td>21.00</td>      <td>1964-01-01</td>      <td>1</td>      <td>1964</td>      <td>1</td>    </tr>    <tr>      <th>1965-01-01</th>      <td>9.54</td>      <td>11.92</td>      <td>9.00</td>      <td>4.38</td>      <td>6.08</td>      <td>5.21</td>      <td>10.25</td>      <td>6.08</td>      <td>5.71</td>      <td>8.63</td>      <td>12.04</td>      <td>17.41</td>      <td>1965-01-01</td>      <td>1</td>      <td>1965</td>      <td>1</td>    </tr>    <tr>      <th>1966-01-01</th>      <td>22.04</td>      <td>21.50</td>      <td>17.08</td>      <td>12.75</td>      <td>22.17</td>      <td>15.59</td>      <td>21.79</td>      <td>18.12</td>      <td>16.66</td>      <td>17.83</td>      <td>28.33</td>      <td>23.79</td>      <td>1966-01-01</td>      <td>1</td>      <td>1966</td>      <td>1</td>    </tr>    <tr>      <th>1967-01-01</th>      <td>6.46</td>      <td>4.46</td>      <td>6.50</td>      <td>3.21</td>      <td>6.67</td>      <td>3.79</td>      <td>11.38</td>      <td>3.83</td>      <td>7.71</td>      <td>9.08</td>      <td>10.67</td>      <td>20.91</td>      <td>1967-01-01</td>      <td>1</td>      <td>1967</td>      <td>1</td>    </tr>    <tr>      <th>1968-01-01</th>      <td>30.04</td>      <td>17.88</td>      <td>16.25</td>      <td>16.25</td>      <td>21.79</td>      <td>12.54</td>      <td>18.16</td>      <td>16.62</td>      <td>18.75</td>      <td>17.62</td>      <td>22.25</td>      <td>27.29</td>      <td>1968-01-01</td>      <td>1</td>      <td>1968</td>      <td>1</td>    </tr>    <tr>      <th>1969-01-01</th>      <td>6.13</td>      <td>1.63</td>      <td>5.41</td>      <td>1.08</td>      <td>2.54</td>      <td>1.00</td>      <td>8.50</td>      <td>2.42</td>      <td>4.58</td>      <td>6.34</td>      <td>9.17</td>      <td>16.71</td>      <td>1969-01-01</td>      <td>1</td>      <td>1969</td>      <td>1</td>    </tr>    <tr>      <th>1970-01-01</th>      <td>9.59</td>      <td>2.96</td>      <td>11.79</td>      <td>3.42</td>      <td>6.13</td>      <td>4.08</td>      <td>9.00</td>      <td>4.46</td>      <td>7.29</td>      <td>3.50</td>      <td>7.33</td>      <td>13.00</td>      <td>1970-01-01</td>      <td>1</td>      <td>1970</td>      <td>1</td>    </tr>    <tr>      <th>1971-01-01</th>      <td>3.71</td>      <td>0.79</td>      <td>4.71</td>      <td>0.17</td>      <td>1.42</td>      <td>1.04</td>      <td>4.63</td>      <td>0.75</td>      <td>1.54</td>      <td>1.08</td>      <td>4.21</td>      <td>9.54</td>      <td>1971-01-01</td>      <td>1</td>      <td>1971</td>      <td>1</td>    </tr>    <tr>      <th>1972-01-01</th>      <td>9.29</td>      <td>3.63</td>      <td>14.54</td>      <td>4.25</td>      <td>6.75</td>      <td>4.42</td>      <td>13.00</td>      <td>5.33</td>      <td>10.04</td>      <td>8.54</td>      <td>8.71</td>      <td>19.17</td>      <td>1972-01-01</td>      <td>1</td>      <td>1972</td>      <td>1</td>    </tr>    <tr>      <th>1973-01-01</th>      <td>16.50</td>      <td>15.92</td>      <td>14.62</td>      <td>7.41</td>      <td>8.29</td>      <td>11.21</td>      <td>13.54</td>      <td>7.79</td>      <td>10.46</td>      <td>10.79</td>      <td>13.37</td>      <td>9.71</td>      <td>1973-01-01</td>      <td>1</td>      <td>1973</td>      <td>1</td>    </tr>    <tr>      <th>1974-01-01</th>      <td>23.21</td>      <td>16.54</td>      <td>16.08</td>      <td>9.75</td>      <td>15.83</td>      <td>11.46</td>      <td>9.54</td>      <td>13.54</td>      <td>13.83</td>      <td>16.66</td>      <td>17.21</td>      <td>25.29</td>      <td>1974-01-01</td>      <td>1</td>      <td>1974</td>      <td>1</td>    </tr>    <tr>      <th>1975-01-01</th>      <td>14.04</td>      <td>13.54</td>      <td>11.29</td>      <td>5.46</td>      <td>12.58</td>      <td>5.58</td>      <td>8.12</td>      <td>8.96</td>      <td>9.29</td>      <td>5.17</td>      <td>7.71</td>      <td>11.63</td>      <td>1975-01-01</td>      <td>1</td>      <td>1975</td>      <td>1</td>    </tr>    <tr>      <th>1976-01-01</th>      <td>18.34</td>      <td>17.67</td>      <td>14.83</td>      <td>8.00</td>      <td>16.62</td>      <td>10.13</td>      <td>13.17</td>      <td>9.04</td>      <td>13.13</td>      <td>5.75</td>      <td>11.38</td>      <td>14.96</td>      <td>1976-01-01</td>      <td>1</td>      <td>1976</td>      <td>1</td>    </tr>    <tr>      <th>1977-01-01</th>      <td>20.04</td>      <td>11.92</td>      <td>20.25</td>      <td>9.13</td>      <td>9.29</td>      <td>8.04</td>      <td>10.75</td>      <td>5.88</td>      <td>9.00</td>      <td>9.00</td>      <td>14.88</td>      <td>25.70</td>      <td>1977-01-01</td>      <td>1</td>      <td>1977</td>      <td>1</td>    </tr>    <tr>      <th>1978-01-01</th>      <td>8.33</td>      <td>7.12</td>      <td>7.71</td>      <td>3.54</td>      <td>8.50</td>      <td>7.50</td>      <td>14.71</td>      <td>10.00</td>      <td>11.83</td>      <td>10.00</td>      <td>15.09</td>      <td>20.46</td>      <td>1978-01-01</td>      <td>1</td>      <td>1978</td>      <td>1</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">%%time</span><br><span class="line">data[(data[<span class="string">'month'</span>]==<span class="number">1</span>) &amp; (data[<span class="string">'day'</span>]==<span class="number">1</span>)]</span><br></pre></td></tr></table></figure></div><pre><code>Wall time: 997 µs</code></pre><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>RPT</th>      <th>VAL</th>      <th>ROS</th>      <th>KIL</th>      <th>SHA</th>      <th>BIR</th>      <th>DUB</th>      <th>CLA</th>      <th>MUL</th>      <th>CLO</th>      <th>BEL</th>      <th>MAL</th>      <th>date</th>      <th>month</th>      <th>year</th>      <th>day</th>    </tr>    <tr>      <th>Yr_Mo_Dy</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1961-01-01</th>      <td>15.04</td>      <td>14.96</td>      <td>13.17</td>      <td>9.29</td>      <td>NaN</td>      <td>9.87</td>      <td>13.67</td>      <td>10.25</td>      <td>10.83</td>      <td>12.58</td>      <td>18.50</td>      <td>15.04</td>      <td>1961-01-01</td>      <td>1</td>      <td>1961</td>      <td>1</td>    </tr>    <tr>      <th>1962-01-01</th>      <td>9.29</td>      <td>3.42</td>      <td>11.54</td>      <td>3.50</td>      <td>2.21</td>      <td>1.96</td>      <td>10.41</td>      <td>2.79</td>      <td>3.54</td>      <td>5.17</td>      <td>4.38</td>      <td>7.92</td>      <td>1962-01-01</td>      <td>1</td>      <td>1962</td>      <td>1</td>    </tr>    <tr>      <th>1963-01-01</th>      <td>15.59</td>      <td>13.62</td>      <td>19.79</td>      <td>8.38</td>      <td>12.25</td>      <td>10.00</td>      <td>23.45</td>      <td>15.71</td>      <td>13.59</td>      <td>14.37</td>      <td>17.58</td>      <td>34.13</td>      <td>1963-01-01</td>      <td>1</td>      <td>1963</td>      <td>1</td>    </tr>    <tr>      <th>1964-01-01</th>      <td>25.80</td>      <td>22.13</td>      <td>18.21</td>      <td>13.25</td>      <td>21.29</td>      <td>14.79</td>      <td>14.12</td>      <td>19.58</td>      <td>13.25</td>      <td>16.75</td>      <td>28.96</td>      <td>21.00</td>      <td>1964-01-01</td>      <td>1</td>      <td>1964</td>      <td>1</td>    </tr>    <tr>      <th>1965-01-01</th>      <td>9.54</td>      <td>11.92</td>      <td>9.00</td>      <td>4.38</td>      <td>6.08</td>      <td>5.21</td>      <td>10.25</td>      <td>6.08</td>      <td>5.71</td>      <td>8.63</td>      <td>12.04</td>      <td>17.41</td>      <td>1965-01-01</td>      <td>1</td>      <td>1965</td>      <td>1</td>    </tr>    <tr>      <th>1966-01-01</th>      <td>22.04</td>      <td>21.50</td>      <td>17.08</td>      <td>12.75</td>      <td>22.17</td>      <td>15.59</td>      <td>21.79</td>      <td>18.12</td>      <td>16.66</td>      <td>17.83</td>      <td>28.33</td>      <td>23.79</td>      <td>1966-01-01</td>      <td>1</td>      <td>1966</td>      <td>1</td>    </tr>    <tr>      <th>1967-01-01</th>      <td>6.46</td>      <td>4.46</td>      <td>6.50</td>      <td>3.21</td>      <td>6.67</td>      <td>3.79</td>      <td>11.38</td>      <td>3.83</td>      <td>7.71</td>      <td>9.08</td>      <td>10.67</td>      <td>20.91</td>      <td>1967-01-01</td>      <td>1</td>      <td>1967</td>      <td>1</td>    </tr>    <tr>      <th>1968-01-01</th>      <td>30.04</td>      <td>17.88</td>      <td>16.25</td>      <td>16.25</td>      <td>21.79</td>      <td>12.54</td>      <td>18.16</td>      <td>16.62</td>      <td>18.75</td>      <td>17.62</td>      <td>22.25</td>      <td>27.29</td>      <td>1968-01-01</td>      <td>1</td>      <td>1968</td>      <td>1</td>    </tr>    <tr>      <th>1969-01-01</th>      <td>6.13</td>      <td>1.63</td>      <td>5.41</td>      <td>1.08</td>      <td>2.54</td>      <td>1.00</td>      <td>8.50</td>      <td>2.42</td>      <td>4.58</td>      <td>6.34</td>      <td>9.17</td>      <td>16.71</td>      <td>1969-01-01</td>      <td>1</td>      <td>1969</td>      <td>1</td>    </tr>    <tr>      <th>1970-01-01</th>      <td>9.59</td>      <td>2.96</td>      <td>11.79</td>      <td>3.42</td>      <td>6.13</td>      <td>4.08</td>      <td>9.00</td>      <td>4.46</td>      <td>7.29</td>      <td>3.50</td>      <td>7.33</td>      <td>13.00</td>      <td>1970-01-01</td>      <td>1</td>      <td>1970</td>      <td>1</td>    </tr>    <tr>      <th>1971-01-01</th>      <td>3.71</td>      <td>0.79</td>      <td>4.71</td>      <td>0.17</td>      <td>1.42</td>      <td>1.04</td>      <td>4.63</td>      <td>0.75</td>      <td>1.54</td>      <td>1.08</td>      <td>4.21</td>      <td>9.54</td>      <td>1971-01-01</td>      <td>1</td>      <td>1971</td>      <td>1</td>    </tr>    <tr>      <th>1972-01-01</th>      <td>9.29</td>      <td>3.63</td>      <td>14.54</td>      <td>4.25</td>      <td>6.75</td>      <td>4.42</td>      <td>13.00</td>      <td>5.33</td>      <td>10.04</td>      <td>8.54</td>      <td>8.71</td>      <td>19.17</td>      <td>1972-01-01</td>      <td>1</td>      <td>1972</td>      <td>1</td>    </tr>    <tr>      <th>1973-01-01</th>      <td>16.50</td>      <td>15.92</td>      <td>14.62</td>      <td>7.41</td>      <td>8.29</td>      <td>11.21</td>      <td>13.54</td>      <td>7.79</td>      <td>10.46</td>      <td>10.79</td>      <td>13.37</td>      <td>9.71</td>      <td>1973-01-01</td>      <td>1</td>      <td>1973</td>      <td>1</td>    </tr>    <tr>      <th>1974-01-01</th>      <td>23.21</td>      <td>16.54</td>      <td>16.08</td>      <td>9.75</td>      <td>15.83</td>      <td>11.46</td>      <td>9.54</td>      <td>13.54</td>      <td>13.83</td>      <td>16.66</td>      <td>17.21</td>      <td>25.29</td>      <td>1974-01-01</td>      <td>1</td>      <td>1974</td>      <td>1</td>    </tr>    <tr>      <th>1975-01-01</th>      <td>14.04</td>      <td>13.54</td>      <td>11.29</td>      <td>5.46</td>      <td>12.58</td>      <td>5.58</td>      <td>8.12</td>      <td>8.96</td>      <td>9.29</td>      <td>5.17</td>      <td>7.71</td>      <td>11.63</td>      <td>1975-01-01</td>      <td>1</td>      <td>1975</td>      <td>1</td>    </tr>    <tr>      <th>1976-01-01</th>      <td>18.34</td>      <td>17.67</td>      <td>14.83</td>      <td>8.00</td>      <td>16.62</td>      <td>10.13</td>      <td>13.17</td>      <td>9.04</td>      <td>13.13</td>      <td>5.75</td>      <td>11.38</td>      <td>14.96</td>      <td>1976-01-01</td>      <td>1</td>      <td>1976</td>      <td>1</td>    </tr>    <tr>      <th>1977-01-01</th>      <td>20.04</td>      <td>11.92</td>      <td>20.25</td>      <td>9.13</td>      <td>9.29</td>      <td>8.04</td>      <td>10.75</td>      <td>5.88</td>      <td>9.00</td>      <td>9.00</td>      <td>14.88</td>      <td>25.70</td>      <td>1977-01-01</td>      <td>1</td>      <td>1977</td>      <td>1</td>    </tr>    <tr>      <th>1978-01-01</th>      <td>8.33</td>      <td>7.12</td>      <td>7.71</td>      <td>3.54</td>      <td>8.50</td>      <td>7.50</td>      <td>14.71</td>      <td>10.00</td>      <td>11.83</td>      <td>10.00</td>      <td>15.09</td>      <td>20.46</td>      <td>1978-01-01</td>      <td>1</td>      <td>1978</td>      <td>1</td>    </tr>  </tbody></table></div><h2 id="对于数据记录按照月为频率取样"><a href="#对于数据记录按照月为频率取样" class="headerlink" title="对于数据记录按照月为频率取样"></a>对于数据记录按照月为频率取样</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[data[<span class="string">"day"</span>]==<span class="number">1</span>]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>RPT</th>      <th>VAL</th>      <th>ROS</th>      <th>KIL</th>      <th>SHA</th>      <th>BIR</th>      <th>DUB</th>      <th>CLA</th>      <th>MUL</th>      <th>CLO</th>      <th>BEL</th>      <th>MAL</th>      <th>date</th>      <th>month</th>      <th>year</th>      <th>day</th>    </tr>    <tr>      <th>Yr_Mo_Dy</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1961-01-01</th>      <td>15.04</td>      <td>14.96</td>      <td>13.17</td>      <td>9.29</td>      <td>NaN</td>      <td>9.87</td>      <td>13.67</td>      <td>10.25</td>      <td>10.83</td>      <td>12.58</td>      <td>18.50</td>      <td>15.04</td>      <td>1961-01-01</td>      <td>1</td>      <td>1961</td>      <td>1</td>    </tr>    <tr>      <th>1961-02-01</th>      <td>14.25</td>      <td>15.12</td>      <td>9.04</td>      <td>5.88</td>      <td>12.08</td>      <td>7.17</td>      <td>10.17</td>      <td>3.63</td>      <td>6.50</td>      <td>5.50</td>      <td>9.17</td>      <td>8.00</td>      <td>1961-02-01</td>      <td>2</td>      <td>1961</td>      <td>1</td>    </tr>    <tr>      <th>1961-03-01</th>      <td>12.67</td>      <td>13.13</td>      <td>11.79</td>      <td>6.42</td>      <td>9.79</td>      <td>8.54</td>      <td>10.25</td>      <td>13.29</td>      <td>NaN</td>      <td>12.21</td>      <td>20.62</td>      <td>NaN</td>      <td>1961-03-01</td>      <td>3</td>      <td>1961</td>      <td>1</td>    </tr>    <tr>      <th>1961-04-01</th>      <td>8.38</td>      <td>6.34</td>      <td>8.33</td>      <td>6.75</td>      <td>9.33</td>      <td>9.54</td>      <td>11.67</td>      <td>8.21</td>      <td>11.21</td>      <td>6.46</td>      <td>11.96</td>      <td>7.17</td>      <td>1961-04-01</td>      <td>4</td>      <td>1961</td>      <td>1</td>    </tr>    <tr>      <th>1961-05-01</th>      <td>15.87</td>      <td>13.88</td>      <td>15.37</td>      <td>9.79</td>      <td>13.46</td>      <td>10.17</td>      <td>9.96</td>      <td>14.04</td>      <td>9.75</td>      <td>9.92</td>      <td>18.63</td>      <td>11.12</td>      <td>1961-05-01</td>      <td>5</td>      <td>1961</td>      <td>1</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>1978-08-01</th>      <td>19.33</td>      <td>15.09</td>      <td>20.17</td>      <td>8.83</td>      <td>12.62</td>      <td>10.41</td>      <td>9.33</td>      <td>12.33</td>      <td>9.50</td>      <td>9.92</td>      <td>15.75</td>      <td>18.00</td>      <td>1978-08-01</td>      <td>8</td>      <td>1978</td>      <td>1</td>    </tr>    <tr>      <th>1978-09-01</th>      <td>8.42</td>      <td>6.13</td>      <td>9.87</td>      <td>5.25</td>      <td>3.21</td>      <td>5.71</td>      <td>7.25</td>      <td>3.50</td>      <td>7.33</td>      <td>6.50</td>      <td>7.62</td>      <td>15.96</td>      <td>1978-09-01</td>      <td>9</td>      <td>1978</td>      <td>1</td>    </tr>    <tr>      <th>1978-10-01</th>      <td>9.50</td>      <td>6.83</td>      <td>10.50</td>      <td>3.88</td>      <td>6.13</td>      <td>4.58</td>      <td>4.21</td>      <td>6.50</td>      <td>6.38</td>      <td>6.54</td>      <td>10.63</td>      <td>14.09</td>      <td>1978-10-01</td>      <td>10</td>      <td>1978</td>      <td>1</td>    </tr>    <tr>      <th>1978-11-01</th>      <td>13.59</td>      <td>16.75</td>      <td>11.25</td>      <td>7.08</td>      <td>11.04</td>      <td>8.33</td>      <td>8.17</td>      <td>11.29</td>      <td>10.75</td>      <td>11.25</td>      <td>23.13</td>      <td>25.00</td>      <td>1978-11-01</td>      <td>11</td>      <td>1978</td>      <td>1</td>    </tr>    <tr>      <th>1978-12-01</th>      <td>21.29</td>      <td>16.29</td>      <td>24.04</td>      <td>12.79</td>      <td>18.21</td>      <td>19.29</td>      <td>21.54</td>      <td>17.21</td>      <td>16.71</td>      <td>17.83</td>      <td>17.75</td>      <td>25.70</td>      <td>1978-12-01</td>      <td>12</td>      <td>1978</td>      <td>1</td>    </tr>  </tbody></table><p>216 rows × 16 columns</p></div><h1 id="探索泰坦尼克灾难数据-数据可视化"><a href="#探索泰坦尼克灾难数据-数据可视化" class="headerlink" title="探索泰坦尼克灾难数据(数据可视化)"></a>探索泰坦尼克灾难数据(数据可视化)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path7 = <span class="string">'train.csv'</span>  <span class="comment"># train.csv</span></span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic = pd.read_csv(path7)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>PassengerId</th>      <th>Survived</th>      <th>Pclass</th>      <th>Name</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Ticket</th>      <th>Fare</th>      <th>Cabin</th>      <th>Embarked</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>0</td>      <td>3</td>      <td>Braund, Mr. Owen Harris</td>      <td>male</td>      <td>22.0</td>      <td>1</td>      <td>0</td>      <td>A/5 21171</td>      <td>7.2500</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>1</td>      <td>1</td>      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>      <td>female</td>      <td>38.0</td>      <td>1</td>      <td>0</td>      <td>PC 17599</td>      <td>71.2833</td>      <td>C85</td>      <td>C</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>1</td>      <td>3</td>      <td>Heikkinen, Miss. Laina</td>      <td>female</td>      <td>26.0</td>      <td>0</td>      <td>0</td>      <td>STON/O2. 3101282</td>      <td>7.9250</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>3</th>      <td>4</td>      <td>1</td>      <td>1</td>      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>      <td>female</td>      <td>35.0</td>      <td>1</td>      <td>0</td>      <td>113803</td>      <td>53.1000</td>      <td>C123</td>      <td>S</td>    </tr>    <tr>      <th>4</th>      <td>5</td>      <td>0</td>      <td>3</td>      <td>Allen, Mr. William Henry</td>      <td>male</td>      <td>35.0</td>      <td>0</td>      <td>0</td>      <td>373450</td>      <td>8.0500</td>      <td>NaN</td>      <td>S</td>    </tr>  </tbody></table></div><h2 id="将PassengerId设置为索引"><a href="#将PassengerId设置为索引" class="headerlink" title="将PassengerId设置为索引"></a>将PassengerId设置为索引</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.set_index(<span class="string">'PassengerId'</span>).head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Survived</th>      <th>Pclass</th>      <th>Name</th>      <th>Sex</th>      <th>Age</th>      <th>SibSp</th>      <th>Parch</th>      <th>Ticket</th>      <th>Fare</th>      <th>Cabin</th>      <th>Embarked</th>    </tr>    <tr>      <th>PassengerId</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>0</td>      <td>3</td>      <td>Braund, Mr. Owen Harris</td>      <td>male</td>      <td>22.0</td>      <td>1</td>      <td>0</td>      <td>A/5 21171</td>      <td>7.2500</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>2</th>      <td>1</td>      <td>1</td>      <td>Cumings, Mrs. John Bradley (Florence Briggs Th...</td>      <td>female</td>      <td>38.0</td>      <td>1</td>      <td>0</td>      <td>PC 17599</td>      <td>71.2833</td>      <td>C85</td>      <td>C</td>    </tr>    <tr>      <th>3</th>      <td>1</td>      <td>3</td>      <td>Heikkinen, Miss. Laina</td>      <td>female</td>      <td>26.0</td>      <td>0</td>      <td>0</td>      <td>STON/O2. 3101282</td>      <td>7.9250</td>      <td>NaN</td>      <td>S</td>    </tr>    <tr>      <th>4</th>      <td>1</td>      <td>1</td>      <td>Futrelle, Mrs. Jacques Heath (Lily May Peel)</td>      <td>female</td>      <td>35.0</td>      <td>1</td>      <td>0</td>      <td>113803</td>      <td>53.1000</td>      <td>C123</td>      <td>S</td>    </tr>    <tr>      <th>5</th>      <td>0</td>      <td>3</td>      <td>Allen, Mr. William Henry</td>      <td>male</td>      <td>35.0</td>      <td>0</td>      <td>0</td>      <td>373450</td>      <td>8.0500</td>      <td>NaN</td>      <td>S</td>    </tr>  </tbody></table></div><h2 id="绘制一个展示男女乘客比例的扇形图"><a href="#绘制一个展示男女乘客比例的扇形图" class="headerlink" title="绘制一个展示男女乘客比例的扇形图"></a>绘制一个展示男女乘客比例的扇形图</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行以下代码</span></span><br><span class="line"><span class="comment"># sum the instances of males and females</span></span><br><span class="line">males = (titanic[<span class="string">'Sex'</span>] == <span class="string">'male'</span>).sum()</span><br><span class="line">females = (titanic[<span class="string">'Sex'</span>] == <span class="string">'female'</span>).sum()</span><br><span class="line"></span><br><span class="line"><span class="comment"># put them into a list called proportions</span></span><br><span class="line">proportions = [males, females]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a pie chart</span></span><br><span class="line">plt.pie(</span><br><span class="line">    <span class="comment"># using proportions</span></span><br><span class="line">    proportions,</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># with the labels being officer names</span></span><br><span class="line">    labels = [<span class="string">'Males'</span>, <span class="string">'Females'</span>],</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># with no shadows</span></span><br><span class="line">    shadow = <span class="literal">False</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># with colors</span></span><br><span class="line">    colors = [<span class="string">'blue'</span>,<span class="string">'red'</span>],</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># with one slide exploded out</span></span><br><span class="line">    explode = (<span class="number">0.15</span> , <span class="number">0</span>),</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># with the start angle at 90%</span></span><br><span class="line">    startangle = <span class="number">90</span>,</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># with the percent listed as a fraction</span></span><br><span class="line">    autopct = <span class="string">'%1.1f%%'</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line"><span class="comment"># View the plot drop above</span></span><br><span class="line">plt.axis(<span class="string">'equal'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set labels</span></span><br><span class="line">plt.title(<span class="string">"Sex Proportion"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># View the plot</span></span><br><span class="line">plt.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></div><p><a href="http://q3zyvka9r.bkt.gdipper.com/output_156_0.png" data-fancybox="group" data-caption="png" class="fancybox"><img alt="png" title="png" data-src="http://q3zyvka9r.bkt.gdipper.com/output_156_0.png" class="lazyload"></a></p><h2 id="绘制一个展示船票Fare-与乘客年龄和性别的散点图"><a href="#绘制一个展示船票Fare-与乘客年龄和性别的散点图" class="headerlink" title="绘制一个展示船票Fare, 与乘客年龄和性别的散点图"></a>绘制一个展示船票Fare, 与乘客年龄和性别的散点图</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行以下代码</span></span><br><span class="line"><span class="comment"># creates the plot using</span></span><br><span class="line">lm = sns.lmplot(x = <span class="string">'Age'</span>, y = <span class="string">'Fare'</span>, data = titanic, hue = <span class="string">'Sex'</span>, fit_reg=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># set title</span></span><br><span class="line">lm.set(title = <span class="string">'Fare x Age'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># get the axes object and tweak it</span></span><br><span class="line">axes = lm.axes</span><br><span class="line">axes[<span class="number">0</span>,<span class="number">0</span>].set_ylim(<span class="number">-5</span>,)</span><br><span class="line">axes[<span class="number">0</span>,<span class="number">0</span>].set_xlim(<span class="number">-5</span>,<span class="number">85</span>)</span><br></pre></td></tr></table></figure></div><pre><code>(-5, 85)</code></pre><p><a href="http://q3zyvka9r.bkt.gdipper.com/output_158_1.png" data-fancybox="group" data-caption="png" class="fancybox"><img alt="png" title="png" data-src="http://q3zyvka9r.bkt.gdipper.com/output_158_1.png" class="lazyload"></a></p><h2 id="有多少人生还"><a href="#有多少人生还" class="headerlink" title="有多少人生还"></a>有多少人生还</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">titanic.Survived.sum()</span><br></pre></td></tr></table></figure></div><pre><code>342</code></pre><h2 id="绘制一个展示船票价格的直方图"><a href="#绘制一个展示船票价格的直方图" class="headerlink" title="绘制一个展示船票价格的直方图"></a>绘制一个展示船票价格的直方图</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行以下代码</span></span><br><span class="line"><span class="comment"># sort the values from the top to the least value and slice the first 5 items</span></span><br><span class="line">df = titanic.Fare.sort_values(ascending = <span class="literal">False</span>)</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line"><span class="comment"># create bins interval using numpy</span></span><br><span class="line">binsVal = np.arange(<span class="number">0</span>,<span class="number">600</span>,<span class="number">10</span>)</span><br><span class="line">binsVal</span><br><span class="line"></span><br><span class="line"><span class="comment"># create the plot</span></span><br><span class="line">plt.hist(df, bins = binsVal)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set the title and labels</span></span><br><span class="line">plt.xlabel(<span class="string">'Fare'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Frequency'</span>)</span><br><span class="line">plt.title(<span class="string">'Fare Payed Histrogram'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># show the plot</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></div><p><a href="http://q3zyvka9r.bkt.gdipper.com/output_162_0.png" data-fancybox="group" data-caption="png" class="fancybox"><img alt="png" title="png" data-src="http://q3zyvka9r.bkt.gdipper.com/output_162_0.png" class="lazyload"></a></p><h1 id="探索Pokemon数据-创建数据框"><a href="#探索Pokemon数据-创建数据框" class="headerlink" title="探索Pokemon数据(创建数据框)"></a>探索Pokemon数据(创建数据框)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">raw_data = &#123;<span class="string">"name"</span>: [<span class="string">'Bulbasaur'</span>, <span class="string">'Charmander'</span>,<span class="string">'Squirtle'</span>,<span class="string">'Caterpie'</span>],</span><br><span class="line">            <span class="string">"evolution"</span>: [<span class="string">'Ivysaur'</span>,<span class="string">'Charmeleon'</span>,<span class="string">'Wartortle'</span>,<span class="string">'Metapod'</span>],</span><br><span class="line">            <span class="string">"type"</span>: [<span class="string">'grass'</span>, <span class="string">'fire'</span>, <span class="string">'water'</span>, <span class="string">'bug'</span>],</span><br><span class="line">            <span class="string">"hp"</span>: [<span class="number">45</span>, <span class="number">39</span>, <span class="number">44</span>, <span class="number">45</span>],</span><br><span class="line">            <span class="string">"pokedex"</span>: [<span class="string">'yes'</span>, <span class="string">'no'</span>,<span class="string">'yes'</span>,<span class="string">'no'</span>]                        </span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pokemon = pd.DataFrame(raw_data)</span><br><span class="line">pokemon.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>name</th>      <th>evolution</th>      <th>type</th>      <th>hp</th>      <th>pokedex</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Bulbasaur</td>      <td>Ivysaur</td>      <td>grass</td>      <td>45</td>      <td>yes</td>    </tr>    <tr>      <th>1</th>      <td>Charmander</td>      <td>Charmeleon</td>      <td>fire</td>      <td>39</td>      <td>no</td>    </tr>    <tr>      <th>2</th>      <td>Squirtle</td>      <td>Wartortle</td>      <td>water</td>      <td>44</td>      <td>yes</td>    </tr>    <tr>      <th>3</th>      <td>Caterpie</td>      <td>Metapod</td>      <td>bug</td>      <td>45</td>      <td>no</td>    </tr>  </tbody></table></div><h2 id="数据框的列排序是字母顺序，请重新修改为name-type-hp-evolution-pokedex这个顺序"><a href="#数据框的列排序是字母顺序，请重新修改为name-type-hp-evolution-pokedex这个顺序" class="headerlink" title="数据框的列排序是字母顺序，请重新修改为name, type, hp, evolution, pokedex这个顺序"></a>数据框的列排序是字母顺序，请重新修改为name, type, hp, evolution, pokedex这个顺序</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pokemon = pokemon[[<span class="string">'name'</span>, <span class="string">'type'</span>, <span class="string">'hp'</span>, <span class="string">'evolution'</span>,<span class="string">'pokedex'</span>]]</span><br><span class="line">pokemon</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>name</th>      <th>type</th>      <th>hp</th>      <th>evolution</th>      <th>pokedex</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Bulbasaur</td>      <td>grass</td>      <td>45</td>      <td>Ivysaur</td>      <td>yes</td>    </tr>    <tr>      <th>1</th>      <td>Charmander</td>      <td>fire</td>      <td>39</td>      <td>Charmeleon</td>      <td>no</td>    </tr>    <tr>      <th>2</th>      <td>Squirtle</td>      <td>water</td>      <td>44</td>      <td>Wartortle</td>      <td>yes</td>    </tr>    <tr>      <th>3</th>      <td>Caterpie</td>      <td>bug</td>      <td>45</td>      <td>Metapod</td>      <td>no</td>    </tr>  </tbody></table></div><h2 id="添加一个列place"><a href="#添加一个列place" class="headerlink" title="添加一个列place"></a>添加一个列place</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pokemon[<span class="string">'place'</span>] = [<span class="string">'park'</span>,<span class="string">'street'</span>,<span class="string">'lake'</span>,<span class="string">'forest'</span>]</span><br><span class="line">pokemon</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>name</th>      <th>type</th>      <th>hp</th>      <th>evolution</th>      <th>pokedex</th>      <th>place</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>Bulbasaur</td>      <td>grass</td>      <td>45</td>      <td>Ivysaur</td>      <td>yes</td>      <td>park</td>    </tr>    <tr>      <th>1</th>      <td>Charmander</td>      <td>fire</td>      <td>39</td>      <td>Charmeleon</td>      <td>no</td>      <td>street</td>    </tr>    <tr>      <th>2</th>      <td>Squirtle</td>      <td>water</td>      <td>44</td>      <td>Wartortle</td>      <td>yes</td>      <td>lake</td>    </tr>    <tr>      <th>3</th>      <td>Caterpie</td>      <td>bug</td>      <td>45</td>      <td>Metapod</td>      <td>no</td>      <td>forest</td>    </tr>  </tbody></table></div><h2 id="查看每个列的数据类型"><a href="#查看每个列的数据类型" class="headerlink" title="查看每个列的数据类型"></a>查看每个列的数据类型</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pokemon.dtypes</span><br></pre></td></tr></table></figure></div><pre><code>name         objecttype         objecthp            int64evolution    objectpokedex      objectplace        objectdtype: object</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pokemon.info()</span><br></pre></td></tr></table></figure></div><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 4 entries, 0 to 3Data columns (total 6 columns):name         4 non-null objecttype         4 non-null objecthp           4 non-null int64evolution    4 non-null objectpokedex      4 non-null objectplace        4 non-null objectdtypes: int64(1), object(5)memory usage: 320.0+ bytes</code></pre><h1 id="探索Apple公司股价数据-时间序列"><a href="#探索Apple公司股价数据-时间序列" class="headerlink" title="探索Apple公司股价数据(时间序列)"></a>探索Apple公司股价数据(时间序列)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行以下代码</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># visualization</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path9 = <span class="string">'Apple_stock.csv'</span></span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apple = pd.read_csv(path9)</span><br><span class="line">apple.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Date</th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adj Close</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>2014-07-08</td>      <td>96.27</td>      <td>96.80</td>      <td>93.92</td>      <td>95.35</td>      <td>65130000</td>      <td>95.35</td>    </tr>    <tr>      <th>1</th>      <td>2014-07-07</td>      <td>94.14</td>      <td>95.99</td>      <td>94.10</td>      <td>95.97</td>      <td>56305400</td>      <td>95.97</td>    </tr>    <tr>      <th>2</th>      <td>2014-07-03</td>      <td>93.67</td>      <td>94.10</td>      <td>93.20</td>      <td>94.03</td>      <td>22891800</td>      <td>94.03</td>    </tr>    <tr>      <th>3</th>      <td>2014-07-02</td>      <td>93.87</td>      <td>94.06</td>      <td>93.09</td>      <td>93.48</td>      <td>28420900</td>      <td>93.48</td>    </tr>    <tr>      <th>4</th>      <td>2014-07-01</td>      <td>93.52</td>      <td>94.07</td>      <td>93.13</td>      <td>93.52</td>      <td>38170200</td>      <td>93.52</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.dtypes</span><br></pre></td></tr></table></figure></div><pre><code>Date          objectOpen         float64High         float64Low          float64Close        float64Volume         int64Adj Close    float64dtype: object</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.info()</span><br></pre></td></tr></table></figure></div><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 8465 entries, 0 to 8464Data columns (total 7 columns):Date         8465 non-null objectOpen         8465 non-null float64High         8465 non-null float64Low          8465 non-null float64Close        8465 non-null float64Volume       8465 non-null int64Adj Close    8465 non-null float64dtypes: float64(5), int64(1), object(1)memory usage: 463.1+ KB</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.describe()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adj Close</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>8465.000000</td>      <td>8465.000000</td>      <td>8465.000000</td>      <td>8465.000000</td>      <td>8.465000e+03</td>      <td>8465.000000</td>    </tr>    <tr>      <th>mean</th>      <td>98.593926</td>      <td>99.848683</td>      <td>97.226790</td>      <td>98.549199</td>      <td>9.391214e+07</td>      <td>11.095014</td>    </tr>    <tr>      <th>std</th>      <td>141.965350</td>      <td>143.155674</td>      <td>140.548326</td>      <td>141.877244</td>      <td>8.993202e+07</td>      <td>21.133016</td>    </tr>    <tr>      <th>min</th>      <td>11.120000</td>      <td>11.120000</td>      <td>11.000000</td>      <td>11.000000</td>      <td>2.504000e+05</td>      <td>0.170000</td>    </tr>    <tr>      <th>25%</th>      <td>25.750000</td>      <td>26.000000</td>      <td>25.120000</td>      <td>25.630000</td>      <td>3.704960e+07</td>      <td>0.900000</td>    </tr>    <tr>      <th>50%</th>      <td>40.750000</td>      <td>41.500000</td>      <td>40.000000</td>      <td>40.750000</td>      <td>6.636000e+07</td>      <td>1.410000</td>    </tr>    <tr>      <th>75%</th>      <td>79.500000</td>      <td>81.000000</td>      <td>78.740000</td>      <td>80.000000</td>      <td>1.177701e+08</td>      <td>8.660000</td>    </tr>    <tr>      <th>max</th>      <td>702.410000</td>      <td>705.070000</td>      <td>699.570000</td>      <td>702.100000</td>      <td>1.855410e+09</td>      <td>96.280000</td>    </tr>  </tbody></table></div><h2 id="将Date这个列转换为datetime类型"><a href="#将Date这个列转换为datetime类型" class="headerlink" title="将Date这个列转换为datetime类型"></a>将Date这个列转换为datetime类型</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple[<span class="string">'Date'</span>] = pd.to_datetime(apple[<span class="string">'Date'</span>])</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.dtypes</span><br></pre></td></tr></table></figure></div><pre><code>Date         datetime64[ns]Open                float64High                float64Low                 float64Close               float64Volume                int64Adj Close           float64dtype: object</code></pre><h2 id="将Date设置为索引"><a href="#将Date设置为索引" class="headerlink" title="将Date设置为索引"></a>将Date设置为索引</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple = apple.set_index(<span class="string">'Date'</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adj Close</th>    </tr>    <tr>      <th>Date</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>2014-07-08</th>      <td>96.27</td>      <td>96.80</td>      <td>93.92</td>      <td>95.35</td>      <td>65130000</td>      <td>95.35</td>    </tr>    <tr>      <th>2014-07-07</th>      <td>94.14</td>      <td>95.99</td>      <td>94.10</td>      <td>95.97</td>      <td>56305400</td>      <td>95.97</td>    </tr>    <tr>      <th>2014-07-03</th>      <td>93.67</td>      <td>94.10</td>      <td>93.20</td>      <td>94.03</td>      <td>22891800</td>      <td>94.03</td>    </tr>    <tr>      <th>2014-07-02</th>      <td>93.87</td>      <td>94.06</td>      <td>93.09</td>      <td>93.48</td>      <td>28420900</td>      <td>93.48</td>    </tr>    <tr>      <th>2014-07-01</th>      <td>93.52</td>      <td>94.07</td>      <td>93.13</td>      <td>93.52</td>      <td>38170200</td>      <td>93.52</td>    </tr>  </tbody></table></div><h2 id="有重复的日期吗？"><a href="#有重复的日期吗？" class="headerlink" title="有重复的日期吗？"></a>有重复的日期吗？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(apple.index) - len(apple.index.unique())</span><br></pre></td></tr></table></figure></div><pre><code>0</code></pre><p>官方解法</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.index.is_unique</span><br></pre></td></tr></table></figure></div><pre><code>True</code></pre><h2 id="将index设置为升序"><a href="#将index设置为升序" class="headerlink" title="将index设置为升序"></a>将index设置为升序</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.sort_index(ascending=<span class="literal">True</span>, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adj Close</th>    </tr>    <tr>      <th>Date</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1980-12-12</th>      <td>28.75</td>      <td>28.87</td>      <td>28.75</td>      <td>28.75</td>      <td>117258400</td>      <td>0.45</td>    </tr>    <tr>      <th>1980-12-15</th>      <td>27.38</td>      <td>27.38</td>      <td>27.25</td>      <td>27.25</td>      <td>43971200</td>      <td>0.42</td>    </tr>    <tr>      <th>1980-12-16</th>      <td>25.37</td>      <td>25.37</td>      <td>25.25</td>      <td>25.25</td>      <td>26432000</td>      <td>0.39</td>    </tr>    <tr>      <th>1980-12-17</th>      <td>25.87</td>      <td>26.00</td>      <td>25.87</td>      <td>25.87</td>      <td>21610400</td>      <td>0.40</td>    </tr>    <tr>      <th>1980-12-18</th>      <td>26.63</td>      <td>26.75</td>      <td>26.63</td>      <td>26.63</td>      <td>18362400</td>      <td>0.41</td>    </tr>  </tbody></table></div><h2 id="找到每个月的最后一个交易日-business-day"><a href="#找到每个月的最后一个交易日-business-day" class="headerlink" title="找到每个月的最后一个交易日(business day)"></a>找到每个月的最后一个交易日(business day)</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apple[<span class="string">'year'</span>]=apple.index.year</span><br><span class="line">apple[<span class="string">'month'</span>]=apple.index.month</span><br><span class="line">apple[<span class="string">'day'</span>]=apple.index.day</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.day.shift(<span class="number">-1</span>).fillna(<span class="number">100</span>)</span><br></pre></td></tr></table></figure></div><pre><code>Date1980-12-12     15.01980-12-15     16.01980-12-16     17.01980-12-17     18.01980-12-18     19.0              ...  2014-07-01      2.02014-07-02      3.02014-07-03      7.02014-07-07      8.02014-07-08    100.0Name: day, Length: 8465, dtype: float64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diff = apple.day - apple.day.shift(<span class="number">-1</span>).fillna(<span class="number">100</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.loc[diff[diff&gt;<span class="number">0</span>].index]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>Open</th>      <th>High</th>      <th>Low</th>      <th>Close</th>      <th>Volume</th>      <th>Adj Close</th>      <th>year</th>      <th>month</th>      <th>day</th>    </tr>    <tr>      <th>Date</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>1980-12-31</th>      <td>34.25</td>      <td>34.25</td>      <td>34.13</td>      <td>34.13</td>      <td>8937600</td>      <td>0.53</td>      <td>1980</td>      <td>12</td>      <td>31</td>    </tr>    <tr>      <th>1981-01-30</th>      <td>28.50</td>      <td>28.50</td>      <td>28.25</td>      <td>28.25</td>      <td>11547200</td>      <td>0.44</td>      <td>1981</td>      <td>1</td>      <td>30</td>    </tr>    <tr>      <th>1981-02-27</th>      <td>26.50</td>      <td>26.75</td>      <td>26.50</td>      <td>26.50</td>      <td>3690400</td>      <td>0.41</td>      <td>1981</td>      <td>2</td>      <td>27</td>    </tr>    <tr>      <th>1981-03-31</th>      <td>24.75</td>      <td>24.75</td>      <td>24.50</td>      <td>24.50</td>      <td>3998400</td>      <td>0.38</td>      <td>1981</td>      <td>3</td>      <td>31</td>    </tr>    <tr>      <th>1981-04-30</th>      <td>28.38</td>      <td>28.62</td>      <td>28.38</td>      <td>28.38</td>      <td>3152800</td>      <td>0.44</td>      <td>1981</td>      <td>4</td>      <td>30</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>2014-02-28</th>      <td>529.08</td>      <td>532.75</td>      <td>522.12</td>      <td>526.24</td>      <td>92992200</td>      <td>74.76</td>      <td>2014</td>      <td>2</td>      <td>28</td>    </tr>    <tr>      <th>2014-03-31</th>      <td>539.23</td>      <td>540.81</td>      <td>535.93</td>      <td>536.74</td>      <td>42167300</td>      <td>76.25</td>      <td>2014</td>      <td>3</td>      <td>31</td>    </tr>    <tr>      <th>2014-04-30</th>      <td>592.64</td>      <td>599.43</td>      <td>589.80</td>      <td>590.09</td>      <td>114160200</td>      <td>83.83</td>      <td>2014</td>      <td>4</td>      <td>30</td>    </tr>    <tr>      <th>2014-05-30</th>      <td>637.98</td>      <td>644.17</td>      <td>628.90</td>      <td>633.00</td>      <td>141005200</td>      <td>90.43</td>      <td>2014</td>      <td>5</td>      <td>30</td>    </tr>    <tr>      <th>2014-06-30</th>      <td>92.10</td>      <td>93.73</td>      <td>92.09</td>      <td>92.93</td>      <td>49482300</td>      <td>92.93</td>      <td>2014</td>      <td>6</td>      <td>30</td>    </tr>  </tbody></table><p>403 rows × 9 columns</p></div><h2 id="数据集中最早的日期和最晚的日期相差多少天"><a href="#数据集中最早的日期和最晚的日期相差多少天" class="headerlink" title="数据集中最早的日期和最晚的日期相差多少天"></a>数据集中最早的日期和最晚的日期相差多少天</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apple.index.max()-apple.index.min()</span><br></pre></td></tr></table></figure></div><pre><code>Timedelta(&#39;12261 days 00:00:00&#39;)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(apple.index.max()-apple.index.min()).days</span><br></pre></td></tr></table></figure></div><pre><code>12261</code></pre><h2 id="在数据中一共有多少个月？"><a href="#在数据中一共有多少个月？" class="headerlink" title="在数据中一共有多少个月？"></a>在数据中一共有多少个月？</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">apple_months = apple.resample(<span class="string">'BM'</span>).mean()</span><br><span class="line">len(apple_months.index)</span><br></pre></td></tr></table></figure></div><pre><code>404</code></pre><h2 id="按照时间顺序可视化Adj-Close值"><a href="#按照时间顺序可视化Adj-Close值" class="headerlink" title="按照时间顺序可视化Adj Close值"></a>按照时间顺序可视化Adj Close值</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 运行以下代码</span></span><br><span class="line"><span class="comment"># makes the plot and assign it to a variable</span></span><br><span class="line">appl_open = apple[<span class="string">'Adj Close'</span>].plot(title = <span class="string">"Apple Stock"</span>)</span><br></pre></td></tr></table></figure></div><p><a href="http://q3zyvka9r.bkt.gdipper.com/output_204_0.png" data-fancybox="group" data-caption="png" class="fancybox"><img alt="png" title="png" data-src="http://q3zyvka9r.bkt.gdipper.com/output_204_0.png" class="lazyload"></a></p><h1 id="探索Iris纸鸢花数据-删除数据"><a href="#探索Iris纸鸢花数据-删除数据" class="headerlink" title="探索Iris纸鸢花数据(删除数据)"></a>探索Iris纸鸢花数据(删除数据)</h1><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path10 =<span class="string">'iris.csv'</span>   <span class="comment"># iris.csv</span></span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iris = pd.read_csv(path10,header=<span class="literal">None</span>)</span><br><span class="line">iris.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>5.1</td>      <td>3.5</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>1</th>      <td>4.9</td>      <td>3.0</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>2</th>      <td>4.7</td>      <td>3.2</td>      <td>1.3</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>3</th>      <td>4.6</td>      <td>3.1</td>      <td>1.5</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>4</th>      <td>5.0</td>      <td>3.6</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>  </tbody></table></div><h2 id="创建数据框的列名称"><a href="#创建数据框的列名称" class="headerlink" title="创建数据框的列名称"></a>创建数据框的列名称</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.columns=([<span class="string">'sepal_length'</span>,<span class="string">'sepal_width'</span>, <span class="string">'petal_length'</span>, <span class="string">'petal_width'</span>, <span class="string">'class'</span>])</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sepal_length</th>      <th>sepal_width</th>      <th>petal_length</th>      <th>petal_width</th>      <th>class</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>5.1</td>      <td>3.5</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>1</th>      <td>4.9</td>      <td>3.0</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>2</th>      <td>4.7</td>      <td>3.2</td>      <td>1.3</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>3</th>      <td>4.6</td>      <td>3.1</td>      <td>1.5</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>4</th>      <td>5.0</td>      <td>3.6</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>  </tbody></table></div><h2 id="数据框中有缺失值吗"><a href="#数据框中有缺失值吗" class="headerlink" title="数据框中有缺失值吗"></a>数据框中有缺失值吗</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.isnull().any()</span><br></pre></td></tr></table></figure></div><pre><code>sepal_length    Falsesepal_width     Falsepetal_length    Falsepetal_width     Falseclass           Falsedtype: bool</code></pre><h2 id="将列petal-length的第10到19行设置为缺失值"><a href="#将列petal-length的第10到19行设置为缺失值" class="headerlink" title="将列petal_length的第10到19行设置为缺失值"></a>将列petal_length的第10到19行设置为缺失值</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.loc[<span class="number">10</span>:<span class="number">20</span>, <span class="string">'petal_length'</span>] = np.nan</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.loc[<span class="number">10</span>:<span class="number">20</span>,:]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sepal_length</th>      <th>sepal_width</th>      <th>petal_length</th>      <th>petal_width</th>      <th>class</th>    </tr>  </thead>  <tbody>    <tr>      <th>10</th>      <td>5.4</td>      <td>3.7</td>      <td>NaN</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>11</th>      <td>4.8</td>      <td>3.4</td>      <td>NaN</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>12</th>      <td>4.8</td>      <td>3.0</td>      <td>NaN</td>      <td>0.1</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>13</th>      <td>4.3</td>      <td>3.0</td>      <td>NaN</td>      <td>0.1</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>14</th>      <td>5.8</td>      <td>4.0</td>      <td>NaN</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>15</th>      <td>5.7</td>      <td>4.4</td>      <td>NaN</td>      <td>0.4</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>16</th>      <td>5.4</td>      <td>3.9</td>      <td>NaN</td>      <td>0.4</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>17</th>      <td>5.1</td>      <td>3.5</td>      <td>NaN</td>      <td>0.3</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>18</th>      <td>5.7</td>      <td>3.8</td>      <td>NaN</td>      <td>0.3</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>19</th>      <td>5.1</td>      <td>3.8</td>      <td>NaN</td>      <td>0.3</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>20</th>      <td>5.4</td>      <td>3.4</td>      <td>NaN</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>  </tbody></table></div><h2 id="将缺失值全部替换为1-0"><a href="#将缺失值全部替换为1-0" class="headerlink" title="将缺失值全部替换为1.0"></a>将缺失值全部替换为1.0</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris = iris.fillna(<span class="number">1.0</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.head(<span class="number">20</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sepal_length</th>      <th>sepal_width</th>      <th>petal_length</th>      <th>petal_width</th>      <th>class</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>5.1</td>      <td>3.5</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>1</th>      <td>4.9</td>      <td>3.0</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>2</th>      <td>4.7</td>      <td>3.2</td>      <td>1.3</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>3</th>      <td>4.6</td>      <td>3.1</td>      <td>1.5</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>4</th>      <td>5.0</td>      <td>3.6</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>5</th>      <td>5.4</td>      <td>3.9</td>      <td>1.7</td>      <td>0.4</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>6</th>      <td>4.6</td>      <td>3.4</td>      <td>1.4</td>      <td>0.3</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>7</th>      <td>5.0</td>      <td>3.4</td>      <td>1.5</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>8</th>      <td>4.4</td>      <td>2.9</td>      <td>1.4</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>9</th>      <td>4.9</td>      <td>3.1</td>      <td>1.5</td>      <td>0.1</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>10</th>      <td>5.4</td>      <td>3.7</td>      <td>1.0</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>11</th>      <td>4.8</td>      <td>3.4</td>      <td>1.0</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>12</th>      <td>4.8</td>      <td>3.0</td>      <td>1.0</td>      <td>0.1</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>13</th>      <td>4.3</td>      <td>3.0</td>      <td>1.0</td>      <td>0.1</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>14</th>      <td>5.8</td>      <td>4.0</td>      <td>1.0</td>      <td>0.2</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>15</th>      <td>5.7</td>      <td>4.4</td>      <td>1.0</td>      <td>0.4</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>16</th>      <td>5.4</td>      <td>3.9</td>      <td>1.0</td>      <td>0.4</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>17</th>      <td>5.1</td>      <td>3.5</td>      <td>1.0</td>      <td>0.3</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>18</th>      <td>5.7</td>      <td>3.8</td>      <td>1.0</td>      <td>0.3</td>      <td>Iris-setosa</td>    </tr>    <tr>      <th>19</th>      <td>5.1</td>      <td>3.8</td>      <td>1.0</td>      <td>0.3</td>      <td>Iris-setosa</td>    </tr>  </tbody></table></div><h2 id="删除列class"><a href="#删除列class" class="headerlink" title="删除列class"></a>删除列class</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.drop(<span class="string">'class'</span>,inplace=<span class="literal">True</span>,axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.head()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sepal_length</th>      <th>sepal_width</th>      <th>petal_length</th>      <th>petal_width</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>5.1</td>      <td>3.5</td>      <td>1.4</td>      <td>0.2</td>    </tr>    <tr>      <th>1</th>      <td>4.9</td>      <td>3.0</td>      <td>1.4</td>      <td>0.2</td>    </tr>    <tr>      <th>2</th>      <td>4.7</td>      <td>3.2</td>      <td>1.3</td>      <td>0.2</td>    </tr>    <tr>      <th>3</th>      <td>4.6</td>      <td>3.1</td>      <td>1.5</td>      <td>0.2</td>    </tr>    <tr>      <th>4</th>      <td>5.0</td>      <td>3.6</td>      <td>1.4</td>      <td>0.2</td>    </tr>  </tbody></table></div><h2 id="将数据框前三行设置为缺失值"><a href="#将数据框前三行设置为缺失值" class="headerlink" title="将数据框前三行设置为缺失值"></a>将数据框前三行设置为缺失值</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iris.iloc[<span class="number">0</span>:<span class="number">3</span>, :] = np.nan</span><br><span class="line">iris</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sepal_length</th>      <th>sepal_width</th>      <th>petal_length</th>      <th>petal_width</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>1</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>2</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>3</th>      <td>4.6</td>      <td>3.1</td>      <td>1.5</td>      <td>0.2</td>    </tr>    <tr>      <th>4</th>      <td>5.0</td>      <td>3.6</td>      <td>1.4</td>      <td>0.2</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>145</th>      <td>6.7</td>      <td>3.0</td>      <td>5.2</td>      <td>2.3</td>    </tr>    <tr>      <th>146</th>      <td>6.3</td>      <td>2.5</td>      <td>5.0</td>      <td>1.9</td>    </tr>    <tr>      <th>147</th>      <td>6.5</td>      <td>3.0</td>      <td>5.2</td>      <td>2.0</td>    </tr>    <tr>      <th>148</th>      <td>6.2</td>      <td>3.4</td>      <td>5.4</td>      <td>2.3</td>    </tr>    <tr>      <th>149</th>      <td>5.9</td>      <td>3.0</td>      <td>5.1</td>      <td>1.8</td>    </tr>  </tbody></table><p>150 rows × 4 columns</p></div><h2 id="删除有缺失值的行"><a href="#删除有缺失值的行" class="headerlink" title="删除有缺失值的行"></a>删除有缺失值的行</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris.dropna(axis=<span class="number">0</span>, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iris</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sepal_length</th>      <th>sepal_width</th>      <th>petal_length</th>      <th>petal_width</th>    </tr>  </thead>  <tbody>    <tr>      <th>3</th>      <td>4.6</td>      <td>3.1</td>      <td>1.5</td>      <td>0.2</td>    </tr>    <tr>      <th>4</th>      <td>5.0</td>      <td>3.6</td>      <td>1.4</td>      <td>0.2</td>    </tr>    <tr>      <th>5</th>      <td>5.4</td>      <td>3.9</td>      <td>1.7</td>      <td>0.4</td>    </tr>    <tr>      <th>6</th>      <td>4.6</td>      <td>3.4</td>      <td>1.4</td>      <td>0.3</td>    </tr>    <tr>      <th>7</th>      <td>5.0</td>      <td>3.4</td>      <td>1.5</td>      <td>0.2</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>145</th>      <td>6.7</td>      <td>3.0</td>      <td>5.2</td>      <td>2.3</td>    </tr>    <tr>      <th>146</th>      <td>6.3</td>      <td>2.5</td>      <td>5.0</td>      <td>1.9</td>    </tr>    <tr>      <th>147</th>      <td>6.5</td>      <td>3.0</td>      <td>5.2</td>      <td>2.0</td>    </tr>    <tr>      <th>148</th>      <td>6.2</td>      <td>3.4</td>      <td>5.4</td>      <td>2.3</td>    </tr>    <tr>      <th>149</th>      <td>5.9</td>      <td>3.0</td>      <td>5.1</td>      <td>1.8</td>    </tr>  </tbody></table><p>147 rows × 4 columns</p></div><h2 id="重新设置索引"><a href="#重新设置索引" class="headerlink" title="重新设置索引"></a>重新设置索引</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iris.reset_index(inplace=<span class="literal">True</span>, drop=<span class="literal">True</span>)</span><br><span class="line">iris</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>sepal_length</th>      <th>sepal_width</th>      <th>petal_length</th>      <th>petal_width</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>4.6</td>      <td>3.1</td>      <td>1.5</td>      <td>0.2</td>    </tr>    <tr>      <th>1</th>      <td>5.0</td>      <td>3.6</td>      <td>1.4</td>      <td>0.2</td>    </tr>    <tr>      <th>2</th>      <td>5.4</td>      <td>3.9</td>      <td>1.7</td>      <td>0.4</td>    </tr>    <tr>      <th>3</th>      <td>4.6</td>      <td>3.4</td>      <td>1.4</td>      <td>0.3</td>    </tr>    <tr>      <th>4</th>      <td>5.0</td>      <td>3.4</td>      <td>1.5</td>      <td>0.2</td>    </tr>    <tr>      <th>...</th>      <td>...</td>      <td>...</td>      <td>...</td>      <td>...</td>    </tr>    <tr>      <th>142</th>      <td>6.7</td>      <td>3.0</td>      <td>5.2</td>      <td>2.3</td>    </tr>    <tr>      <th>143</th>      <td>6.3</td>      <td>2.5</td>      <td>5.0</td>      <td>1.9</td>    </tr>    <tr>      <th>144</th>      <td>6.5</td>      <td>3.0</td>      <td>5.2</td>      <td>2.0</td>    </tr>    <tr>      <th>145</th>      <td>6.2</td>      <td>3.4</td>      <td>5.4</td>      <td>2.3</td>    </tr>    <tr>      <th>146</th>      <td>5.9</td>      <td>3.0</td>      <td>5.1</td>      <td>1.8</td>    </tr>  </tbody></table><p>147 rows × 4 columns</p></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="kesci_notes" scheme="http://yoursite.com/categories/python/kesci-notes/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="pandas" scheme="http://yoursite.com/tags/pandas/"/>
    
      <category term="kesci" scheme="http://yoursite.com/tags/kesci/"/>
    
  </entry>
  
  <entry>
    <title>pandas datetime notes</title>
    <link href="http://yoursite.com/2020/01/15/python/basics/pandas_datetime_notes/"/>
    <id>http://yoursite.com/2020/01/15/python/basics/pandas_datetime_notes/</id>
    <published>2020-01-16T01:39:00.000Z</published>
    <updated>2020-01-19T17:27:54.918Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="datetime-如何加特定的-offset"><a href="#datetime-如何加特定的-offset" class="headerlink" title="datetime 如何加特定的 offset"></a>datetime 如何加特定的 offset</h1><p><a href="https://blog.csdn.net/AlanGuoo/article/details/89022135" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/AlanGuoo/article/details/89022135</a></p><h1 id="datetime-介绍-blog"><a href="#datetime-介绍-blog" class="headerlink" title="datetime 介绍 blog"></a>datetime 介绍 blog</h1><p><a href="https://www.jianshu.com/p/96ea42c58abe" target="_blank" rel="external nofollow noopener noreferrer">https://www.jianshu.com/p/96ea42c58abe</a></p><h1 id="datetime详细处理"><a href="#datetime详细处理" class="headerlink" title="datetime详细处理"></a>datetime详细处理</h1><p><a href="https://blog.csdn.net/onemorepoint/article/details/86158127" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/onemorepoint/article/details/86158127</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/python/basics/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="pandas" scheme="http://yoursite.com/tags/pandas/"/>
    
  </entry>
  
  <entry>
    <title>pandas 基础命令速查表</title>
    <link href="http://yoursite.com/2020/01/14/python/kesci_notes/pandas%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5%E8%A1%A8/"/>
    <id>http://yoursite.com/2020/01/14/python/kesci_notes/pandas%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E9%80%9F%E6%9F%A5%E8%A1%A8/</id>
    <published>2020-01-14T20:46:00.000Z</published>
    <updated>2020-01-19T17:27:54.929Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><font size="72">pandas 基础命令复习</font><p>此notebook为kesci.com的pandas基础命令速查表项目。<br>网址链接：<br><a href="https://www.kesci.com/home/project/59e389b54663f7655c48f518" target="_blank" rel="external nofollow noopener noreferrer">pandas基础命令速查表</a></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure></div><h2 id="数据导入"><a href="#数据导入" class="headerlink" title="数据导入"></a>数据导入</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pd.read_csv(filename) <span class="comment"># 导入csv格式文件中的数据</span></span><br><span class="line">pd.read_table(filename) <span class="comment"># 导入有分隔符的文本 (如TSV) 中的数据</span></span><br><span class="line">pd.read_excel(filename) <span class="comment"># 导入Excel格式文件中的数据</span></span><br><span class="line">pd.read_sql(query, connection_object) <span class="comment"># 导入SQL数据表/数据库中的数据</span></span><br><span class="line">pd.read_json(json_string) <span class="comment"># 导入JSON格式的字符，URL地址或者文件中的数据</span></span><br><span class="line">pd.read_html(url) <span class="comment"># 导入经过解析的URL地址中包含的数据框 (DataFrame) 数据</span></span><br><span class="line">pd.read_clipmboard() <span class="comment"># 导入系统粘贴板里面的数据</span></span><br><span class="line">pd.DataFrame(dict)  <span class="comment"># 导入Python字典 (dict) 里面的数据，其中key是数据框的表头，value是数据框的内容。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">parse_dates = [[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]]可以合并读入数据的前三列变成一个datetime的序列</span><br></pre></td></tr></table></figure></div><h2 id="数据导出"><a href="#数据导出" class="headerlink" title="数据导出"></a>数据导出</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(filename) <span class="comment"># 将数据框 (DataFrame)中的数据导入csv格式的文件中</span></span><br><span class="line">df.to_excel(filename) <span class="comment"># 将数据框 (DataFrame)中的数据导入Excel格式的文件中</span></span><br><span class="line">df.to_sql(table_name,connection_object) <span class="comment"># 将数据框 (DataFrame)中的数据导入SQL数据表/数据库中</span></span><br><span class="line">df.to_json(filename) <span class="comment"># 将数据框 (DataFrame)中的数据导入JSON格式的文件中</span></span><br></pre></td></tr></table></figure></div><h2 id="创建测试对象"><a href="#创建测试对象" class="headerlink" title="创建测试对象"></a>创建测试对象</h2><h3 id="numpy-array-创建"><a href="#numpy-array-创建" class="headerlink" title="numpy array 创建"></a>numpy array 创建</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.DataFrame(np.random.rand(<span class="number">10</span>, <span class="number">5</span>))</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>0.585777</td>      <td>0.433112</td>      <td>0.338235</td>      <td>0.291173</td>      <td>0.031913</td>    </tr>    <tr>      <th>1</th>      <td>0.624464</td>      <td>0.895368</td>      <td>0.292560</td>      <td>0.080429</td>      <td>0.495787</td>    </tr>    <tr>      <th>2</th>      <td>0.816629</td>      <td>0.563991</td>      <td>0.189032</td>      <td>0.114238</td>      <td>0.524798</td>    </tr>    <tr>      <th>3</th>      <td>0.065594</td>      <td>0.794394</td>      <td>0.699740</td>      <td>0.413209</td>      <td>0.630886</td>    </tr>    <tr>      <th>4</th>      <td>0.001313</td>      <td>0.100108</td>      <td>0.882507</td>      <td>0.498680</td>      <td>0.108653</td>    </tr>    <tr>      <th>5</th>      <td>0.777563</td>      <td>0.892090</td>      <td>0.950747</td>      <td>0.869066</td>      <td>0.405635</td>    </tr>    <tr>      <th>6</th>      <td>0.597492</td>      <td>0.794607</td>      <td>0.345172</td>      <td>0.685253</td>      <td>0.434808</td>    </tr>    <tr>      <th>7</th>      <td>0.263838</td>      <td>0.649635</td>      <td>0.828545</td>      <td>0.859189</td>      <td>0.090903</td>    </tr>    <tr>      <th>8</th>      <td>0.074650</td>      <td>0.448147</td>      <td>0.905926</td>      <td>0.283079</td>      <td>0.618817</td>    </tr>    <tr>      <th>9</th>      <td>0.117861</td>      <td>0.120424</td>      <td>0.063917</td>      <td>0.605063</td>      <td>0.954940</td>    </tr>  </tbody></table></div><h3 id="list-创建"><a href="#list-创建" class="headerlink" title="list 创建"></a>list 创建</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">my_list = [<span class="string">'Kesci'</span>,<span class="number">100</span>,<span class="string">'欢迎来到科赛网'</span>]</span><br><span class="line">pd.Series(my_list)</span><br></pre></td></tr></table></figure></div><pre><code>0      Kesci1        1002    欢迎来到科赛网dtype: object</code></pre><p>添加一个日期索引</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.rand(<span class="number">10</span>,<span class="number">5</span>))</span><br><span class="line">df.index = pd.date_range(<span class="string">'2017/1/1'</span>, periods=df.shape[<span class="number">0</span>])</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-01</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>2017-01-02</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>2017-01-05</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>2017-01-06</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>2017-01-07</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><h3 id="用普通字典创建"><a href="#用普通字典创建" class="headerlink" title="用普通字典创建"></a>用普通字典创建</h3><p>注意此法不能保证顺序</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">new_dict = &#123;&#125;</span><br><span class="line">new_dict[<span class="string">'foo'</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] </span><br><span class="line">new_dict[<span class="string">'bar'</span>] = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">df = pd.DataFrame(new_dict)</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>foo</th>      <th>bar</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>5</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>6</td>    </tr>  </tbody></table></div><h3 id="用orderdict创建"><a href="#用orderdict创建" class="headerlink" title="用orderdict创建"></a>用orderdict创建</h3><p>此法一定能够按照顺序创建</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line">order_dict = OrderedDict()</span><br><span class="line">order_dict[<span class="string">'foo'</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">order_dict[<span class="string">'bar'</span>] = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">order_dict</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(order_dict)</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>foo</th>      <th>bar</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>5</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>6</td>    </tr>  </tbody></table></div><h2 id="数据的查看与检查"><a href="#数据的查看与检查" class="headerlink" title="数据的查看与检查"></a>数据的查看与检查</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.head(<span class="number">3</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-01</th>      <td>0.933522</td>      <td>0.245400</td>      <td>0.293748</td>      <td>0.723707</td>      <td>0.844672</td>    </tr>    <tr>      <th>2017-01-02</th>      <td>0.583137</td>      <td>0.717747</td>      <td>0.409480</td>      <td>0.489166</td>      <td>0.788739</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.234310</td>      <td>0.287521</td>      <td>0.574982</td>      <td>0.845111</td>      <td>0.817525</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.tail(<span class="number">3</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-08</th>      <td>0.551200</td>      <td>0.934601</td>      <td>0.933677</td>      <td>0.792482</td>      <td>0.532230</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.126025</td>      <td>0.033953</td>      <td>0.284972</td>      <td>0.715794</td>      <td>0.083033</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.138878</td>      <td>0.834870</td>      <td>0.065170</td>      <td>0.289762</td>      <td>0.456829</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.shape</span><br></pre></td></tr></table></figure></div><pre><code>(10, 5)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.info()</span><br></pre></td></tr></table></figure></div><pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;DatetimeIndex: 10 entries, 2017-01-01 to 2017-01-10Freq: DData columns (total 5 columns):0    10 non-null float641    10 non-null float642    10 non-null float643    10 non-null float644    10 non-null float64dtypes: float64(5)memory usage: 800.0 bytes</code></pre><h3 id="数据描述"><a href="#数据描述" class="headerlink" title="数据描述"></a>数据描述</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.describe()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>10.000000</td>      <td>10.000000</td>      <td>10.000000</td>      <td>10.000000</td>      <td>10.000000</td>    </tr>    <tr>      <th>mean</th>      <td>0.497133</td>      <td>0.390297</td>      <td>0.444135</td>      <td>0.700152</td>      <td>0.542396</td>    </tr>    <tr>      <th>std</th>      <td>0.290880</td>      <td>0.333661</td>      <td>0.281356</td>      <td>0.193923</td>      <td>0.272418</td>    </tr>    <tr>      <th>min</th>      <td>0.126025</td>      <td>0.033116</td>      <td>0.065170</td>      <td>0.289762</td>      <td>0.083033</td>    </tr>    <tr>      <th>25%</th>      <td>0.277898</td>      <td>0.142655</td>      <td>0.287166</td>      <td>0.649304</td>      <td>0.376368</td>    </tr>    <tr>      <th>50%</th>      <td>0.492851</td>      <td>0.266461</td>      <td>0.378556</td>      <td>0.719751</td>      <td>0.516397</td>    </tr>    <tr>      <th>75%</th>      <td>0.608873</td>      <td>0.659798</td>      <td>0.637238</td>      <td>0.831953</td>      <td>0.810329</td>    </tr>    <tr>      <th>max</th>      <td>0.943647</td>      <td>0.934601</td>      <td>0.933677</td>      <td>0.921472</td>      <td>0.844672</td>    </tr>  </tbody></table></div><h3 id="单列数值次数统计"><a href="#单列数值次数统计" class="headerlink" title="单列数值次数统计"></a>单列数值次数统计</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[:, <span class="number">0</span>].value_counts(dropna=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></div><pre><code>0.943647    10.617452    10.583137    10.551200    10.234310    10.933522    10.138878    10.408662    10.126025    10.434502    1Name: 0, dtype: int64</code></pre><h3 id="查询数据框-Data-Frame-中每个列的独特数据值出现次数统计"><a href="#查询数据框-Data-Frame-中每个列的独特数据值出现次数统计" class="headerlink" title="查询数据框 (Data Frame) 中每个列的独特数据值出现次数统计"></a>查询数据框 (Data Frame) 中每个列的独特数据值出现次数统计</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.apply(pd.Series.value_counts)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>0.033116</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.033953</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.065170</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.083033</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.114544</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.120403</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.126025</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.138878</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.209412</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.223586</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.234310</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.245400</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.284972</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.287521</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.289762</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.293748</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.347632</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.349548</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.408662</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.409480</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.434502</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.456829</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.485952</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.489166</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.500563</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.532230</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.551200</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.574982</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.583137</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.617452</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.639218</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.657990</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.679562</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.715794</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.717747</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.723707</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.759157</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.788739</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.792482</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.817525</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.827238</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.834870</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.844672</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>    </tr>    <tr>      <th>0.845111</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.905241</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.921472</th>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>    </tr>    <tr>      <th>0.933522</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.933677</th>      <td>NaN</td>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.934601</th>      <td>NaN</td>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>    <tr>      <th>0.943647</th>      <td>1.0</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><h3 id="分类计数"><a href="#分类计数" class="headerlink" title="分类计数"></a>分类计数</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line">order_dict = OrderedDict()</span><br><span class="line">order_dict[<span class="string">'foo'</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>]</span><br><span class="line">order_dict[<span class="string">'bar'</span>] = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">5</span>]</span><br><span class="line">df = pd.DataFrame(order_dict)</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>foo</th>      <th>bar</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>5</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>6</td>    </tr>    <tr>      <th>3</th>      <td>3</td>      <td>5</td>    </tr>    <tr>      <th>4</th>      <td>1</td>      <td>5</td>    </tr>  </tbody></table></div><p>样本分类统计个数</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[:, <span class="string">'foo'</span>].value_counts().head(<span class="number">20</span>)</span><br></pre></td></tr></table></figure></div><pre><code>3    21    22    1Name: foo, dtype: int64</code></pre><h3 id="样本类型个数"><a href="#样本类型个数" class="headerlink" title="样本类型个数"></a>样本类型个数</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[:, <span class="string">'foo'</span>].nunique()</span><br></pre></td></tr></table></figure></div><pre><code>3</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[:, <span class="string">'foo'</span>].value_counts().shape[<span class="number">0</span>]</span><br></pre></td></tr></table></figure></div><pre><code>3</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">len(df.loc[:, <span class="string">'foo'</span>].unique())</span><br></pre></td></tr></table></figure></div><pre><code>3</code></pre><h2 id="数据的选取"><a href="#数据的选取" class="headerlink" title="数据的选取"></a>数据的选取</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-01</th>      <td>0.933522</td>      <td>0.245400</td>      <td>0.293748</td>      <td>0.723707</td>      <td>0.844672</td>    </tr>    <tr>      <th>2017-01-02</th>      <td>0.583137</td>      <td>0.717747</td>      <td>0.409480</td>      <td>0.489166</td>      <td>0.788739</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.234310</td>      <td>0.287521</td>      <td>0.574982</td>      <td>0.845111</td>      <td>0.817525</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.434502</td>      <td>0.120403</td>      <td>0.347632</td>      <td>0.639218</td>      <td>0.223586</td>    </tr>    <tr>      <th>2017-01-05</th>      <td>0.408662</td>      <td>0.209412</td>      <td>0.657990</td>      <td>0.679562</td>      <td>0.349548</td>    </tr>    <tr>      <th>2017-01-06</th>      <td>0.617452</td>      <td>0.033116</td>      <td>0.759157</td>      <td>0.921472</td>      <td>0.827238</td>    </tr>    <tr>      <th>2017-01-07</th>      <td>0.943647</td>      <td>0.485952</td>      <td>0.114544</td>      <td>0.905241</td>      <td>0.500563</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.551200</td>      <td>0.934601</td>      <td>0.933677</td>      <td>0.792482</td>      <td>0.532230</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.126025</td>      <td>0.033953</td>      <td>0.284972</td>      <td>0.715794</td>      <td>0.083033</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.138878</td>      <td>0.834870</td>      <td>0.065170</td>      <td>0.289762</td>      <td>0.456829</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[<span class="string">'2017-01-01'</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure></div><pre><code>0.24540013304048203</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.ix[<span class="string">'2017-01-01'</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure></div><pre><code>C:\Users\yxion\Anaconda3\envs\py37\lib\site-packages\ipykernel_launcher.py:1: FutureWarning: .ix is deprecated. Please use.loc for label based indexing or.iloc for positional indexingSee the documentation here:http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#ix-indexer-is-deprecated  &quot;&quot;&quot;Entry point for launching an IPython kernel.0.24540013304048203</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.iloc[<span class="number">0</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure></div><pre><code>0.24540013304048203</code></pre><h2 id="数据的清洗"><a href="#数据的清洗" class="headerlink" title="数据的清洗"></a>数据的清洗</h2><h3 id="数据列的重命名"><a href="#数据列的重命名" class="headerlink" title="数据列的重命名"></a>数据列的重命名</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-01</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>2017-01-02</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>2017-01-05</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>2017-01-06</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>2017-01-07</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.columns = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>]</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>a</th>      <th>b</th>      <th>c</th>      <th>d</th>      <th>e</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-01</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>2017-01-02</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>2017-01-05</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>2017-01-06</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>2017-01-07</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><p>df.rename不会替换原dataframe</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.rename(columns=<span class="keyword">lambda</span> x: x+<span class="string">'changed'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>achanged</th>      <th>bchanged</th>      <th>cchanged</th>      <th>dchanged</th>      <th>echanged</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-01</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>2017-01-02</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>2017-01-05</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>2017-01-06</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>2017-01-07</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.rename(columns=&#123;<span class="string">'a'</span>:<span class="string">'newA'</span>,<span class="string">'c'</span>:<span class="string">'newC'</span>&#125;)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>newA</th>      <th>b</th>      <th>newC</th>      <th>d</th>      <th>e</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-01</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>2017-01-02</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>2017-01-05</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>2017-01-06</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>2017-01-07</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><h3 id="数据行的重命名"><a href="#数据行的重命名" class="headerlink" title="数据行的重命名"></a>数据行的重命名</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.index = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>]</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>a</th>      <th>b</th>      <th>c</th>      <th>d</th>      <th>e</th>    </tr>  </thead>  <tbody>    <tr>      <th>a</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>b</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>c</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>d</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>e</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>f</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>g</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>h</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>i</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>j</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><h3 id="使用特定列作为行索引"><a href="#使用特定列作为行索引" class="headerlink" title="使用特定列作为行索引"></a>使用特定列作为行索引</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>a</th>      <th>b</th>      <th>c</th>      <th>d</th>      <th>e</th>    </tr>  </thead>  <tbody>    <tr>      <th>a</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>b</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>c</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>d</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>e</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>f</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>g</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>h</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>i</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>j</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><p>例如把a这列变成index</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1 = df.set_index(<span class="string">'a'</span>)</span><br><span class="line">df1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>b</th>      <th>c</th>      <th>d</th>      <th>e</th>    </tr>    <tr>      <th>a</th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>0.828249</th>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>0.566537</th>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>0.468922</th>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>0.467536</th>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>0.599552</th>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>0.946407</th>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>0.791554</th>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>0.052724</th>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>0.492461</th>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>0.562764</th>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><p>还原index, 把index列变回数据</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df2 = df1.reset_index()</span><br><span class="line">df2</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>a</th>      <th>b</th>      <th>c</th>      <th>d</th>      <th>e</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>1</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>2</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>3</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>4</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>5</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>6</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>7</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>    <tr>      <th>8</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>9</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>  </tbody></table></div><h3 id="检查空值"><a href="#检查空值" class="headerlink" title="检查空值"></a>检查空值</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">'A'</span>:np.array([<span class="number">1</span>,np.nan,<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,np.nan]),</span><br><span class="line">                 <span class="string">'B'</span>:np.array([np.nan,<span class="number">4</span>,np.nan,<span class="number">5</span>,<span class="number">9</span>,np.nan]),</span><br><span class="line">                  <span class="string">'C'</span>:<span class="string">'foo'</span>&#125;)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1.0</td>      <td>NaN</td>      <td>foo</td>    </tr>    <tr>      <th>1</th>      <td>NaN</td>      <td>4.0</td>      <td>foo</td>    </tr>    <tr>      <th>2</th>      <td>2.0</td>      <td>NaN</td>      <td>foo</td>    </tr>    <tr>      <th>3</th>      <td>3.0</td>      <td>5.0</td>      <td>foo</td>    </tr>    <tr>      <th>4</th>      <td>6.0</td>      <td>9.0</td>      <td>foo</td>    </tr>    <tr>      <th>5</th>      <td>NaN</td>      <td>NaN</td>      <td>foo</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.isnull(df)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>False</td>      <td>True</td>      <td>False</td>    </tr>    <tr>      <th>1</th>      <td>True</td>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>2</th>      <td>False</td>      <td>True</td>      <td>False</td>    </tr>    <tr>      <th>3</th>      <td>False</td>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>4</th>      <td>False</td>      <td>False</td>      <td>False</td>    </tr>    <tr>      <th>5</th>      <td>True</td>      <td>True</td>      <td>False</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.notnull(df)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>True</td>      <td>False</td>      <td>True</td>    </tr>    <tr>      <th>1</th>      <td>False</td>      <td>True</td>      <td>True</td>    </tr>    <tr>      <th>2</th>      <td>True</td>      <td>False</td>      <td>True</td>    </tr>    <tr>      <th>3</th>      <td>True</td>      <td>True</td>      <td>True</td>    </tr>    <tr>      <th>4</th>      <td>True</td>      <td>True</td>      <td>True</td>    </tr>    <tr>      <th>5</th>      <td>False</td>      <td>False</td>      <td>True</td>    </tr>  </tbody></table></div><h3 id="移除空值行"><a href="#移除空值行" class="headerlink" title="移除空值行"></a>移除空值行</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.dropna()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>3</th>      <td>3.0</td>      <td>5.0</td>      <td>foo</td>    </tr>    <tr>      <th>4</th>      <td>6.0</td>      <td>9.0</td>      <td>foo</td>    </tr>  </tbody></table></div><h3 id="移除空值列"><a href="#移除空值列" class="headerlink" title="移除空值列"></a>移除空值列</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.dropna(axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>    </tr>    <tr>      <th>4</th>      <td>foo</td>    </tr>    <tr>      <th>5</th>      <td>foo</td>    </tr>  </tbody></table></div><h3 id="移除超过n个空值的列"><a href="#移除超过n个空值的列" class="headerlink" title="移除超过n个空值的列"></a>移除超过n个空值的列</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.dropna(axis=<span class="number">1</span>,thresh=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1.0</td>      <td>NaN</td>      <td>foo</td>    </tr>    <tr>      <th>1</th>      <td>NaN</td>      <td>4.0</td>      <td>foo</td>    </tr>    <tr>      <th>2</th>      <td>2.0</td>      <td>NaN</td>      <td>foo</td>    </tr>    <tr>      <th>3</th>      <td>3.0</td>      <td>5.0</td>      <td>foo</td>    </tr>    <tr>      <th>4</th>      <td>6.0</td>      <td>9.0</td>      <td>foo</td>    </tr>    <tr>      <th>5</th>      <td>NaN</td>      <td>NaN</td>      <td>foo</td>    </tr>  </tbody></table></div><h3 id="填充空值为常数"><a href="#填充空值为常数" class="headerlink" title="填充空值为常数"></a>填充空值为常数</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.fillna(<span class="string">'Test'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>Test</td>      <td>foo</td>    </tr>    <tr>      <th>1</th>      <td>Test</td>      <td>4</td>      <td>foo</td>    </tr>    <tr>      <th>2</th>      <td>2</td>      <td>Test</td>      <td>foo</td>    </tr>    <tr>      <th>3</th>      <td>3</td>      <td>5</td>      <td>foo</td>    </tr>    <tr>      <th>4</th>      <td>6</td>      <td>9</td>      <td>foo</td>    </tr>    <tr>      <th>5</th>      <td>Test</td>      <td>Test</td>      <td>foo</td>    </tr>  </tbody></table></div><h3 id="填充空值为均值"><a href="#填充空值为均值" class="headerlink" title="填充空值为均值"></a>填充空值为均值</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.fillna(df.mean())</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1.0</td>      <td>6.0</td>      <td>foo</td>    </tr>    <tr>      <th>1</th>      <td>3.0</td>      <td>4.0</td>      <td>foo</td>    </tr>    <tr>      <th>2</th>      <td>2.0</td>      <td>6.0</td>      <td>foo</td>    </tr>    <tr>      <th>3</th>      <td>3.0</td>      <td>5.0</td>      <td>foo</td>    </tr>    <tr>      <th>4</th>      <td>6.0</td>      <td>9.0</td>      <td>foo</td>    </tr>    <tr>      <th>5</th>      <td>3.0</td>      <td>6.0</td>      <td>foo</td>    </tr>  </tbody></table></div><h3 id="转换数据类型"><a href="#转换数据类型" class="headerlink" title="转换数据类型"></a>转换数据类型</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[:, <span class="string">'A'</span>].astype(np.float64)</span><br></pre></td></tr></table></figure></div><pre><code>0    1.01    NaN2    2.03    3.04    6.05    NaNName: A, dtype: float64</code></pre><h3 id="替换特定数据"><a href="#替换特定数据" class="headerlink" title="替换特定数据"></a>替换特定数据</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,np.nan,<span class="number">7</span>,<span class="number">9</span>,<span class="number">9</span>])</span><br><span class="line">s.replace(<span class="number">1</span>, <span class="string">'one'</span>)</span><br></pre></td></tr></table></figure></div><pre><code>0    one1      32      53    NaN4      75      96      9dtype: object</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s</span><br></pre></td></tr></table></figure></div><pre><code>0    1.01    3.02    5.03    NaN4    7.05    9.06    9.0dtype: float64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s.replace([<span class="number">1</span>,<span class="number">3</span>],[<span class="string">'one'</span>,<span class="string">'three'</span>])</span><br></pre></td></tr></table></figure></div><pre><code>0      one1    three2        53      NaN4        75        96        9dtype: object</code></pre><h3 id="删除列或者行"><a href="#删除列或者行" class="headerlink" title="删除列或者行"></a>删除列或者行</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line">order_dict = OrderedDict()</span><br><span class="line">order_dict[<span class="string">'foo'</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">order_dict[<span class="string">'bar'</span>] = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">order_dict</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(order_dict)</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>foo</th>      <th>bar</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>5</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>6</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.drop(<span class="string">'foo'</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>bar</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>5</td>    </tr>    <tr>      <th>2</th>      <td>6</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.drop(<span class="number">0</span>, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>foo</th>      <th>bar</th>    </tr>  </thead>  <tbody>    <tr>      <th>1</th>      <td>2</td>      <td>5</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>6</td>    </tr>  </tbody></table></div><h2 id="数据过滤-排序-分组"><a href="#数据过滤-排序-分组" class="headerlink" title="数据过滤,排序,分组"></a>数据过滤,排序,分组</h2><h3 id="过滤"><a href="#过滤" class="headerlink" title="过滤"></a>过滤</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.rand(<span class="number">10</span>,<span class="number">5</span>))</span><br><span class="line">df.index = pd.date_range(<span class="string">'2017/1/1'</span>, periods=df.shape[<span class="number">0</span>])</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-01</th>      <td>0.462320</td>      <td>0.641626</td>      <td>0.783622</td>      <td>0.405599</td>      <td>0.086237</td>    </tr>    <tr>      <th>2017-01-02</th>      <td>0.860784</td>      <td>0.463871</td>      <td>0.671531</td>      <td>0.276455</td>      <td>0.033289</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.980626</td>      <td>0.996484</td>      <td>0.772686</td>      <td>0.711433</td>      <td>0.129981</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.863321</td>      <td>0.884043</td>      <td>0.182961</td>      <td>0.889572</td>      <td>0.916571</td>    </tr>    <tr>      <th>2017-01-05</th>      <td>0.111071</td>      <td>0.927398</td>      <td>0.636951</td>      <td>0.709890</td>      <td>0.589606</td>    </tr>    <tr>      <th>2017-01-06</th>      <td>0.115526</td>      <td>0.935115</td>      <td>0.506834</td>      <td>0.305816</td>      <td>0.235401</td>    </tr>    <tr>      <th>2017-01-07</th>      <td>0.498320</td>      <td>0.330181</td>      <td>0.905941</td>      <td>0.135436</td>      <td>0.360116</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.730144</td>      <td>0.045433</td>      <td>0.698341</td>      <td>0.929830</td>      <td>0.060545</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.889181</td>      <td>0.189442</td>      <td>0.832306</td>      <td>0.776265</td>      <td>0.129116</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.709422</td>      <td>0.344869</td>      <td>0.889001</td>      <td>0.007639</td>      <td>0.354979</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[df[<span class="number">0</span>]&gt;<span class="number">0.5</span>]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-02</th>      <td>0.860784</td>      <td>0.463871</td>      <td>0.671531</td>      <td>0.276455</td>      <td>0.033289</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.980626</td>      <td>0.996484</td>      <td>0.772686</td>      <td>0.711433</td>      <td>0.129981</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.863321</td>      <td>0.884043</td>      <td>0.182961</td>      <td>0.889572</td>      <td>0.916571</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.730144</td>      <td>0.045433</td>      <td>0.698341</td>      <td>0.929830</td>      <td>0.060545</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.889181</td>      <td>0.189442</td>      <td>0.832306</td>      <td>0.776265</td>      <td>0.129116</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.709422</td>      <td>0.344869</td>      <td>0.889001</td>      <td>0.007639</td>      <td>0.354979</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[df[<span class="number">0</span>]&gt;<span class="number">0.5</span>]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-02</th>      <td>0.860784</td>      <td>0.463871</td>      <td>0.671531</td>      <td>0.276455</td>      <td>0.033289</td>    </tr>    <tr>      <th>2017-01-03</th>      <td>0.980626</td>      <td>0.996484</td>      <td>0.772686</td>      <td>0.711433</td>      <td>0.129981</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.863321</td>      <td>0.884043</td>      <td>0.182961</td>      <td>0.889572</td>      <td>0.916571</td>    </tr>    <tr>      <th>2017-01-08</th>      <td>0.730144</td>      <td>0.045433</td>      <td>0.698341</td>      <td>0.929830</td>      <td>0.060545</td>    </tr>    <tr>      <th>2017-01-09</th>      <td>0.889181</td>      <td>0.189442</td>      <td>0.832306</td>      <td>0.776265</td>      <td>0.129116</td>    </tr>    <tr>      <th>2017-01-10</th>      <td>0.709422</td>      <td>0.344869</td>      <td>0.889001</td>      <td>0.007639</td>      <td>0.354979</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[(df[<span class="number">0</span>]&gt;<span class="number">0.5</span>) &amp; (df[<span class="number">1</span>]&gt;<span class="number">0.5</span>)]</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>0</th>      <th>1</th>      <th>2</th>      <th>3</th>      <th>4</th>    </tr>  </thead>  <tbody>    <tr>      <th>2017-01-03</th>      <td>0.980626</td>      <td>0.996484</td>      <td>0.772686</td>      <td>0.711433</td>      <td>0.129981</td>    </tr>    <tr>      <th>2017-01-04</th>      <td>0.863321</td>      <td>0.884043</td>      <td>0.182961</td>      <td>0.889572</td>      <td>0.916571</td>    </tr>  </tbody></table></div><p>isin 的用法</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"></span><br><span class="line">order_dict = OrderedDict()</span><br><span class="line">order_dict[<span class="string">'foo'</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">order_dict[<span class="string">'bar'</span>] = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">order_dict</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(order_dict)</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>foo</th>      <th>bar</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>1</td>      <td>4</td>    </tr>    <tr>      <th>1</th>      <td>2</td>      <td>5</td>    </tr>    <tr>      <th>2</th>      <td>3</td>      <td>6</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%timeit df.loc[df.loc[:,<span class="string">'foo'</span>].isin([<span class="number">1</span>,<span class="number">2</span>]),<span class="string">'foo'</span>]</span><br></pre></td></tr></table></figure></div><pre><code>407 µs ± 7.45 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%timeit df.loc[df.foo.isin([<span class="number">1</span>,<span class="number">2</span>]),<span class="string">'foo'</span>]</span><br></pre></td></tr></table></figure></div><pre><code>375 µs ± 2.49 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%timeit df[df.foo.isin([<span class="number">1</span>,<span class="number">2</span>])].foo</span><br></pre></td></tr></table></figure></div><pre><code>523 µs ± 14.3 µs per loop (mean ± std. dev. of 7 runs, 1000 loops each)</code></pre><h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><p>单列</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.sort_values(<span class="string">'a'</span>,ascending=<span class="literal">False</span>, na_position=<span class="string">'first'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>a</th>      <th>b</th>      <th>c</th>      <th>d</th>      <th>e</th>    </tr>  </thead>  <tbody>    <tr>      <th>f</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>a</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>g</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>e</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>b</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>j</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>    <tr>      <th>i</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>c</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>d</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>h</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>  </tbody></table></div><p>同时排序两列, 第一列先排</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.sort_values([<span class="string">'a'</span>, <span class="string">'b'</span>],ascending=[<span class="literal">False</span>,<span class="literal">False</span>])</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>a</th>      <th>b</th>      <th>c</th>      <th>d</th>      <th>e</th>    </tr>  </thead>  <tbody>    <tr>      <th>f</th>      <td>0.946407</td>      <td>0.780112</td>      <td>0.965793</td>      <td>0.743042</td>      <td>0.613386</td>    </tr>    <tr>      <th>a</th>      <td>0.828249</td>      <td>0.792735</td>      <td>0.512458</td>      <td>0.961731</td>      <td>0.917472</td>    </tr>    <tr>      <th>g</th>      <td>0.791554</td>      <td>0.015501</td>      <td>0.500903</td>      <td>0.797965</td>      <td>0.856116</td>    </tr>    <tr>      <th>e</th>      <td>0.599552</td>      <td>0.123519</td>      <td>0.814959</td>      <td>0.329789</td>      <td>0.696340</td>    </tr>    <tr>      <th>b</th>      <td>0.566537</td>      <td>0.754457</td>      <td>0.235026</td>      <td>0.795147</td>      <td>0.245506</td>    </tr>    <tr>      <th>j</th>      <td>0.562764</td>      <td>0.952519</td>      <td>0.256441</td>      <td>0.942915</td>      <td>0.152228</td>    </tr>    <tr>      <th>i</th>      <td>0.492461</td>      <td>0.140432</td>      <td>0.316593</td>      <td>0.727536</td>      <td>0.958459</td>    </tr>    <tr>      <th>c</th>      <td>0.468922</td>      <td>0.852834</td>      <td>0.549959</td>      <td>0.124779</td>      <td>0.219038</td>    </tr>    <tr>      <th>d</th>      <td>0.467536</td>      <td>0.482505</td>      <td>0.238425</td>      <td>0.604942</td>      <td>0.921739</td>    </tr>    <tr>      <th>h</th>      <td>0.052724</td>      <td>0.335682</td>      <td>0.253801</td>      <td>0.277599</td>      <td>0.525408</td>    </tr>  </tbody></table></div><h3 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h3><p>类似于excel pivot table的一些功能</p><p>单列</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">'A'</span>:np.array([<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'bar'</span>,<span class="string">'bar'</span>]),</span><br><span class="line">      <span class="string">'B'</span>:np.array([<span class="string">'one'</span>,<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'three'</span>]),</span><br><span class="line">     <span class="string">'C'</span>:np.array([<span class="string">'small'</span>,<span class="string">'medium'</span>,<span class="string">'large'</span>,<span class="string">'large'</span>,<span class="string">'small'</span>,<span class="string">'small'</span>]),</span><br><span class="line">     <span class="string">'D'</span>:np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>])&#125;)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>one</td>      <td>small</td>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>one</td>      <td>medium</td>      <td>2</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>2</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>3</td>    </tr>    <tr>      <th>4</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>3</td>    </tr>    <tr>      <th>5</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>5</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">'C'</span>).count()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>D</th>    </tr>    <tr>      <th>C</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>large</th>      <td>2</td>      <td>2</td>      <td>2</td>    </tr>    <tr>      <th>medium</th>      <td>1</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>small</th>      <td>3</td>      <td>3</td>      <td>3</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby([<span class="string">'B'</span>,<span class="string">'C'</span>]).mean()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th></th>      <th>D</th>    </tr>    <tr>      <th>B</th>      <th>C</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th rowspan="2" valign="top">one</th>      <th>medium</th>      <td>2.0</td>    </tr>    <tr>      <th>small</th>      <td>1.0</td>    </tr>    <tr>      <th>three</th>      <th>small</th>      <td>4.0</td>    </tr>    <tr>      <th>two</th>      <th>large</th>      <td>2.5</td>    </tr>  </tbody></table></div><p>按照列B对数据框df做分组处理后，返回对应的D的平均值</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">'B'</span>)[<span class="string">'D'</span>].mean()</span><br></pre></td></tr></table></figure></div><pre><code>Bone      1.5three    4.0two      2.5Name: D, dtype: float64</code></pre><p>自定义函数</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">'C'</span>).agg(np.mean)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>D</th>    </tr>    <tr>      <th>C</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>large</th>      <td>2.5</td>    </tr>    <tr>      <th>medium</th>      <td>2.0</td>    </tr>    <tr>      <th>small</th>      <td>3.0</td>    </tr>  </tbody></table></div><p>官方相同效果函数如下</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">'C'</span>).mean()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>D</th>    </tr>    <tr>      <th>C</th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>large</th>      <td>2.5</td>    </tr>    <tr>      <th>medium</th>      <td>2.0</td>    </tr>    <tr>      <th>small</th>      <td>3.0</td>    </tr>  </tbody></table></div><p>多组同时搞事</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">'C'</span>).agg(&#123;<span class="string">'A'</span>:<span class="string">'describe'</span>, <span class="string">'B'</span>:<span class="string">'sum'</span>&#125;)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead tr th {        text-align: left;    }    .dataframe thead tr:last-of-type th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th colspan="4" halign="left">A</th>      <th>B</th>    </tr>    <tr>      <th></th>      <th>count</th>      <th>unique</th>      <th>top</th>      <th>freq</th>      <th>B</th>    </tr>    <tr>      <th>C</th>      <th></th>      <th></th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>large</th>      <td>2</td>      <td>1</td>      <td>foo</td>      <td>2</td>      <td>twotwo</td>    </tr>    <tr>      <th>medium</th>      <td>1</td>      <td>1</td>      <td>foo</td>      <td>1</td>      <td>one</td>    </tr>    <tr>      <th>small</th>      <td>3</td>      <td>2</td>      <td>bar</td>      <td>2</td>      <td>onethreethree</td>    </tr>  </tbody></table></div><h3 id="透视表"><a href="#透视表" class="headerlink" title="透视表"></a>透视表</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">'A'</span>:np.array([<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'bar'</span>,<span class="string">'bar'</span>]),</span><br><span class="line">      <span class="string">'B'</span>:np.array([<span class="string">'one'</span>,<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'three'</span>]),</span><br><span class="line">     <span class="string">'C'</span>:np.array([<span class="string">'small'</span>,<span class="string">'medium'</span>,<span class="string">'large'</span>,<span class="string">'large'</span>,<span class="string">'small'</span>,<span class="string">'small'</span>]),</span><br><span class="line">     <span class="string">'D'</span>:np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>])&#125;)</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>one</td>      <td>small</td>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>one</td>      <td>medium</td>      <td>2</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>2</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>3</td>    </tr>    <tr>      <th>4</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>3</td>    </tr>    <tr>      <th>5</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>5</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.pivot_table(df,index=[<span class="string">'A'</span>,<span class="string">'B'</span>],</span><br><span class="line">               columns=[<span class="string">'C'</span>],aggfunc=np.sum)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead tr th {        text-align: left;    }    .dataframe thead tr:last-of-type th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr>      <th></th>      <th></th>      <th colspan="3" halign="left">D</th>    </tr>    <tr>      <th></th>      <th>C</th>      <th>large</th>      <th>medium</th>      <th>small</th>    </tr>    <tr>      <th>A</th>      <th>B</th>      <th></th>      <th></th>      <th></th>    </tr>  </thead>  <tbody>    <tr>      <th>bar</th>      <th>three</th>      <td>NaN</td>      <td>NaN</td>      <td>8.0</td>    </tr>    <tr>      <th rowspan="2" valign="top">foo</th>      <th>one</th>      <td>NaN</td>      <td>2.0</td>      <td>1.0</td>    </tr>    <tr>      <th>two</th>      <td>5.0</td>      <td>NaN</td>      <td>NaN</td>    </tr>  </tbody></table></div><h2 id="对数据使用函数"><a href="#对数据使用函数" class="headerlink" title="对数据使用函数"></a>对数据使用函数</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.rand(<span class="number">10</span>,<span class="number">5</span>),columns=list(<span class="string">'ABCDE'</span>))</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>0.411040</td>      <td>0.192597</td>      <td>0.498276</td>      <td>0.629785</td>      <td>0.619616</td>    </tr>    <tr>      <th>1</th>      <td>0.845691</td>      <td>0.510586</td>      <td>0.299651</td>      <td>0.998108</td>      <td>0.304747</td>    </tr>    <tr>      <th>2</th>      <td>0.623651</td>      <td>0.208694</td>      <td>0.756371</td>      <td>0.460918</td>      <td>0.648548</td>    </tr>    <tr>      <th>3</th>      <td>0.345734</td>      <td>0.498705</td>      <td>0.809781</td>      <td>0.584406</td>      <td>0.679397</td>    </tr>    <tr>      <th>4</th>      <td>0.131337</td>      <td>0.700264</td>      <td>0.274539</td>      <td>0.606103</td>      <td>0.509637</td>    </tr>    <tr>      <th>5</th>      <td>0.849646</td>      <td>0.230177</td>      <td>0.805004</td>      <td>0.407902</td>      <td>0.625412</td>    </tr>    <tr>      <th>6</th>      <td>0.754866</td>      <td>0.470509</td>      <td>0.944374</td>      <td>0.740570</td>      <td>0.605332</td>    </tr>    <tr>      <th>7</th>      <td>0.179676</td>      <td>0.956882</td>      <td>0.886308</td>      <td>0.038653</td>      <td>0.694814</td>    </tr>    <tr>      <th>8</th>      <td>0.197512</td>      <td>0.464496</td>      <td>0.476800</td>      <td>0.682217</td>      <td>0.345192</td>    </tr>    <tr>      <th>9</th>      <td>0.215948</td>      <td>0.092079</td>      <td>0.023335</td>      <td>0.246493</td>      <td>0.971298</td>    </tr>  </tbody></table></div><h3 id="对每一列使用函数"><a href="#对每一列使用函数" class="headerlink" title="对每一列使用函数"></a>对每一列使用函数</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.apply(np.mean)</span><br></pre></td></tr></table></figure></div><pre><code>A    0.455510B    0.432499C    0.577444D    0.539515E    0.600399dtype: float64</code></pre><h3 id="对每一行使用函数"><a href="#对每一行使用函数" class="headerlink" title="对每一行使用函数"></a>对每一行使用函数</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.apply(np.mean, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><pre><code>0    0.4702631    0.5917572    0.5396363    0.5836054    0.4443765    0.5836286    0.7031307    0.5512678    0.4332439    0.309831dtype: float64</code></pre><h2 id="数据的连接-组合-插入"><a href="#数据的连接-组合-插入" class="headerlink" title="数据的连接, 组合, 插入"></a>数据的连接, 组合, 插入</h2><h3 id="末尾拼接两个dataframe"><a href="#末尾拼接两个dataframe" class="headerlink" title="末尾拼接两个dataframe"></a>末尾拼接两个dataframe</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;<span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>, <span class="string">'A3'</span>],</span><br><span class="line">                    <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>],</span><br><span class="line">                    <span class="string">'C'</span>: [<span class="string">'C0'</span>, <span class="string">'C1'</span>, <span class="string">'C2'</span>, <span class="string">'C3'</span>],</span><br><span class="line">                    <span class="string">'D'</span>: [<span class="string">'D0'</span>, <span class="string">'D1'</span>, <span class="string">'D2'</span>, <span class="string">'D3'</span>]&#125;,</span><br><span class="line">                   index=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'A'</span>: [<span class="string">'A4'</span>, <span class="string">'A5'</span>, <span class="string">'A6'</span>, <span class="string">'A7'</span>],</span><br><span class="line">                    <span class="string">'B'</span>: [<span class="string">'B4'</span>, <span class="string">'B5'</span>, <span class="string">'B6'</span>, <span class="string">'B7'</span>],</span><br><span class="line">                    <span class="string">'C'</span>: [<span class="string">'C4'</span>, <span class="string">'C5'</span>, <span class="string">'C6'</span>, <span class="string">'C7'</span>],</span><br><span class="line">                    <span class="string">'D'</span>: [<span class="string">'D4'</span>, <span class="string">'D5'</span>, <span class="string">'D6'</span>, <span class="string">'D7'</span>]&#125;,</span><br><span class="line">                   index=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>      <td>C1</td>      <td>D1</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>      <td>C2</td>      <td>D2</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>      <td>C3</td>      <td>D3</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A4</td>      <td>B4</td>      <td>C4</td>      <td>D4</td>    </tr>    <tr>      <th>1</th>      <td>A5</td>      <td>B5</td>      <td>C5</td>      <td>D5</td>    </tr>    <tr>      <th>2</th>      <td>A6</td>      <td>B6</td>      <td>C6</td>      <td>D6</td>    </tr>    <tr>      <th>3</th>      <td>A7</td>      <td>B7</td>      <td>C7</td>      <td>D7</td>    </tr>  </tbody></table></div><p>append只能拼接行</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.append(df2)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>      <td>C1</td>      <td>D1</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>      <td>C2</td>      <td>D2</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>      <td>C3</td>      <td>D3</td>    </tr>    <tr>      <th>0</th>      <td>A4</td>      <td>B4</td>      <td>C4</td>      <td>D4</td>    </tr>    <tr>      <th>1</th>      <td>A5</td>      <td>B5</td>      <td>C5</td>      <td>D5</td>    </tr>    <tr>      <th>2</th>      <td>A6</td>      <td>B6</td>      <td>C6</td>      <td>D6</td>    </tr>    <tr>      <th>3</th>      <td>A7</td>      <td>B7</td>      <td>C7</td>      <td>D7</td>    </tr>  </tbody></table></div><p>concat可以拼接列以及行,要注意index和column的重复</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([df1,df2],axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>      <td>C1</td>      <td>D1</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>      <td>C2</td>      <td>D2</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>      <td>C3</td>      <td>D3</td>    </tr>    <tr>      <th>0</th>      <td>A4</td>      <td>B4</td>      <td>C4</td>      <td>D4</td>    </tr>    <tr>      <th>1</th>      <td>A5</td>      <td>B5</td>      <td>C5</td>      <td>D5</td>    </tr>    <tr>      <th>2</th>      <td>A6</td>      <td>B6</td>      <td>C6</td>      <td>D6</td>    </tr>    <tr>      <th>3</th>      <td>A7</td>      <td>B7</td>      <td>C7</td>      <td>D7</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([df1,df2],axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>      <td>C0</td>      <td>D0</td>      <td>A4</td>      <td>B4</td>      <td>C4</td>      <td>D4</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>      <td>C1</td>      <td>D1</td>      <td>A5</td>      <td>B5</td>      <td>C5</td>      <td>D5</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>      <td>C2</td>      <td>D2</td>      <td>A6</td>      <td>B6</td>      <td>C6</td>      <td>D6</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>      <td>C3</td>      <td>D3</td>      <td>A7</td>      <td>B7</td>      <td>C7</td>      <td>D7</td>    </tr>  </tbody></table></div><h3 id="按loc末尾直接加入行或列"><a href="#按loc末尾直接加入行或列" class="headerlink" title="按loc末尾直接加入行或列"></a>按loc末尾直接加入行或列</h3><p>按loc大法只能拼一列或者一行到末尾</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>      <td>C1</td>      <td>D1</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>      <td>C2</td>      <td>D2</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>      <td>C3</td>      <td>D3</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1.loc[<span class="number">5</span>] = list(<span class="string">'EFGH'</span>)</span><br><span class="line">df1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>      <td>C1</td>      <td>D1</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>      <td>C2</td>      <td>D2</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>      <td>C3</td>      <td>D3</td>    </tr>    <tr>      <th>5</th>      <td>E</td>      <td>F</td>      <td>G</td>      <td>H</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1.loc[:,<span class="string">'E'</span>] = list(<span class="string">'EFGHI'</span>)</span><br><span class="line">df1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>      <td>C0</td>      <td>D0</td>      <td>E</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>      <td>C1</td>      <td>D1</td>      <td>F</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>      <td>C2</td>      <td>D2</td>      <td>G</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>      <td>C3</td>      <td>D3</td>      <td>H</td>    </tr>    <tr>      <th>5</th>      <td>E</td>      <td>F</td>      <td>G</td>      <td>H</td>      <td>I</td>    </tr>  </tbody></table></div><h3 id="两个dafaframe组合"><a href="#两个dafaframe组合" class="headerlink" title="两个dafaframe组合"></a>两个dafaframe组合</h3><p>df1.join(df2)</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;<span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>, <span class="string">'A3'</span>],           </span><br><span class="line">                     <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>]&#125;,</span><br><span class="line">                     index=[<span class="string">'K0'</span>, <span class="string">'K1'</span>, <span class="string">'K0'</span>, <span class="string">'K1'</span>])</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'C'</span>: [<span class="string">'C0'</span>, <span class="string">'C1'</span>],</span><br><span class="line">                      <span class="string">'D'</span>: [<span class="string">'D0'</span>, <span class="string">'D1'</span>]&#125;,</span><br><span class="line">                     index=[<span class="string">'K0'</span>, <span class="string">'K1'</span>])</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.join(df2)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>K0</th>      <td>A0</td>      <td>B0</td>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>K0</th>      <td>A2</td>      <td>B2</td>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>K1</th>      <td>A1</td>      <td>B1</td>      <td>C1</td>      <td>D1</td>    </tr>    <tr>      <th>K1</th>      <td>A3</td>      <td>B3</td>      <td>C1</td>      <td>D1</td>    </tr>  </tbody></table></div><h3 id="插入特定行"><a href="#插入特定行" class="headerlink" title="插入特定行"></a>插入特定行</h3><p>特定的行插入一个dataframe</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;<span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>, <span class="string">'A3'</span>],           </span><br><span class="line">                     <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>]&#125;)</span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'A'</span>: [<span class="string">'C0'</span>, <span class="string">'C1'</span>],</span><br><span class="line">                      <span class="string">'B'</span>: [<span class="string">'D0'</span>, <span class="string">'D1'</span>]&#125;)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>1</th>      <td>C1</td>      <td>D1</td>    </tr>  </tbody></table></div><p>定义一个在第n行后插入dataframe的函数</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_row</span><span class="params">(idx, df, df_insert)</span>:</span></span><br><span class="line">    dfA = df.iloc[:idx, ]</span><br><span class="line">    dfB = df.iloc[idx:, ]</span><br><span class="line"></span><br><span class="line">    df = dfA.append(df_insert).append(dfB)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> df</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1_inserted = insert_row(<span class="number">2</span>, df1, df2)</span><br><span class="line">df1_inserted</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>    </tr>    <tr>      <th>0</th>      <td>C0</td>      <td>D0</td>    </tr>    <tr>      <th>1</th>      <td>C1</td>      <td>D1</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>    </tr>  </tbody></table></div><h3 id="插入特定列"><a href="#插入特定列" class="headerlink" title="插入特定列"></a>插入特定列</h3><p>自带函数df.insert可在第n列插入一列新的数据</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>C</th>      <th>A</th>      <th>B</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A</td>      <td>A0</td>      <td>B0</td>    </tr>    <tr>      <th>1</th>      <td>B</td>      <td>A1</td>      <td>B1</td>    </tr>    <tr>      <th>2</th>      <td>C</td>      <td>A2</td>      <td>B2</td>    </tr>    <tr>      <th>3</th>      <td>D</td>      <td>A3</td>      <td>B3</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.insert(<span class="number">1</span>,<span class="string">'D'</span>, list(<span class="string">'ABCD'</span>))</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>C</th>      <th>D</th>      <th>A</th>      <th>B</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A</td>      <td>A</td>      <td>A0</td>      <td>B0</td>    </tr>    <tr>      <th>1</th>      <td>B</td>      <td>B</td>      <td>A1</td>      <td>B1</td>    </tr>    <tr>      <th>2</th>      <td>C</td>      <td>C</td>      <td>A2</td>      <td>B2</td>    </tr>    <tr>      <th>3</th>      <td>D</td>      <td>D</td>      <td>A3</td>      <td>B3</td>    </tr>  </tbody></table></div><p>如果要在特定位置插入多列数据只能用这个</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_column</span><span class="params">(idx, df, df_insert)</span>:</span></span><br><span class="line">    dfA = df.iloc[:,:idx]</span><br><span class="line">    dfB = df.iloc[:,idx:]</span><br><span class="line"></span><br><span class="line">    df = pd.concat([pd.concat([dfA, df_insert], axis=<span class="number">1</span>),dfB], axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> df</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(&#123;<span class="string">'A'</span>: [<span class="string">'A0'</span>, <span class="string">'A1'</span>, <span class="string">'A2'</span>, <span class="string">'A3'</span>],           </span><br><span class="line">                     <span class="string">'B'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>],</span><br><span class="line">                      <span class="string">'C'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>]&#125;)</span><br><span class="line">   </span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">'D'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>],</span><br><span class="line">                    <span class="string">'E'</span>: [<span class="string">'B0'</span>, <span class="string">'B1'</span>, <span class="string">'B2'</span>, <span class="string">'B3'</span>]&#125;)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert_column(<span class="number">1</span>, df1, df2)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>D</th>      <th>E</th>      <th>B</th>      <th>C</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>A0</td>      <td>B0</td>      <td>B0</td>      <td>B0</td>      <td>B0</td>    </tr>    <tr>      <th>1</th>      <td>A1</td>      <td>B1</td>      <td>B1</td>      <td>B1</td>      <td>B1</td>    </tr>    <tr>      <th>2</th>      <td>A2</td>      <td>B2</td>      <td>B2</td>      <td>B2</td>      <td>B2</td>    </tr>    <tr>      <th>3</th>      <td>A3</td>      <td>B3</td>      <td>B3</td>      <td>B3</td>      <td>B3</td>    </tr>  </tbody></table></div><h3 id="利用groupby和条件增加列"><a href="#利用groupby和条件增加列" class="headerlink" title="利用groupby和条件增加列"></a>利用groupby和条件增加列</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">'A'</span>:np.array([<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'bar'</span>,<span class="string">'bar'</span>]),</span><br><span class="line">      <span class="string">'B'</span>:np.array([<span class="string">'one'</span>,<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'three'</span>]),</span><br><span class="line">     <span class="string">'C'</span>:np.array([<span class="string">'small'</span>,<span class="string">'medium'</span>,<span class="string">'large'</span>,<span class="string">'large'</span>,<span class="string">'small'</span>,<span class="string">'small'</span>]),</span><br><span class="line">     <span class="string">'D'</span>:np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>])&#125;)</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>one</td>      <td>small</td>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>one</td>      <td>medium</td>      <td>2</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>2</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>3</td>    </tr>    <tr>      <th>4</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>3</td>    </tr>    <tr>      <th>5</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>5</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(df)</span>:</span></span><br><span class="line">    df[<span class="string">'D_sum'</span>] = df[<span class="string">'D'</span>].sum()</span><br><span class="line">    <span class="keyword">return</span> df</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">'D'</span>).apply(func)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>D_sum</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>one</td>      <td>small</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>one</td>      <td>medium</td>      <td>2</td>      <td>4</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>2</td>      <td>4</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>3</td>      <td>6</td>    </tr>    <tr>      <th>4</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>3</td>      <td>6</td>    </tr>    <tr>      <th>5</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>5</td>      <td>5</td>    </tr>  </tbody></table></div><h3 id="利用apply函数增加列"><a href="#利用apply函数增加列" class="headerlink" title="利用apply函数增加列"></a>利用apply函数增加列</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">'A'</span>:np.array([<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'foo'</span>,<span class="string">'bar'</span>,<span class="string">'bar'</span>]),</span><br><span class="line">      <span class="string">'B'</span>:np.array([<span class="string">'one'</span>,<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'three'</span>]),</span><br><span class="line">     <span class="string">'C'</span>:np.array([<span class="string">'small'</span>,<span class="string">'medium'</span>,<span class="string">'large'</span>,<span class="string">'large'</span>,<span class="string">'small'</span>,<span class="string">'small'</span>]),</span><br><span class="line">     <span class="string">'D'</span>:np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>])&#125;)</span><br><span class="line">df</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>one</td>      <td>small</td>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>one</td>      <td>medium</td>      <td>2</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>2</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>3</td>    </tr>    <tr>      <th>4</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>3</td>    </tr>    <tr>      <th>5</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>5</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(a, b)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> a==<span class="string">'foo'</span> <span class="keyword">else</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.apply(<span class="keyword">lambda</span> column: func(column[<span class="string">'A'</span>], column[<span class="string">'B'</span>]), axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><pre><code>0    11    12    13    14    05    0dtype: int64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(df)</span>:</span></span><br><span class="line">    df[<span class="string">'A_equal_foo'</span>] = <span class="number">1</span> <span class="keyword">if</span> df[<span class="string">'A'</span>]==<span class="string">'foo'</span> <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> df</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.apply(func, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>A_equal_foo</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>one</td>      <td>small</td>      <td>1</td>      <td>1</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>one</td>      <td>medium</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>2</td>      <td>1</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>two</td>      <td>large</td>      <td>3</td>      <td>1</td>    </tr>    <tr>      <th>4</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>3</td>      <td>0</td>    </tr>    <tr>      <th>5</th>      <td>bar</td>      <td>three</td>      <td>small</td>      <td>5</td>      <td>0</td>    </tr>  </tbody></table></div><h3 id="database式merge数据"><a href="#database式merge数据" class="headerlink" title="database式merge数据"></a>database式merge数据</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>df1 = pd.DataFrame(&#123;<span class="string">'lkey'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>, <span class="string">'foo'</span>],</span><br><span class="line"><span class="meta">... </span>                    <span class="string">'value'</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]&#125;)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>df2 = pd.DataFrame(&#123;<span class="string">'rkey'</span>: [<span class="string">'foo'</span>, <span class="string">'bar'</span>, <span class="string">'baz'</span>, <span class="string">'foo'</span>],</span><br><span class="line"><span class="meta">... </span>                    <span class="string">'value'</span>: [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>]&#125;)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.merge(df2, on=<span class="string">'value'</span>,how=<span class="string">'inner'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>lkey</th>      <th>value</th>      <th>rkey</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>5</td>      <td>foo</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.merge(df2, on=<span class="string">'value'</span>,how=<span class="string">'outer'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>lkey</th>      <th>value</th>      <th>rkey</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>1</td>      <td>NaN</td>    </tr>    <tr>      <th>1</th>      <td>bar</td>      <td>2</td>      <td>NaN</td>    </tr>    <tr>      <th>2</th>      <td>baz</td>      <td>3</td>      <td>NaN</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>5</td>      <td>foo</td>    </tr>    <tr>      <th>4</th>      <td>NaN</td>      <td>6</td>      <td>bar</td>    </tr>    <tr>      <th>5</th>      <td>NaN</td>      <td>7</td>      <td>baz</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>8</td>      <td>foo</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.merge(df2, left_on=<span class="string">'value'</span>, right_on=<span class="string">'value'</span>,how=<span class="string">'inner'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>lkey</th>      <th>value</th>      <th>rkey</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>5</td>      <td>foo</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.merge(df2, left_on=<span class="string">'value'</span>, right_on=<span class="string">'value'</span>,how=<span class="string">'outer'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>lkey</th>      <th>value</th>      <th>rkey</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>1</td>      <td>NaN</td>    </tr>    <tr>      <th>1</th>      <td>bar</td>      <td>2</td>      <td>NaN</td>    </tr>    <tr>      <th>2</th>      <td>baz</td>      <td>3</td>      <td>NaN</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>5</td>      <td>foo</td>    </tr>    <tr>      <th>4</th>      <td>NaN</td>      <td>6</td>      <td>bar</td>    </tr>    <tr>      <th>5</th>      <td>NaN</td>      <td>7</td>      <td>baz</td>    </tr>    <tr>      <th>6</th>      <td>NaN</td>      <td>8</td>      <td>foo</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.merge(df2, left_on=<span class="string">'lkey'</span>, right_on=<span class="string">'rkey'</span>)</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>lkey</th>      <th>value_x</th>      <th>rkey</th>      <th>value_y</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>1</td>      <td>foo</td>      <td>5</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>1</td>      <td>foo</td>      <td>8</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>5</td>      <td>foo</td>      <td>5</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>5</td>      <td>foo</td>      <td>8</td>    </tr>    <tr>      <th>4</th>      <td>bar</td>      <td>2</td>      <td>bar</td>      <td>6</td>    </tr>    <tr>      <th>5</th>      <td>baz</td>      <td>3</td>      <td>baz</td>      <td>7</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.merge(df2, left_on=<span class="string">'lkey'</span>, right_on=<span class="string">'rkey'</span>, suffixes=(<span class="string">'_left'</span>, <span class="string">'_right'</span>))</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>lkey</th>      <th>value_left</th>      <th>rkey</th>      <th>value_right</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>foo</td>      <td>1</td>      <td>foo</td>      <td>5</td>    </tr>    <tr>      <th>1</th>      <td>foo</td>      <td>1</td>      <td>foo</td>      <td>8</td>    </tr>    <tr>      <th>2</th>      <td>foo</td>      <td>5</td>      <td>foo</td>      <td>5</td>    </tr>    <tr>      <th>3</th>      <td>foo</td>      <td>5</td>      <td>foo</td>      <td>8</td>    </tr>    <tr>      <th>4</th>      <td>bar</td>      <td>2</td>      <td>bar</td>      <td>6</td>    </tr>    <tr>      <th>5</th>      <td>baz</td>      <td>3</td>      <td>baz</td>      <td>7</td>    </tr>  </tbody></table></div><h2 id="数据统计"><a href="#数据统计" class="headerlink" title="数据统计"></a>数据统计</h2><h3 id="基本统计"><a href="#基本统计" class="headerlink" title="基本统计"></a>基本统计</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.rand(<span class="number">10</span>,<span class="number">5</span>),columns=list(<span class="string">'ABCDE'</span>))</span><br><span class="line">df.describe()</span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>count</th>      <td>10.000000</td>      <td>10.000000</td>      <td>10.000000</td>      <td>10.000000</td>      <td>10.000000</td>    </tr>    <tr>      <th>mean</th>      <td>0.548176</td>      <td>0.581951</td>      <td>0.492730</td>      <td>0.362844</td>      <td>0.464692</td>    </tr>    <tr>      <th>std</th>      <td>0.269487</td>      <td>0.296894</td>      <td>0.344442</td>      <td>0.314646</td>      <td>0.205078</td>    </tr>    <tr>      <th>min</th>      <td>0.139214</td>      <td>0.152646</td>      <td>0.032955</td>      <td>0.003880</td>      <td>0.142789</td>    </tr>    <tr>      <th>25%</th>      <td>0.328505</td>      <td>0.284380</td>      <td>0.224993</td>      <td>0.093924</td>      <td>0.339452</td>    </tr>    <tr>      <th>50%</th>      <td>0.597528</td>      <td>0.747586</td>      <td>0.538701</td>      <td>0.325856</td>      <td>0.453823</td>    </tr>    <tr>      <th>75%</th>      <td>0.715508</td>      <td>0.819579</td>      <td>0.799554</td>      <td>0.563304</td>      <td>0.653605</td>    </tr>    <tr>      <th>max</th>      <td>0.964156</td>      <td>0.871106</td>      <td>0.920916</td>      <td>0.841107</td>      <td>0.703043</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.mean() <span class="comment"># 得到数据框df中每一列的平均值</span></span><br></pre></td></tr></table></figure></div><pre><code>A    0.548176B    0.581951C    0.492730D    0.362844E    0.464692dtype: float64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.corr() <span class="comment"># 得到数据框df中每一列与其他列的相关系数</span></span><br></pre></td></tr></table></figure></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>A</th>      <th>B</th>      <th>C</th>      <th>D</th>      <th>E</th>    </tr>  </thead>  <tbody>    <tr>      <th>A</th>      <td>1.000000</td>      <td>0.097622</td>      <td>-0.571543</td>      <td>0.364524</td>      <td>-0.083053</td>    </tr>    <tr>      <th>B</th>      <td>0.097622</td>      <td>1.000000</td>      <td>-0.058487</td>      <td>-0.347005</td>      <td>-0.603136</td>    </tr>    <tr>      <th>C</th>      <td>-0.571543</td>      <td>-0.058487</td>      <td>1.000000</td>      <td>-0.369241</td>      <td>0.222586</td>    </tr>    <tr>      <th>D</th>      <td>0.364524</td>      <td>-0.347005</td>      <td>-0.369241</td>      <td>1.000000</td>      <td>0.232339</td>    </tr>    <tr>      <th>E</th>      <td>-0.083053</td>      <td>-0.603136</td>      <td>0.222586</td>      <td>0.232339</td>      <td>1.000000</td>    </tr>  </tbody></table></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.count() <span class="comment"># 得到数据框df中每一列的非空值个数</span></span><br></pre></td></tr></table></figure></div><pre><code>A    10B    10C    10D    10E    10dtype: int64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.max() <span class="comment"># 得到数据框df中每一列的最大值</span></span><br></pre></td></tr></table></figure></div><pre><code>A    0.964156B    0.871106C    0.920916D    0.841107E    0.703043dtype: float64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.min() <span class="comment"># 得到数据框df中每一列的最小值</span></span><br></pre></td></tr></table></figure></div><pre><code>A    0.139214B    0.152646C    0.032955D    0.003880E    0.142789dtype: float64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.median() <span class="comment"># 得到数据框df中每一列的中位数</span></span><br></pre></td></tr></table></figure></div><pre><code>A    0.597528B    0.747586C    0.538701D    0.325856E    0.453823dtype: float64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.std() <span class="comment"># 得到数据框df中每一列的标准差</span></span><br></pre></td></tr></table></figure></div><pre><code>A    0.269487B    0.296894C    0.344442D    0.314646E    0.205078dtype: float64</code></pre><p>对所有值进行描述统计</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.stack().std(ddof=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><pre><code>0.2882311219915606</code></pre><p>numpy求法, ddof是degree of freedom</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.values.std(ddof=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div><pre><code>0.2882311219915606</code></pre><h3 id="最大值索引"><a href="#最大值索引" class="headerlink" title="最大值索引"></a>最大值索引</h3><p>每一列的最大值的索引</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.idxmax()</span><br></pre></td></tr></table></figure></div><pre><code>A    8B    3C    2D    1E    9dtype: int64</code></pre><h2 id="时间序列"><a href="#时间序列" class="headerlink" title="时间序列"></a>时间序列</h2><h3 id="构建时间索引"><a href="#构建时间索引" class="headerlink" title="构建时间索引"></a>构建时间索引</h3><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i = pd.date_range(<span class="string">'20000101'</span>,periods=<span class="number">100</span>)</span><br><span class="line">i[<span class="number">0</span>:<span class="number">5</span>]</span><br></pre></td></tr></table></figure></div><pre><code>DatetimeIndex([&#39;2000-01-01&#39;, &#39;2000-01-02&#39;, &#39;2000-01-03&#39;, &#39;2000-01-04&#39;,               &#39;2000-01-05&#39;],              dtype=&#39;datetime64[ns]&#39;, freq=&#39;D&#39;)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i.year[<span class="number">0</span>:<span class="number">5</span>]</span><br></pre></td></tr></table></figure></div><pre><code>Int64Index([2000, 2000, 2000, 2000, 2000], dtype=&#39;int64&#39;)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i.day[<span class="number">0</span>:<span class="number">5</span>]</span><br></pre></td></tr></table></figure></div><pre><code>Int64Index([1, 2, 3, 4, 5], dtype=&#39;int64&#39;)</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i.month[<span class="number">0</span>:<span class="number">5</span>]</span><br></pre></td></tr></table></figure></div><pre><code>Int64Index([1, 1, 1, 1, 1], dtype=&#39;int64&#39;)</code></pre><h3 id="转换时间格式"><a href="#转换时间格式" class="headerlink" title="转换时间格式"></a>转换时间格式</h3><p>通过整数序列来转换时间序列</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>i = pd.date_range(<span class="string">'20000101'</span>,periods=<span class="number">100</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>df = pd.DataFrame(dict(year = i.year, month = i.month, day = i.day))</span><br><span class="line">time_series = df.year*<span class="number">10000</span> + df.month*<span class="number">100</span> + df.day</span><br><span class="line">time_series</span><br></pre></td></tr></table></figure></div><pre><code>0     200001011     200001022     200001033     200001044     20000105        ...   95    2000040596    2000040697    2000040798    2000040899    20000409Length: 100, dtype: int64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.to_datetime(time_series, format=<span class="string">'%Y%m%d'</span>)</span><br></pre></td></tr></table></figure></div><pre><code>0    2000-01-011    2000-01-022    2000-01-033    2000-01-044    2000-01-05        ...    95   2000-04-0596   2000-04-0697   2000-04-0798   2000-04-0899   2000-04-09Length: 100, dtype: datetime64[ns]</code></pre><p>通过String来转换时间序列</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = df.astype(str)</span><br><span class="line">time_string = df.day + df.month + df.year</span><br><span class="line">time_string</span><br></pre></td></tr></table></figure></div><pre><code>0     1120001     2120002     3120003     4120004     512000       ...  95    54200096    64200097    74200098    84200099    942000Length: 100, dtype: object</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.to_datetime(time_string, format=<span class="string">"%d%m%Y"</span>)</span><br></pre></td></tr></table></figure></div><pre><code>0    2000-01-011    2000-01-022    2000-01-033    2000-01-044    2000-01-05        ...    95   2000-04-0596   2000-04-0697   2000-04-0798   2000-04-0899   2000-04-09Length: 100, dtype: datetime64[ns]</code></pre><h3 id="时间格式采样"><a href="#时间格式采样" class="headerlink" title="时间格式采样"></a>时间格式采样</h3><p><strong>时间频率如下</strong></p><p>B       business day frequency<br>C       custom business day frequency (experimental)<br>D       calendar day frequency<br>W       weekly frequency<br>M       month end frequency<br>BM      business month end frequency<br>CBM     custom business month end frequency<br>MS      month start frequency<br>BMS     business month start frequency<br>CBMS    custom business month start frequency<br>Q       quarter end frequency<br>BQ      business quarter endfrequency<br>QS      quarter start frequency<br>BQS     business quarter start frequency<br>A       year end frequency<br>BA      business year end frequency<br>AS      year start frequency<br>BAS     business year start frequency<br>BH      business hour frequency<br>H       hourly frequency<br>T       minutely frequency<br>S       secondly frequency<br>L       milliseonds<br>U       microseconds<br>N       nanoseconds</p><p>原文链接：<a href="https://blog.csdn.net/qq_41996090/article/details/87555618" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/qq_41996090/article/details/87555618</a></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index = pd.date_range(<span class="string">'1/1/2000'</span>, periods=<span class="number">9</span>, freq=<span class="string">'T'</span>)</span><br><span class="line">series = pd.Series(range(<span class="number">9</span>), index=index)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">series</span><br></pre></td></tr></table></figure></div><pre><code>2000-01-01 00:00:00    02000-01-01 00:01:00    12000-01-01 00:02:00    22000-01-01 00:03:00    32000-01-01 00:04:00    42000-01-01 00:05:00    52000-01-01 00:06:00    62000-01-01 00:07:00    72000-01-01 00:08:00    8Freq: T, dtype: int64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">series.resample(<span class="string">'3T'</span>).sum()</span><br></pre></td></tr></table></figure></div><pre><code>2000-01-01 00:00:00     32000-01-01 00:03:00    122000-01-01 00:06:00    21Freq: 3T, dtype: int64</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">series.resample(<span class="string">'3T'</span>, label=<span class="string">'right'</span>, closed=<span class="string">'right'</span>).sum()</span><br></pre></td></tr></table></figure></div><pre><code>2000-01-01 00:00:00     02000-01-01 00:03:00     62000-01-01 00:06:00    152000-01-01 00:09:00    15Freq: 3T, dtype: int64</code></pre><p>采样的频率</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">series.resample(<span class="string">'10S'</span>).asfreq().head()</span><br></pre></td></tr></table></figure></div><pre><code>2000-01-01 00:00:00    0.02000-01-01 00:00:10    NaN2000-01-01 00:00:20    NaN2000-01-01 00:00:30    NaN2000-01-01 00:00:40    NaNFreq: 10S, dtype: float64</code></pre><p>自定义函数</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">custom_resampler</span><span class="params">(array_like)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> np.sum(array_like) + <span class="number">5</span></span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">series.resample(<span class="string">'3T'</span>).apply(custom_resampler)</span><br></pre></td></tr></table></figure></div><pre><code>2000-01-01 00:00:00     82000-01-01 00:03:00    172000-01-01 00:06:00    26Freq: 3T, dtype: int64</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="kesci_notes" scheme="http://yoursite.com/categories/python/kesci-notes/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="pandas" scheme="http://yoursite.com/tags/pandas/"/>
    
      <category term="kesci" scheme="http://yoursite.com/tags/kesci/"/>
    
  </entry>
  
  <entry>
    <title>windows_10_tricks.md</title>
    <link href="http://yoursite.com/2020/01/14/random_notes/windows_10_tricks/"/>
    <id>http://yoursite.com/2020/01/14/random_notes/windows_10_tricks/</id>
    <published>2020-01-14T16:06:00.000Z</published>
    <updated>2020-01-19T17:27:54.934Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="windows10-小技巧"><a href="#windows10-小技巧" class="headerlink" title="windows10 小技巧"></a>windows10 小技巧</h1><p><a href="https://baijiahao.baidu.com/s?id=1611688517160115695&amp;wfr=spider&amp;for=pc" target="_blank" rel="external nofollow noopener noreferrer">https://baijiahao.baidu.com/s?id=1611688517160115695&amp;wfr=spider&amp;for=pc</a></p><h1 id="windows10-虚拟桌面"><a href="#windows10-虚拟桌面" class="headerlink" title="windows10 虚拟桌面"></a>windows10 虚拟桌面</h1><p><a href="https://baijiahao.baidu.com/s?id=1618114653250855544&amp;wfr=spider&amp;for=pc" target="_blank" rel="external nofollow noopener noreferrer">https://baijiahao.baidu.com/s?id=1618114653250855544&amp;wfr=spider&amp;for=pc</a></p><h1 id="windows10-快捷键"><a href="#windows10-快捷键" class="headerlink" title="windows10 快捷键"></a>windows10 快捷键</h1><p><a href="https://zhuanlan.zhihu.com/p/99240964?utm_source=wechat_session" target="_blank" rel="external nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/99240964?utm_source=wechat_session</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="random_notes" scheme="http://yoursite.com/categories/random-notes/"/>
    
    
      <category term="windows10" scheme="http://yoursite.com/tags/windows10/"/>
    
      <category term="operation_system" scheme="http://yoursite.com/tags/operation-system/"/>
    
  </entry>
  
  <entry>
    <title>numpy_notes</title>
    <link href="http://yoursite.com/2020/01/13/python/basics/numpy_notes/"/>
    <id>http://yoursite.com/2020/01/13/python/basics/numpy_notes/</id>
    <published>2020-01-13T22:57:00.000Z</published>
    <updated>2020-01-19T17:27:54.917Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="幻灯片插件"><a href="#幻灯片插件" class="headerlink" title="幻灯片插件"></a>幻灯片插件</h1><p><a href="https://blog.csdn.net/blmoistawinde/article/details/85009603" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/blmoistawinde/article/details/85009603</a></p><p><a href="https://blog.csdn.net/qq_27825451/article/details/85050496" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/qq_27825451/article/details/85050496</a></p><h1 id="jupyter-插件"><a href="#jupyter-插件" class="headerlink" title="jupyter 插件"></a>jupyter 插件</h1><p><a href="https://www.wandouip.com/t5i186155/" target="_blank" rel="external nofollow noopener noreferrer">https://www.wandouip.com/t5i186155/</a></p><h1 id="jupyter-神奇技巧"><a href="#jupyter-神奇技巧" class="headerlink" title="jupyter 神奇技巧"></a>jupyter 神奇技巧</h1><p><a href="https://www.zybuluo.com/hanxiaoyang/note/534296" target="_blank" rel="external nofollow noopener noreferrer">https://www.zybuluo.com/hanxiaoyang/note/534296</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/python/basics/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="numpy" scheme="http://yoursite.com/tags/numpy/"/>
    
  </entry>
  
  <entry>
    <title>other people blogs</title>
    <link href="http://yoursite.com/2020/01/13/random_notes/other_people_blogs/"/>
    <id>http://yoursite.com/2020/01/13/random_notes/other_people_blogs/</id>
    <published>2020-01-13T18:38:00.000Z</published>
    <updated>2020-01-19T17:27:54.933Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="幻灯片插件"><a href="#幻灯片插件" class="headerlink" title="幻灯片插件"></a>幻灯片插件</h1><p><a href="https://blog.csdn.net/blmoistawinde/article/details/85009603" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/blmoistawinde/article/details/85009603</a></p><p><a href="https://blog.csdn.net/qq_27825451/article/details/85050496" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/qq_27825451/article/details/85050496</a></p><h1 id="jupyter-插件"><a href="#jupyter-插件" class="headerlink" title="jupyter 插件"></a>jupyter 插件</h1><p><a href="https://www.wandouip.com/t5i186155/" target="_blank" rel="external nofollow noopener noreferrer">https://www.wandouip.com/t5i186155/</a></p><h1 id="jupyter-神奇技巧"><a href="#jupyter-神奇技巧" class="headerlink" title="jupyter 神奇技巧"></a>jupyter 神奇技巧</h1><p><a href="https://www.zybuluo.com/hanxiaoyang/note/534296" target="_blank" rel="external nofollow noopener noreferrer">https://www.zybuluo.com/hanxiaoyang/note/534296</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="random_notes" scheme="http://yoursite.com/categories/random-notes/"/>
    
    
      <category term="blogs" scheme="http://yoursite.com/tags/blogs/"/>
    
      <category term="quant" scheme="http://yoursite.com/tags/quant/"/>
    
  </entry>
  
  <entry>
    <title>jupyter_notebook_notes</title>
    <link href="http://yoursite.com/2020/01/13/random_notes/jupyter_notebook_notes/"/>
    <id>http://yoursite.com/2020/01/13/random_notes/jupyter_notebook_notes/</id>
    <published>2020-01-13T18:38:00.000Z</published>
    <updated>2020-01-19T17:27:54.932Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="幻灯片插件"><a href="#幻灯片插件" class="headerlink" title="幻灯片插件"></a>幻灯片插件</h1><p><a href="https://blog.csdn.net/blmoistawinde/article/details/85009603" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/blmoistawinde/article/details/85009603</a></p><p><a href="https://blog.csdn.net/qq_27825451/article/details/85050496" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/qq_27825451/article/details/85050496</a></p><h1 id="jupyter-插件"><a href="#jupyter-插件" class="headerlink" title="jupyter 插件"></a>jupyter 插件</h1><p><a href="https://www.wandouip.com/t5i186155/" target="_blank" rel="external nofollow noopener noreferrer">https://www.wandouip.com/t5i186155/</a></p><h1 id="jupyter-神奇技巧"><a href="#jupyter-神奇技巧" class="headerlink" title="jupyter 神奇技巧"></a>jupyter 神奇技巧</h1><p><a href="https://www.zybuluo.com/hanxiaoyang/note/534296" target="_blank" rel="external nofollow noopener noreferrer">https://www.zybuluo.com/hanxiaoyang/note/534296</a></p><h1 id="jupyter-魔法命令"><a href="#jupyter-魔法命令" class="headerlink" title="jupyter 魔法命令"></a>jupyter 魔法命令</h1><p><a href="http://www.raincent.com/content-85-7795-2.html" target="_blank" rel="external nofollow noopener noreferrer">http://www.raincent.com/content-85-7795-2.html</a></p><h1 id="jupyter-lab安装"><a href="#jupyter-lab安装" class="headerlink" title="jupyter lab安装"></a>jupyter lab安装</h1><p><a href="https://blog.csdn.net/weixin_34355715/article/details/88670628" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/weixin_34355715/article/details/88670628</a></p><h1 id="jupyter-lab简介"><a href="#jupyter-lab简介" class="headerlink" title="jupyter lab简介"></a>jupyter lab简介</h1><p><a href="https://www.codercto.com/a/75771.html" target="_blank" rel="external nofollow noopener noreferrer">https://www.codercto.com/a/75771.html</a></p><h1 id="jupyter-lab-技巧"><a href="#jupyter-lab-技巧" class="headerlink" title="jupyter lab 技巧"></a>jupyter lab 技巧</h1><p><a href="https://blog.csdn.net/weixin_37641832/article/details/94437445" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/weixin_37641832/article/details/94437445</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="random_notes" scheme="http://yoursite.com/categories/random-notes/"/>
    
    
      <category term="jupyter_notebook" scheme="http://yoursite.com/tags/jupyter-notebook/"/>
    
  </entry>
  
  <entry>
    <title>bilibili application statistics course notes</title>
    <link href="http://yoursite.com/2020/01/11/math/statistics/bilibili_application_statistics/"/>
    <id>http://yoursite.com/2020/01/11/math/statistics/bilibili_application_statistics/</id>
    <published>2020-01-11T16:30:14.000Z</published>
    <updated>2020-01-19T20:21:22.631Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>简介：<br>此笔记为bilibili 应用统计学 视频的学习笔记。</p><h1 id="总体和样本"><a href="#总体和样本" class="headerlink" title="总体和样本"></a>总体和样本</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_1.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_1.jpg" class="lazyload"></a></p><h1 id="excel-spss-和-minitab"><a href="#excel-spss-和-minitab" class="headerlink" title="excel, spss 和 minitab"></a>excel, spss 和 minitab</h1><h1 id="数据搜集"><a href="#数据搜集" class="headerlink" title="数据搜集"></a>数据搜集</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_2.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_2.jpg" class="lazyload"></a></p><h1 id="图表"><a href="#图表" class="headerlink" title="图表"></a>图表</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_3.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_3.jpg" class="lazyload"></a></p><h1 id="描述统计"><a href="#描述统计" class="headerlink" title="描述统计"></a>描述统计</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_4.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_4.jpg" class="lazyload"></a></p><h1 id="描述统计软件操作"><a href="#描述统计软件操作" class="headerlink" title="描述统计软件操作"></a>描述统计软件操作</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_5.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_5.jpg" class="lazyload"></a></p><h1 id="分布"><a href="#分布" class="headerlink" title="分布"></a>分布</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_6.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_6.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_7.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_7.jpg" class="lazyload"></a></p><h1 id="假设检验"><a href="#假设检验" class="headerlink" title="假设检验"></a>假设检验</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_8.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_8.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_9.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_9.jpg" class="lazyload"></a></p><h1 id="双样本检验"><a href="#双样本检验" class="headerlink" title="双样本检验"></a>双样本检验</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_10.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_10.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_11.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_11.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_12.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_12.jpg" class="lazyload"></a></p><h1 id="方差分析"><a href="#方差分析" class="headerlink" title="方差分析"></a>方差分析</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_13.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_13.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_14.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_14.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_15.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_15.jpg" class="lazyload"></a></p><h1 id="线性回归"><a href="#线性回归" class="headerlink" title="线性回归"></a>线性回归</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_16.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_16.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_17.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_17.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_18.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_18.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_19.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_19.jpg" class="lazyload"></a></p><h1 id="时间序列简介"><a href="#时间序列简介" class="headerlink" title="时间序列简介"></a>时间序列简介</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_20.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_20.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_21.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/math/statistics/b站应用统计学/B站应用统计学_21.jpg" class="lazyload"></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="math" scheme="http://yoursite.com/categories/math/"/>
    
      <category term="statistics" scheme="http://yoursite.com/categories/math/statistics/"/>
    
    
      <category term="statistics" scheme="http://yoursite.com/tags/statistics/"/>
    
      <category term="math" scheme="http://yoursite.com/tags/math/"/>
    
  </entry>
  
  <entry>
    <title>statistics links</title>
    <link href="http://yoursite.com/2020/01/06/math/statistics/statistics_links/"/>
    <id>http://yoursite.com/2020/01/06/math/statistics/statistics_links/</id>
    <published>2020-01-06T20:28:00.000Z</published>
    <updated>2020-01-19T17:27:54.878Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="应用统计学视频"><a href="#应用统计学视频" class="headerlink" title="应用统计学视频"></a>应用统计学视频</h1><p><a href="https://www.bilibili.com/video/av9051072" target="_blank" rel="external nofollow noopener noreferrer">https://www.bilibili.com/video/av9051072</a></p><h1 id="应用统计学课件"><a href="#应用统计学课件" class="headerlink" title="应用统计学课件"></a>应用统计学课件</h1><p><a href="https://www.docin.com/p-106804331.html?docfrom=rrela" target="_blank" rel="external nofollow noopener noreferrer">https://www.docin.com/p-106804331.html?docfrom=rrela</a></p><h1 id="t分布理解"><a href="#t分布理解" class="headerlink" title="t分布理解"></a>t分布理解</h1><p><a href="http://www.360doc.com/content/18/0208/12/15930282_728577832.shtml" target="_blank" rel="external nofollow noopener noreferrer">http://www.360doc.com/content/18/0208/12/15930282_728577832.shtml</a></p><h1 id="t检验理解"><a href="#t检验理解" class="headerlink" title="t检验理解"></a>t检验理解</h1><p><a href="http://www.360doc.com/content/17/0523/18/40087574_656536995.shtml" target="_blank" rel="external nofollow noopener noreferrer">http://www.360doc.com/content/17/0523/18/40087574_656536995.shtml</a></p><h1 id="区间估计和假设检验的关系"><a href="#区间估计和假设检验的关系" class="headerlink" title="区间估计和假设检验的关系"></a>区间估计和假设检验的关系</h1><p><a href="https://wenku.baidu.com/view/aa7dee0fe87101f69e319545.html" target="_blank" rel="external nofollow noopener noreferrer">https://wenku.baidu.com/view/aa7dee0fe87101f69e319545.html</a></p><h1 id="一元线性回归的解释"><a href="#一元线性回归的解释" class="headerlink" title="一元线性回归的解释"></a>一元线性回归的解释</h1><p><a href="https://zhuanlan.zhihu.com/p/31668592?from_voters_page=true" target="_blank" rel="external nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/31668592?from_voters_page=true</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="math" scheme="http://yoursite.com/categories/math/"/>
    
      <category term="statistics" scheme="http://yoursite.com/categories/math/statistics/"/>
    
    
      <category term="statistics" scheme="http://yoursite.com/tags/statistics/"/>
    
      <category term="math" scheme="http://yoursite.com/tags/math/"/>
    
  </entry>
  
  <entry>
    <title>excel shortcut</title>
    <link href="http://yoursite.com/2020/01/06/excel/excel_shortcut/"/>
    <id>http://yoursite.com/2020/01/06/excel/excel_shortcut/</id>
    <published>2020-01-06T18:28:00.000Z</published>
    <updated>2020-01-19T17:27:54.865Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Excel-populate-blank-cells-with-formula"><a href="#Excel-populate-blank-cells-with-formula" class="headerlink" title="Excel populate blank cells with formula"></a>Excel populate blank cells with formula</h1><p><a href="https://baijiahao.baidu.com/s?id=1611414376791124260&amp;wfr=spider&amp;for=pc" target="_blank" rel="external nofollow noopener noreferrer">https://baijiahao.baidu.com/s?id=1611414376791124260&amp;wfr=spider&amp;for=pc</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="excel" scheme="http://yoursite.com/categories/excel/"/>
    
    
      <category term="excel" scheme="http://yoursite.com/tags/excel/"/>
    
  </entry>
  
  <entry>
    <title>excel数据分析笔记</title>
    <link href="http://yoursite.com/2019/12/25/excel/excel%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2019/12/25/excel/excel%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E7%AC%94%E8%AE%B0/</id>
    <published>2019-12-26T02:18:14.000Z</published>
    <updated>2020-01-19T17:27:54.866Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>此笔记为excel数据分析功能详解</p><h1 id="单因素方差分析"><a href="#单因素方差分析" class="headerlink" title="单因素方差分析"></a>单因素方差分析</h1><p>意义：<br>测试多列数据之间的差异显著度。差异主要指均值的差异。<br>h0: 差异显著<br>h1: 差异不显著</p><p>设置：<br>输入区域为两列或多列数据<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230149.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230149.png" class="lazyload"></a></p><p>结果：<br>结果为差异显著<br>看f值&gt;f crit<br>p值&lt;0.05就说明很显著了<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230321.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230321.png" class="lazyload"></a></p><h1 id="无重复双因素分析"><a href="#无重复双因素分析" class="headerlink" title="无重复双因素分析"></a>无重复双因素分析</h1><p>意义：<br>测试多行及多列数据间的差异显著度。<br>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230340.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230340.png" class="lazyload"></a></p><p>结果：<br>行的p值<0.05: 列差异显著 列的p值>0.05: 列差异不显著<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230400.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230400.png" class="lazyload"></a></0.05:></p><h1 id="可重复双因素分析"><a href="#可重复双因素分析" class="headerlink" title="可重复双因素分析"></a>可重复双因素分析</h1><p>意义:<br>测试行和列对数据的影响显著度，以及行列之间的交互</p><p>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230429.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230429.png" class="lazyload"></a></p><p>结果：<br>行和列的p值都很小，说明行间和列间差异都显著。<br>交互作用p值很大，说明行列之间交互作用很小。<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230451.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230451.png" class="lazyload"></a></p><h1 id="相关系数"><a href="#相关系数" class="headerlink" title="相关系数"></a>相关系数</h1><p>意义：<br>测试两个样本之间的线性相关程度。<br>值为-1到1。</p><p>设置:<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230619.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230619.png" class="lazyload"></a></p><p>结果：<br>非常相关，0.688的相关度。<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230639.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230639.png" class="lazyload"></a></p><h1 id="协方差"><a href="#协方差" class="headerlink" title="协方差"></a>协方差</h1><p>意义：<br>两个样本之间的相关度。</p><p>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230720.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230720.png" class="lazyload"></a></p><p>结果:<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230739.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230739.png" class="lazyload"></a></p><h1 id="描述统计"><a href="#描述统计" class="headerlink" title="描述统计"></a>描述统计</h1><p>意义：<br>单个样本的各项参数。</p><p>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230812.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230812.png" class="lazyload"></a></p><p>结果：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230828.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230828.png" class="lazyload"></a></p><h1 id="指数平滑"><a href="#指数平滑" class="headerlink" title="指数平滑"></a>指数平滑</h1><p>意义:<br>相当于股票指标的ema。</p><p>设置:<br>每一行ema相当于<br>（1 - 阻尼） <em> 新数据 + 阻尼 </em> 上一个ema</p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230851.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230851.png" class="lazyload"></a></p><p>结果：</p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230924.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230924.png" class="lazyload"></a></p><h1 id="f检验，-双样本方差"><a href="#f检验，-双样本方差" class="headerlink" title="f检验， 双样本方差"></a>f检验， 双样本方差</h1><p>意义:<br>测试两个样本方差的差异显著度。<br>如果差异显著，之后t检验就最好用异方差t检验。否则就最好用等方差t检验。</p><p>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112230943.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112230943.png" class="lazyload"></a></p><p>结果：<br>p值大于0.05，说明方差差异不是很显著。</p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231006.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231006.png" class="lazyload"></a></p><h1 id="傅里叶分析"><a href="#傅里叶分析" class="headerlink" title="傅里叶分析"></a>傅里叶分析</h1><p>参考</p><p><a href="https://zhuanlan.zhihu.com/p/49600107" target="_blank" rel="external nofollow noopener noreferrer">https://zhuanlan.zhihu.com/p/49600107</a></p><h1 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h1><p>意义：<br>自己设置间距，来画直方图</p><p>设置：<br>接受区域就是要用自己写的间距。<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231025.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231025.png" class="lazyload"></a></p><p>结果：<br>频率是按照 &lt;=每个间距的数据来统计的。比如下图中low_range ==3950的频率， 统计的是小于3950的数字总数。</p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231038.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231038.png" class="lazyload"></a></p><h1 id="移动平均"><a href="#移动平均" class="headerlink" title="移动平均"></a>移动平均</h1><p>意义：<br>相当于股票的ma。</p><p>设置：<br>间隔相当于几日均线。<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231056.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231056.png" class="lazyload"></a></p><p>结果:</p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231116.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231116.png" class="lazyload"></a></p><h1 id="随机数发生器"><a href="#随机数发生器" class="headerlink" title="随机数发生器"></a>随机数发生器</h1><p>意义：<br>生成随机数</p><p>设置:<br>变量个数为每次随机几个变量。<br>随机数个数为生成几次。<br>随机数基数就是seed。<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231233.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231233.png" class="lazyload"></a></p><p>结果:<br>5 * 5 = 25个标准正态分布随机数<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231248.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231248.png" class="lazyload"></a></p><h1 id="排位与百分比排位"><a href="#排位与百分比排位" class="headerlink" title="排位与百分比排位"></a>排位与百分比排位</h1><p>意义:<br>排位</p><p>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231303.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231303.png" class="lazyload"></a></p><p>结果：</p><p>百分比排位为：小于该值的个数/（小于该值的个数+大于该值的个数）</p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231322.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231322.png" class="lazyload"></a></p><h1 id="回归"><a href="#回归" class="headerlink" title="回归"></a>回归</h1><p>意义：<br>一元线性回归 或者 多元线性回归</p><p>线性回归设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231456.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231456.png" class="lazyload"></a></p><p>结果：<br><a href="http://q3zyvka9r.bkt.gdipper.com/gg.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/gg.png" class="lazyload"></a></p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231621.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231621.png" class="lazyload"></a></p><p>详细解释：</p><p><a href="https://wenku.baidu.com/view/0996a441866fb84ae55c8d3c.html" target="_blank" rel="external nofollow noopener noreferrer">https://wenku.baidu.com/view/0996a441866fb84ae55c8d3c.html</a></p><p><a href="https://www.cnblogs.com/nick477931661/p/9113396.html" target="_blank" rel="external nofollow noopener noreferrer">https://www.cnblogs.com/nick477931661/p/9113396.html</a></p><p><a href="https://blog.csdn.net/data_cola/article/details/87994083" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/data_cola/article/details/87994083</a></p><h1 id="抽样"><a href="#抽样" class="headerlink" title="抽样"></a>抽样</h1><p>意义：<br>从样本中抽n个值</p><p>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231640.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231640.png" class="lazyload"></a></p><p>结果：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231703.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231703.png" class="lazyload"></a></p><h1 id="t-检验：-平均值的成对二样本分析"><a href="#t-检验：-平均值的成对二样本分析" class="headerlink" title="t-检验： 平均值的成对二样本分析"></a>t-检验： 平均值的成对二样本分析</h1><p>意义：</p><p>成对二样本分析检验的是成对的两个数值的差异是否不等于零，所谓成对的数值，一般是同一个被访者进行两项测试产生的两个值，例如试饮两个口味的饮品给出的两个评分。</p><p>设置：</p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231722.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231722.png" class="lazyload"></a></p><p>结果：<br>p值小于0.05， t 值大于t双尾临界，所以差异显著。<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231751.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231751.png" class="lazyload"></a></p><h1 id="t-检验：-双样本等方差假设"><a href="#t-检验：-双样本等方差假设" class="headerlink" title="t-检验： 双样本等方差假设"></a>t-检验： 双样本等方差假设</h1><p>意义：</p><p>这个是相对于成对二样本分析而言。<br>用等方差还是异方差假设就是要用“方差齐性检验”方差齐性检验的原理，如果检验是显著的，说明两个独立总体方差不一样，这是用异方差假设，否则用等方差假设。</p><p>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231806.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231806.png" class="lazyload"></a></p><p>结果：<br>p双尾很小，因此差异显著<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231820.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231820.png" class="lazyload"></a></p><h1 id="t-检验：-双样本异方差假设"><a href="#t-检验：-双样本异方差假设" class="headerlink" title="t-检验： 双样本异方差假设"></a>t-检验： 双样本异方差假设</h1><p>意义：</p><p>异方差情况下的双样本t检验</p><p>设置：<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231841.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231841.png" class="lazyload"></a></p><p>结果：<br>很接近双样本等方差t检验。<br>差异也是显著。<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231854.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231854.png" class="lazyload"></a></p><h1 id="z-检验：-双样本平均差检验"><a href="#z-检验：-双样本平均差检验" class="headerlink" title="z-检验： 双样本平均差检验"></a>z-检验： 双样本平均差检验</h1><p>意义：<br>已知两个样本总体方差的情况下才用这个检验。 实际效果和t检验也差不多。</p><p>设置：</p><p><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231911.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231911.png" class="lazyload"></a></p><p>结果:<br>p都等于0了，差异非常显著。和t检验结果类似。<br><a href="http://q3zyvka9r.bkt.gdipper.com/20200112231927.png" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="http://q3zyvka9r.bkt.gdipper.com/20200112231927.png" class="lazyload"></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="excel" scheme="http://yoursite.com/categories/excel/"/>
    
    
      <category term="excel" scheme="http://yoursite.com/tags/excel/"/>
    
      <category term="statistics" scheme="http://yoursite.com/tags/statistics/"/>
    
  </entry>
  
  <entry>
    <title>期货从业资格笔记</title>
    <link href="http://yoursite.com/2019/12/25/finance/basics/future/%E6%9C%9F%E8%B4%A7%E4%BB%8E%E4%B8%9A%E8%B5%84%E6%A0%BC/"/>
    <id>http://yoursite.com/2019/12/25/finance/basics/future/%E6%9C%9F%E8%B4%A7%E4%BB%8E%E4%B8%9A%E8%B5%84%E6%A0%BC/</id>
    <published>2019-12-26T02:18:14.000Z</published>
    <updated>2020-01-19T20:20:04.346Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>简介： 此笔记为 233网校 期货从业资格视频教程笔记</p><h1 id="期货的发展"><a href="#期货的发展" class="headerlink" title="期货的发展"></a>期货的发展</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_1.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_1.jpg" class="lazyload"></a></p><h1 id="特征"><a href="#特征" class="headerlink" title="特征"></a>特征</h1><h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_2.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_2.jpg" class="lazyload"></a></p><h1 id="期货交易所"><a href="#期货交易所" class="headerlink" title="期货交易所"></a>期货交易所</h1><h1 id="期货结算结构"><a href="#期货结算结构" class="headerlink" title="期货结算结构"></a>期货结算结构</h1><h1 id="期货公司"><a href="#期货公司" class="headerlink" title="期货公司"></a>期货公司</h1><h1 id="期货投资者"><a href="#期货投资者" class="headerlink" title="期货投资者"></a>期货投资者</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_3.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_3.jpg" class="lazyload"></a></p><h1 id="期货合约"><a href="#期货合约" class="headerlink" title="期货合约"></a>期货合约</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_4.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_4.jpg" class="lazyload"></a></p><h1 id="期货保证金"><a href="#期货保证金" class="headerlink" title="期货保证金"></a>期货保证金</h1><h1 id="当日无负债结算"><a href="#当日无负债结算" class="headerlink" title="当日无负债结算"></a>当日无负债结算</h1><h1 id="持仓限额"><a href="#持仓限额" class="headerlink" title="持仓限额"></a>持仓限额</h1><h1 id="强行平仓"><a href="#强行平仓" class="headerlink" title="强行平仓"></a>强行平仓</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_5.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_5.jpg" class="lazyload"></a></p><h1 id="期货交易流程"><a href="#期货交易流程" class="headerlink" title="期货交易流程"></a>期货交易流程</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_6.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_6.jpg" class="lazyload"></a></p><h1 id="套期保值"><a href="#套期保值" class="headerlink" title="套期保值"></a>套期保值</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_7.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_7.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_8.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_8.jpg" class="lazyload"></a></p><h1 id="期货投机"><a href="#期货投机" class="headerlink" title="期货投机"></a>期货投机</h1><h1 id="期货套利"><a href="#期货套利" class="headerlink" title="期货套利"></a>期货套利</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_9.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_9.jpg" class="lazyload"></a></p><h1 id="期权"><a href="#期权" class="headerlink" title="期权"></a>期权</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_10.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_10.jpg" class="lazyload"></a></p><h1 id="外汇交易"><a href="#外汇交易" class="headerlink" title="外汇交易"></a>外汇交易</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_11.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_11.jpg" class="lazyload"></a></p><h1 id="外汇期货"><a href="#外汇期货" class="headerlink" title="外汇期货"></a>外汇期货</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_12.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_12.jpg" class="lazyload"></a></p><h1 id="外汇掉期"><a href="#外汇掉期" class="headerlink" title="外汇掉期"></a>外汇掉期</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_13.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_13.jpg" class="lazyload"></a></p><h1 id="货币互换"><a href="#货币互换" class="headerlink" title="货币互换"></a>货币互换</h1><h1 id="外汇期权"><a href="#外汇期权" class="headerlink" title="外汇期权"></a>外汇期权</h1><h1 id="利率期货"><a href="#利率期货" class="headerlink" title="利率期货"></a>利率期货</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_14.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_14.jpg" class="lazyload"></a></p><h1 id="国债期货报价"><a href="#国债期货报价" class="headerlink" title="国债期货报价"></a>国债期货报价</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_15.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_15.jpg" class="lazyload"></a></p><h1 id="国债期货运用"><a href="#国债期货运用" class="headerlink" title="国债期货运用"></a>国债期货运用</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_16.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_16.jpg" class="lazyload"></a></p><h1 id="国债期货投机"><a href="#国债期货投机" class="headerlink" title="国债期货投机"></a>国债期货投机</h1><h1 id="远期利率协议"><a href="#远期利率协议" class="headerlink" title="远期利率协议"></a>远期利率协议</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_17.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_17.jpg" class="lazyload"></a></p><h1 id="股票指数"><a href="#股票指数" class="headerlink" title="股票指数"></a>股票指数</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_18.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_18.jpg" class="lazyload"></a></p><h1 id="股指期货套期保值"><a href="#股指期货套期保值" class="headerlink" title="股指期货套期保值"></a>股指期货套期保值</h1><h1 id="期货术语"><a href="#期货术语" class="headerlink" title="期货术语"></a>期货术语</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_19.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_19.jpg" class="lazyload"></a></p><h1 id="期货行情图"><a href="#期货行情图" class="headerlink" title="期货行情图"></a>期货行情图</h1><h1 id="基本面"><a href="#基本面" class="headerlink" title="基本面"></a>基本面</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_20.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_20.jpg" class="lazyload"></a></p><h1 id="技术分析"><a href="#技术分析" class="headerlink" title="技术分析"></a>技术分析</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_21.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/future/期货从业资格/期货从业资格_21.jpg" class="lazyload"></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="finance" scheme="http://yoursite.com/categories/finance/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/finance/basics/"/>
    
      <category term="future" scheme="http://yoursite.com/categories/finance/basics/future/"/>
    
    
      <category term="finance" scheme="http://yoursite.com/tags/finance/"/>
    
      <category term="future" scheme="http://yoursite.com/tags/future/"/>
    
  </entry>
  
  <entry>
    <title>matplotlib useful links</title>
    <link href="http://yoursite.com/2019/12/23/python/basics/matplotlib_useful_links/"/>
    <id>http://yoursite.com/2019/12/23/python/basics/matplotlib_useful_links/</id>
    <published>2019-12-23T20:33:00.000Z</published>
    <updated>2020-01-19T17:27:54.916Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>How to put the legend out of the plot</p><p><a href="https://stackoverflow.com/questions/4700614/how-to-put-the-legend-out-of-the-plot" target="_blank" rel="external nofollow noopener noreferrer">https://stackoverflow.com/questions/4700614/how-to-put-the-legend-out-of-the-plot</a></p><p>Setting a fixed size for points in legend</p><p><a href="https://stackoverflow.com/questions/24706125/setting-a-fixed-size-for-points-in-legend" target="_blank" rel="external nofollow noopener noreferrer">https://stackoverflow.com/questions/24706125/setting-a-fixed-size-for-points-in-legend</a></p><p>difference for image channels(RGB, BGR) for cv2 and matplotlib</p><p><a href="http://www.bogotobogo.com/python/OpenCV_Python/python_opencv3_matplotlib_rgb_brg_image_load_display_save.php" target="_blank" rel="external nofollow noopener noreferrer">http://www.bogotobogo.com/python/OpenCV_Python/python_opencv3_matplotlib_rgb_brg_image_load_display_save.php</a></p><p>add_axes-and-add_subplot</p><p><a href="https://github.com/supersheepbear/Notes_for_myself/wiki/add_axes-and-add_subplot" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/supersheepbear/Notes_for_myself/wiki/add_axes-and-add_subplot</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/python/basics/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="matplotlibs" scheme="http://yoursite.com/tags/matplotlibs/"/>
    
  </entry>
  
  <entry>
    <title>useful links</title>
    <link href="http://yoursite.com/2019/12/23/python/basics/useful_links/"/>
    <id>http://yoursite.com/2019/12/23/python/basics/useful_links/</id>
    <published>2019-12-23T19:30:00.000Z</published>
    <updated>2020-01-19T17:27:54.922Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Change jupyter notebook directory</p><p>jupyter notebook —notebook-dir=C:\my_python_project</p><p>python文件夹的操作</p><p><a href="https://www.cnblogs.com/zhoujie/archive/2013/04/10/python7.html" target="_blank" rel="external nofollow noopener noreferrer">https://www.cnblogs.com/zhoujie/archive/2013/04/10/python7.html</a></p><p>python创建多级文件夹</p><p><a href="http://www.111cn.net/phper/python/111575.html" target="_blank" rel="external nofollow noopener noreferrer">http://www.111cn.net/phper/python/111575.html</a></p><p>python pycharm常用快捷键<br><a href="https://www.jetbrains.com/help/pycharm/selecting-text-in-the-editor.html" target="_blank" rel="external nofollow noopener noreferrer">https://www.jetbrains.com/help/pycharm/selecting-text-in-the-editor.html</a></p><p>多线程<br><a href="http://yangcongchufang.com/%E9%AB%98%E7%BA%A7python%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/python-process-thread.html" target="_blank" rel="external nofollow noopener noreferrer">http://yangcongchufang.com/%E9%AB%98%E7%BA%A7python%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/python-process-thread.html</a></p><p><a href="https://firsh.me/2017/08/07/python-thread/" target="_blank" rel="external nofollow noopener noreferrer">https://firsh.me/2017/08/07/python-thread/</a></p><p>Python 多进程异常处理<br><a href="http://www.cnblogs.com/liujshi/p/6014521.html" target="_blank" rel="external nofollow noopener noreferrer">http://www.cnblogs.com/liujshi/p/6014521.html</a></p><p>Python GIL锁<br><a href="http://cenalulu.github.io/python/gil-in-python/" target="_blank" rel="external nofollow noopener noreferrer">http://cenalulu.github.io/python/gil-in-python/</a></p><p>Python 事件驱动<br><a href="https://www.jianshu.com/p/8301f1083d5e" target="_blank" rel="external nofollow noopener noreferrer">https://www.jianshu.com/p/8301f1083d5e</a></p><p>pycharm 大小写转换快捷键<br><a href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/205837479-Key-shortcut-for-to-upper-to-lower" target="_blank" rel="external nofollow noopener noreferrer">https://intellij-support.jetbrains.com/hc/en-us/community/posts/205837479-Key-shortcut-for-to-upper-to-lower</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/python/basics/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
  </entry>
  
  <entry>
    <title>tensorflow notes</title>
    <link href="http://yoursite.com/2019/12/23/python/basics/tensorflow_notes/"/>
    <id>http://yoursite.com/2019/12/23/python/basics/tensorflow_notes/</id>
    <published>2019-12-23T19:28:00.000Z</published>
    <updated>2020-01-19T17:27:54.921Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="layer-shape-can-be-found-by"><a href="#layer-shape-can-be-found-by" class="headerlink" title="layer shape can be found by:"></a>layer shape can be found by:</h2><p>shape = (fc7.get_shape().as_list()[-1], fc8shape) <br><br>Through this we can get layer output shape, and feed to the next layer</p><h2 id="tensorflow-ConfigProto"><a href="#tensorflow-ConfigProto" class="headerlink" title="tensorflow ConfigProto"></a>tensorflow ConfigProto</h2><p>tf.ConfigProto()的参数<br>log_device_placement=True : 是否打印设备分配日志<br>allow_soft_placement=True ： 如果你指定的设备不存在，允许TF自动分配设备<br>tf.ConfigProto(log_device_placement=True,allow_soft_placement=True)</p><h2 id="控制GPU资源使用率"><a href="#控制GPU资源使用率" class="headerlink" title="控制GPU资源使用率"></a>控制GPU资源使用率</h2><p><strong>allow growth</strong><br><br>config = tf.ConfigProto()<br><br>config.gpu_options.allow_growth = True<br><br>session = tf.Session(config=config, …)<br><br>使用allow_growth option，刚一开始分配少量的GPU容量，然后按需慢慢的增加，由于不会释放<br><br>内存，所以会导致碎片<br></p><p><strong>per_process_gpu_memory_fraction</strong><br><br>gpu_options=tf.GPUOptions(per_process_gpu_memory_fraction=0.7)<br><br>config=tf.ConfigProto(gpu_options=gpu_options)<br><br>session = tf.Session(config=config, …)<br><br>设置每个GPU应该拿出多少容量给进程使用，0.4代表 40%<br></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/python/basics/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="tensorflow" scheme="http://yoursite.com/tags/tensorflow/"/>
    
  </entry>
  
  <entry>
    <title>期权36课笔记</title>
    <link href="http://yoursite.com/2019/12/12/finance/basics/option/%E6%9C%9F%E6%9D%8336%E8%AF%BE%E7%AC%94%E8%AE%B0/"/>
    <id>http://yoursite.com/2019/12/12/finance/basics/option/%E6%9C%9F%E6%9D%8336%E8%AF%BE%E7%AC%94%E8%AE%B0/</id>
    <published>2019-12-13T00:19:14.000Z</published>
    <updated>2020-01-19T20:20:47.327Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>简介： 此笔记为 期权36课 的读书笔记</p><h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><h1 id="期权属性"><a href="#期权属性" class="headerlink" title="期权属性"></a>期权属性</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_1.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_1.jpg" class="lazyload"></a></p><h1 id="期权操作"><a href="#期权操作" class="headerlink" title="期权操作"></a>期权操作</h1><h1 id="期权价值"><a href="#期权价值" class="headerlink" title="期权价值"></a>期权价值</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_2.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_2.jpg" class="lazyload"></a></p><h1 id="期权价格平价关系"><a href="#期权价格平价关系" class="headerlink" title="期权价格平价关系"></a>期权价格平价关系</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_3.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_3.jpg" class="lazyload"></a></p><h1 id="二项期权定价模型（美式期权定价）"><a href="#二项期权定价模型（美式期权定价）" class="headerlink" title="二项期权定价模型（美式期权定价）"></a>二项期权定价模型（美式期权定价）</h1><h1 id="black-schole-model-欧式期权定价"><a href="#black-schole-model-欧式期权定价" class="headerlink" title="black-schole model (欧式期权定价)"></a>black-schole model (欧式期权定价)</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_4.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_4.jpg" class="lazyload"></a></p><h1 id="隐含波动率与历史波动率"><a href="#隐含波动率与历史波动率" class="headerlink" title="隐含波动率与历史波动率"></a>隐含波动率与历史波动率</h1><h1 id="季报，分红，对期权的影响"><a href="#季报，分红，对期权的影响" class="headerlink" title="季报，分红，对期权的影响"></a>季报，分红，对期权的影响</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_5.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_5.jpg" class="lazyload"></a></p><h1 id="期权价格变化"><a href="#期权价格变化" class="headerlink" title="期权价格变化"></a>期权价格变化</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_6.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_6.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_7.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_7.jpg" class="lazyload"></a><br><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_8.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_8.jpg" class="lazyload"></a></p><h1 id="买入-卖出-看涨-看跌期权"><a href="#买入-卖出-看涨-看跌期权" class="headerlink" title="买入/卖出 看涨/看跌期权"></a>买入/卖出 看涨/看跌期权</h1><h1 id="对冲"><a href="#对冲" class="headerlink" title="对冲"></a>对冲</h1><h1 id="备兑看涨期权，-保护性看跌期权"><a href="#备兑看涨期权，-保护性看跌期权" class="headerlink" title="备兑看涨期权， 保护性看跌期权"></a>备兑看涨期权， 保护性看跌期权</h1><h1 id="由做市商引发的思考"><a href="#由做市商引发的思考" class="headerlink" title="由做市商引发的思考"></a>由做市商引发的思考</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_9.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_9.jpg" class="lazyload"></a></p><h1 id="垂直期权组合"><a href="#垂直期权组合" class="headerlink" title="垂直期权组合"></a>垂直期权组合</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_10.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_10.jpg" class="lazyload"></a></p><h1 id="跨式组合"><a href="#跨式组合" class="headerlink" title="跨式组合"></a>跨式组合</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_11.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_11.jpg" class="lazyload"></a></p><h1 id="铁鹰策略"><a href="#铁鹰策略" class="headerlink" title="铁鹰策略"></a>铁鹰策略</h1><h1 id="日历策略，对角策略"><a href="#日历策略，对角策略" class="headerlink" title="日历策略，对角策略"></a>日历策略，对角策略</h1><p><a href="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_12.jpg" data-fancybox="group" data-caption class="fancybox"><img alt title data-src="https://cdn.jsdelivr.net/gh/supersheepbear/hexo@master/source/images/finance/basics/option/期权36问/期权36问_12.jpg" class="lazyload"></a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="finance" scheme="http://yoursite.com/categories/finance/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/finance/basics/"/>
    
      <category term="option" scheme="http://yoursite.com/categories/finance/basics/option/"/>
    
    
      <category term="finance" scheme="http://yoursite.com/tags/finance/"/>
    
      <category term="option" scheme="http://yoursite.com/tags/option/"/>
    
  </entry>
  
  <entry>
    <title>pandas_useful_websites</title>
    <link href="http://yoursite.com/2019/04/02/python/basics/pandas_useful_websites/"/>
    <id>http://yoursite.com/2019/04/02/python/basics/pandas_useful_websites/</id>
    <published>2019-04-02T23:38:00.000Z</published>
    <updated>2020-01-19T17:27:54.920Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>optimizing pandas looping speed:<br><a href="https://engineering.upside.com/a-beginners-guide-to-optimizing-pandas-code-for-speed-c09ef2c6a4d6" target="_blank" rel="external nofollow noopener noreferrer">https://engineering.upside.com/a-beginners-guide-to-optimizing-pandas-code-for-speed-c09ef2c6a4d6</a></p><p>Fast, Flexible, Easy and Intuitive: How to Speed Up Your Pandas Projects<br><a href="https://realpython.com/fast-flexible-pandas/" target="_blank" rel="external nofollow noopener noreferrer">https://realpython.com/fast-flexible-pandas/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/python/basics/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="pandas" scheme="http://yoursite.com/tags/pandas/"/>
    
  </entry>
  
  <entry>
    <title>python yaml load</title>
    <link href="http://yoursite.com/2019/04/02/python/basics/yaml_load/"/>
    <id>http://yoursite.com/2019/04/02/python/basics/yaml_load/</id>
    <published>2019-04-02T23:38:00.000Z</published>
    <updated>2020-01-19T17:27:54.923Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Load yaml to a nested dict structure, and then parse to a class.<br>below is the code:</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Struct</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, data)</span>:</span></span><br><span class="line">        <span class="keyword">for</span> name, value <span class="keyword">in</span> data.items():</span><br><span class="line">            setattr(self, name, self._wrap(value))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_wrap</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> isinstance(value, (tuple, list, set, frozenset)): </span><br><span class="line">            <span class="keyword">return</span> type(value)([self._wrap(v) <span class="keyword">for</span> v <span class="keyword">in</span> value])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> Struct(value) <span class="keyword">if</span> isinstance(value, dict) <span class="keyword">else</span> value</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">r'c:\Users\uidn4064\Desktop\project_data_analysis\FD69\lab\test.yaml'</span>) <span class="keyword">as</span> stream:</span><br><span class="line">    yaml_dict = yaml.load(stream)</span><br><span class="line">    struct = Struct(yaml_dict)</span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/python/basics/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="yaml" scheme="http://yoursite.com/tags/yaml/"/>
    
  </entry>
  
  <entry>
    <title>CFA note chapter 2 - 数量分析</title>
    <link href="http://yoursite.com/2018/12/30/finance/cfa_level1/2_1_Time_Value_Of_Money/"/>
    <id>http://yoursite.com/2018/12/30/finance/cfa_level1/2_1_Time_Value_Of_Money/</id>
    <published>2018-12-31T01:25:00.000Z</published>
    <updated>2020-01-19T17:27:54.875Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="货币的时间价值"><a href="#货币的时间价值" class="headerlink" title="货币的时间价值"></a>货币的时间价值</h1><h2 id="利率的三种形式"><a href="#利率的三种形式" class="headerlink" title="利率的三种形式"></a>利率的三种形式</h2><ul><li>要求回报率： 客户要求的回报率。</li><li>折现率，贴现率(discount rate)： 未来收益折算为现值。</li><li>机会成本(oppotunity cost): 失去的潜在收益。相同风险水平(identical risk)上的次优水平(next best)的收益率。</li></ul><h2 id="要求回报的构成"><a href="#要求回报的构成" class="headerlink" title="要求回报的构成"></a>要求回报的构成</h2><ul><li>要求回报率 = 名义无风险利率 + 风险溢价</li><li>名义无风险利率 = 实际无风险利率 + 通货膨胀率</li><li>风险溢价 = 流动性风险溢价 + 违约风险溢价 + 期限风险溢价</li></ul><h2 id="有效年利率-EAR-effective-annual-rate"><a href="#有效年利率-EAR-effective-annual-rate" class="headerlink" title="有效年利率(EAR: effective annual rate)"></a>有效年利率(EAR: effective annual rate)</h2><p>$EAR = (1 + r/n)^n -1$<br>r是名义利率(nominal rate)。 n是一年内复利次数。 </p><h2 id="单笔现金流的现值和终值"><a href="#单笔现金流的现值和终值" class="headerlink" title="单笔现金流的现值和终值"></a>单笔现金流的现值和终值</h2><ul><li>FV: 终值</li><li>r: 利率</li><li>PV: 现值</li><li>n: 期数</li></ul><p>终值计算：<br>每年一次复利FV: $ FV = PV(1+r)^n $<br>每年多次复利FV: $ FV_N = PV(1+\frac{r}{m})^{mn} $<br>连续复利FV: $ FV = PVe^{rn} $</p><p>现值计算：$ PV = FV/(1+r)^{n} $<br>此过程称为折现。此时r为折现率。</p><h2 id="年金"><a href="#年金" class="headerlink" title="年金"></a>年金</h2><p>年金指一定时期内一系列相等金额的收付款项. 比如: 按揭贷款吗分期付款, 发放养老金, 支付租金, 提取折旧.</p><ul><li>A: 每年收付的金额</li><li>i: 每期利率</li><li>F: 年金终值</li><li>P: 年金现值</li><li>n: 期数</li></ul><p>年金终值计算:<br>$F = A \left(\frac{(1+i)^n - 1}{i} \right)$<br>年金现值计算<br>$F = A \left(\frac{1-(1+i)^{-n}}{i} \right)$<br>先付年金(annuity due): 年初先给钱, 所以多算一个复利(1 + i)<br>$F = A \left(\frac{(1+i)^{n+1} - 1}{i} - 1\right)$<br>递延年金: 第一次收款在第二期或者第二期之后<br>永续年金: 无限期支付,只有现值没有终值.<br>$P = \frac{A}{i}$</p><h2 id="货币时间价值的应用"><a href="#货币时间价值的应用" class="headerlink" title="货币时间价值的应用"></a>货币时间价值的应用</h2><ul><li>不等额现金流量终值和现值: 每年分开计算即可</li><li>分段年金流量: 同上</li><li>养老金: 同上</li></ul><h2 id="TI-BA-II计算器使用"><a href="#TI-BA-II计算器使用" class="headerlink" title="TI BA II计算器使用"></a>TI BA II计算器使用</h2><p>Todo</p><h1 id="折现现金流方法的应用"><a href="#折现现金流方法的应用" class="headerlink" title="折现现金流方法的应用"></a>折现现金流方法的应用</h1><h2 id="净现值和内部投资收益率"><a href="#净现值和内部投资收益率" class="headerlink" title="净现值和内部投资收益率"></a>净现值和内部投资收益率</h2><ul><li><p>净现值(net present value, NPV)<br>一项投资所产生的未来现金流的折现值和项目投资成本之间的差值.<br>净现值为正即投资方案可行.<br>$C<em>0$: 当前成本<br>$CF_t$ : 第t年的净收益值<br>$NPV = PV - C_0 = \sum</em>{i=1}^{n} \frac{CF_t}{(1+r)^t} $</p></li><li><p>内部收益率(internal rate of return, IRR)<br>能够使现金流入量的现值等于现金流出量现值的贴现率, 或者是使投资方案净现值为0的贴现率.<br>$NPV = CF_0 + \frac {CF_1}{(1 + IRR)^1} + \frac {CF_2}{(1 + IRR)^2} + … + \frac {CF_N}{(1 + IRR)^N} = 0$</p><h3 id="选择项目"><a href="#选择项目" class="headerlink" title="选择项目"></a>选择项目</h3></li><li>独立项目(independent project)<br>投资决策不受其他项目投资决策影响.不存在选项目问题. 就看是不是 NPV&gt;0, IRR&lt;收益率</li><li>互斥项目(mutually exclusive project)<br>选择A项目就不能选择B.<br>所以要选择NPV大的, IRR高的.<br>如果相互矛盾, 就要选NPV大的, 因为IRR不能反映投资规模.</li></ul><h3 id="金融计算器计算NPV-IRR"><a href="#金融计算器计算NPV-IRR" class="headerlink" title="金融计算器计算NPV, IRR"></a>金融计算器计算NPV, IRR</h3><p>Todo</p><h2 id="持有期收益-holding-period-return-HPR"><a href="#持有期收益-holding-period-return-HPR" class="headerlink" title="持有期收益(holding period return, HPR)"></a>持有期收益(holding period return, HPR)</h2><p>某一投资工具持有一段时间所带来的总收益, 包括利息收入或股利收入和资本利得或损失.<br>$P_t$: 第t年终值<br>$ HPR = \frac {P_1 - P_0 + CF_1}{P_0}$<br>$P_1 - P_0$: 资本的升值<br>$CF_1$: 净收益值, 红利</p><h2 id="银行贴现收益率-持有期收益率-有效年利率和货币市场收益率"><a href="#银行贴现收益率-持有期收益率-有效年利率和货币市场收益率" class="headerlink" title="银行贴现收益率, 持有期收益率, 有效年利率和货币市场收益率"></a>银行贴现收益率, 持有期收益率, 有效年利率和货币市场收益率</h2><ul><li>持有期收益率(holding period yield, HPY)<br>$ HPY = R<em>t = \frac {P_t - P</em>{t-1} + CF_t}{P_t}$<br>相当于t-1时刻到t时刻的HPR</li><li>有效年利率(effective annual yield, EAY)<br>$ EAY = (1 + HPY)^{\frac{365}{t}} - 1 $<br>一般而言讨论金融产品收益率都是指年收益率</li><li>银行贴现收益率 (band discount yield)<br>这是对于银行贴现证券而言的.<br>P: 证券的购买价格<br>F: 证券的票面价格<br>t: 持有到期时间<br>$r_{BD} = \frac{F - P}{F}\frac{360}{t}$</li><li>货币市场收益率 (money market yield)<br>相比于银行贴现收益率, 使用P作为分母, 更科学.<br>$r_{MM} = \frac{F - P}{P}\frac{360}{t}$</li></ul><p><strong>注意, $r_{MM}$是用的单利, 而且用了360天计算, 而EAY用了复利, 而且是365天计算!!这就是他们的区别!!</strong></p><h3 id="各值相互转换"><a href="#各值相互转换" class="headerlink" title="各值相互转换"></a>各值相互转换</h3><p>$EAY = (1 +HPY)^{\frac{365}{t}} - 1$<br>$HPY = \frac {r<em>{BD}(\frac{t}{360})}{1 - r</em>{BD}(\frac{t}{360})}$<br>推导:<br>$r<em>{BD} = \frac{F-P}{F} =\frac{ P_t + CF_t - P</em>{t-1}}{P<em>{t-1} + CF_t}\times \frac{360}{t} =  \frac {HPY}{1-HPY} \times \frac{360}{t}$<br>=&gt; $HPY = \frac {r</em>{BD}(\frac{t}{360})}{1 - r_{BD}(\frac{t}{360})}$</p><p>$r<em>{MM} = \frac{F - P}{P} \times \frac{360}{t} = HPY \times \frac{360}{t} = \frac{360 \times r</em>{BD}}{360 - t \times r<em>{BD}} = \frac {r</em>{BD}}{1 - t \times \frac{r_{BD}}{360}}$</p><ul><li>债券等价收益率(bond equivalend yield, BEY)<br>P: 债券价格<br>r: 半年期收益率<br>M: 到期支付的本金<br>C: 每次支付的利息<br>n: 利息期数<br>$ P = \frac{C}{1+r} +\frac{C}{(1+r)^2} +… +\frac{C + M}{(1+r)^n}$<br>求得r为半年期收益率, 而债券等价收益率 BEY = 2 <em> r<br><em>*美国要求必须这么算一年的单利!</em></em><br>HPY 和 BEY, EAY可以相互转换<br>$1 + HPY = (1 + \frac{BEY}{2})^{2 \times \frac{t}{365}}  = (1 + EAY)^{\frac{t}{365}}$</li></ul><h2 id="货币加权收益率和时间加权收益率"><a href="#货币加权收益率和时间加权收益率" class="headerlink" title="货币加权收益率和时间加权收益率"></a>货币加权收益率和时间加权收益率</h2><ul><li><p>货币加权收益率(内部收益率) (money weighted rate of return)<br>R_D : 货币加权收益率<br>V_0 : 证券组合初始市场价值<br>V_N: 证券组合的期末市场价值<br>C_K: 自期间k内现金流入减去流出<br>$ V_0 = \frac{C_1}{1+ R_D} +\frac{C_2}{(1+R_D)^2} +… +\frac{C_N + V_N}{(1+R_D)^n}$<br><strong>货币加权收益率就是IRR 换了个理解方式而已</strong></p></li><li><p>时间加权收益率(time-weighted rate of return)(几何收益率)<br>R<em>r: 时间加权收益率<br>R</em>{Pk}: 子期间k的组合投资收益<br>N: 评估期内的子期间数<br>$ R<em>r = [(1 +R</em>{P1})(1 +R<em>{P2})…(1 +R</em>{PN})]^{\frac{1}{N}} - 1$</p></li></ul><h1 id="数理统计基础"><a href="#数理统计基础" class="headerlink" title="数理统计基础"></a>数理统计基础</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="finance" scheme="http://yoursite.com/categories/finance/"/>
    
      <category term="cfa_level1" scheme="http://yoursite.com/categories/finance/cfa-level1/"/>
    
    
      <category term="finance" scheme="http://yoursite.com/tags/finance/"/>
    
      <category term="cfa" scheme="http://yoursite.com/tags/cfa/"/>
    
  </entry>
  
  <entry>
    <title>iterator and generator</title>
    <link href="http://yoursite.com/2018/12/24/python/basics/Iterator_and_generator/"/>
    <id>http://yoursite.com/2018/12/24/python/basics/Iterator_and_generator/</id>
    <published>2018-12-24T10:03:00.000Z</published>
    <updated>2020-01-19T17:27:54.911Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="Iterable"><a href="#Iterable" class="headerlink" title="Iterable"></a>Iterable</h1><p>A iterable is an object which implements the _<em>iter_<em> method. __iter\</em></em> has to implement yield statement.</p><h2 id="iterable-concepts"><a href="#iterable-concepts" class="headerlink" title="iterable concepts"></a>iterable concepts</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> abc</span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> Iterable</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IterableObjc</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        cont = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> cont &lt; <span class="number">3</span>:</span><br><span class="line">            cont += <span class="number">1</span></span><br><span class="line">            <span class="keyword">yield</span> cont</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a_iterable = IterableObjc()</span><br><span class="line"><span class="keyword">assert</span> isinstance(a_iterable, abc.Iterable)  <span class="comment"># no exception</span></span><br><span class="line"><span class="keyword">assert</span> isinstance(a_iterable, Iterable)  <span class="comment"># no exception</span></span><br><span class="line">abc.Iterable <span class="keyword">is</span> Iterable <span class="comment"># collection.Iterable is the same as a_iterable</span></span><br></pre></td></tr></table></figure></div><pre><code>True</code></pre><p>‘for’ syntax is able to be used for iterable.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Iterable_instance =  IterableObjc()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Iterable_instance:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></div><pre><code>123</code></pre><p>Iterable could be also understood as any accepted object by iter() function. <br><br><strong>_<em>getitem_</em>()</strong> is another way to define a Iterable object.<br><br><em>note: <strong>StopIteration()</strong> exception has to be raised in <strong>_<em>getitem_</em>()</strong> function, otherwise infinite loop will be triggered when ‘for’ syntax is used!</em></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GetitemObjc</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self, item)</span>:</span></span><br><span class="line">        cont = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> cont &lt;= item:</span><br><span class="line">            cont += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cont &gt;= <span class="number">5</span>:</span><br><span class="line">                <span class="keyword">raise</span> StopIteration()</span><br><span class="line">        <span class="keyword">return</span> cont</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a_getitem = GetitemObjc()</span><br><span class="line"><span class="keyword">assert</span> isinstance(a_getitem, abc.Iterable)  <span class="comment"># exception</span></span><br></pre></td></tr></table></figure></div><pre><code>---------------------------------------------------------------------------AssertionError                            Traceback (most recent call last)&lt;ipython-input-4-52f2bca5d0ef&gt; in &lt;module&gt;()     10      11 a_getitem = GetitemObjc()---&gt; 12 assert isinstance(a_getitem, abc.Iterable)  # exceptionAssertionError: </code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">Code</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Getitem_instance &#x3D;  GetitemObjc()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Getitem_instance:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></div><pre><code>1234</code></pre><h2 id="‘for’-syntax"><a href="#‘for’-syntax" class="headerlink" title="‘for’ syntax"></a>‘for’ syntax</h2><p>Here is how <strong>for</strong> syntax works.<br><br><strong>for</strong> syntax is able to call <strong>iter()</strong> method for an iterable object, which transfers the iterable to a generator, and then call <strong>next(generator_object)</strong> until the <strong>StopIteration()</strong> exception is raised.<br></p><h2 id="‘any’-syntax"><a href="#‘any’-syntax" class="headerlink" title="‘any’ syntax"></a>‘any’ syntax</h2><p><strong>any</strong> syntax checks if the iterable is not empty.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">any(Iterable_instance)</span><br></pre></td></tr></table></figure></div><pre><code>True</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">any(Getitem_instance)</span><br></pre></td></tr></table></figure></div><pre><code>True</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmptyIterableObjc</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        cont = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> cont &lt; <span class="number">0</span>:</span><br><span class="line">            cont += <span class="number">1</span></span><br><span class="line">            <span class="keyword">yield</span> cont</span><br><span class="line"></span><br><span class="line">empty_iterable = EmptyIterableObjc()</span><br><span class="line"><span class="keyword">assert</span> isinstance(empty_iterable, abc.Iterable)  <span class="comment"># no exception</span></span><br></pre></td></tr></table></figure></div><p>This iterable is not able to provide any iteration element, therefore any returns False.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">any(empty_iterable)</span><br></pre></td></tr></table></figure></div><pre><code>False</code></pre><h2 id="‘list’-syntax"><a href="#‘list’-syntax" class="headerlink" title="‘list’ syntax"></a>‘list’ syntax</h2><p>list syntax is able to iterate through the iterable object, and add all the elements into a list.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list(Iterable_instance)</span><br></pre></td></tr></table></figure></div><pre><code>[1, 2, 3]</code></pre><h1 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h1><ul><li>Iterable is an object with _<em>iter_</em> method</li><li>Iterator is an object with both _<em>iter_<em> and __next\</em></em> methods</li></ul><p>A class with both <strong>iter</strong> and <strong>next</strong> methods is a iterator object. <strong>for</strong> or <strong>next()</strong> are able to be called for an iterator.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IteratorObjc</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.cont = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.cont &lt; <span class="number">3</span>:</span><br><span class="line">            self.cont += <span class="number">1</span></span><br><span class="line">            <span class="keyword">yield</span> self.cont</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.cont &lt; <span class="number">3</span>:</span><br><span class="line">            self.cont += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> self.cont</span><br><span class="line">        <span class="keyword">raise</span> StopIteration()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self_defined_generator = IteratorObjc()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> self_defined_generator:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></div><pre><code>123</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self_defined_generator = IteratorObjc()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(next(self_defined_generator))</span><br><span class="line">print(next(self_defined_generator))</span><br><span class="line">print(next(self_defined_generator))</span><br><span class="line">print(next(self_defined_generator)) <span class="comment">#raise stop iteration</span></span><br></pre></td></tr></table></figure></div><pre><code>123---------------------------------------------------------------------------StopIteration                             Traceback (most recent call last)&lt;ipython-input-59-042c29e8c989&gt; in &lt;module&gt;()      2 print(next(self_defined_generator))      3 print(next(self_defined_generator))----&gt; 4 print(next(self_defined_generator)) #raise stop iteration&lt;ipython-input-55-75f8519e3c93&gt; in __next__(self)     11             self.cont += 1     12             return self.cont---&gt; 13         raise StopIteration()     14 StopIteration: </code></pre><h2 id="manual-implementation-of-next"><a href="#manual-implementation-of-next" class="headerlink" title="manual implementation of  next"></a>manual implementation of  <em>next</em></h2><p>An inheritant class from a iterable class, which implements <strong><strong>next</strong></strong> method will become an iterator.<br><br>e.g: <strong>str</strong> is an iterable object but not an iterator. Here is a inheritant class from <strong>str</strong> class which implements <strong><strong>next</strong></strong> method.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">normal_string = <span class="string">'abcde'</span></span><br><span class="line">next(normal_string)</span><br></pre></td></tr></table></figure></div><pre><code>---------------------------------------------------------------------------TypeError                                 Traceback (most recent call last)&lt;ipython-input-60-7a029a4ee3bb&gt; in &lt;module&gt;()      1 normal_string = &#39;abcde&#39;----&gt; 2 next(normal_string)TypeError: &#39;str&#39; object is not an iterator</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IteratorStr</span><span class="params">(str)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, string)</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self._count = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self._count &lt; len(self):</span><br><span class="line">            self._count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> self.__getitem__(self._count - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">raise</span> StopIteration()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iterator_string = IteratorStr(<span class="string">'abcde'</span>)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string)) <span class="comment"># raise StopIteration() exception</span></span><br></pre></td></tr></table></figure></div><pre><code>abcde---------------------------------------------------------------------------StopIteration                             Traceback (most recent call last)&lt;ipython-input-83-2fbad4156275&gt; in &lt;module&gt;()      4 print(next(iterator_string))      5 print(next(iterator_string))----&gt; 6 print(next(iterator_string)) # raise StopIteration() exception&lt;ipython-input-75-a498191acf75&gt; in __next__(self)     12             self._count += 1     13             return self.__getitem__(self._count - 1)---&gt; 14         raise StopIteration()StopIteration: </code></pre><p>Of course the <strong>for</strong> syntax is able to be used for an iterator</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iterator_string = IteratorStr(<span class="string">'abcde'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> iterator_string:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></div><pre><code>abcde</code></pre><h2 id="auto-implementation-of-next-by-iter"><a href="#auto-implementation-of-next-by-iter" class="headerlink" title="auto implementation of  next by iter()"></a>auto implementation of  <em>next</em> by iter()</h2><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">normal_string = <span class="string">'abcde'</span></span><br><span class="line">iterator_string = iter(normal_string)</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string))</span><br><span class="line">print(next(iterator_string)) <span class="comment"># raise StopIteration() exception</span></span><br></pre></td></tr></table></figure></div><pre><code>abcde---------------------------------------------------------------------------StopIteration                             Traceback (most recent call last)&lt;ipython-input-87-2fbad4156275&gt; in &lt;module&gt;()      4 print(next(iterator_string))      5 print(next(iterator_string))----&gt; 6 print(next(iterator_string)) # raise StopIteration() exceptionStopIteration: </code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">iterator_string = IteratorStr(<span class="string">'abcde'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> iterator_string:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></div><pre><code>abcde</code></pre><h1 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h1><p>function with ‘yield’ syntax is called a generator function.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">generator_function</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">        <span class="keyword">yield</span> i</span><br></pre></td></tr></table></figure></div><p>A generator function has to be ‘instantiated’. The syntax looks like the instance of the generator function. But actually it is creating a generator from the generator function yield statement.</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gen = generator_function()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type(gen)</span><br></pre></td></tr></table></figure></div><pre><code>generator</code></pre><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> gen:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure></div><pre><code>012</code></pre><p>A generator will automatically have the  <strong>_<em>next_</em></strong> method implemented</p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gen = generator_function()</span><br></pre></td></tr></table></figure></div><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(next(gen))</span><br><span class="line">print(next(gen))</span><br><span class="line">print(next(gen))</span><br><span class="line">print(next(gen)) <span class="comment"># StopIteration() exception raised</span></span><br></pre></td></tr></table></figure></div><pre><code>012---------------------------------------------------------------------------StopIteration                             Traceback (most recent call last)&lt;ipython-input-16-648ef4ded63a&gt; in &lt;module&gt;()      2 print(next(gen))      3 print(next(gen))----&gt; 4 print(next(gen)) # StopIteration() exception raisedStopIteration: </code></pre><h1 id="Advance-material"><a href="#Advance-material" class="headerlink" title="Advance material"></a>Advance material</h1><p><a href="https://blog.csdn.net/dawningblue/article/details/72629362" target="_blank" rel="external nofollow noopener noreferrer">Python中iteration(迭代)、iterator(迭代器)、generator(生成器)等相关概念的理解</a></p><div class="code-area-wrap"><div class="highlight-tools"><i class="fa fa-angle-down code-expand" aria-hidden="true"></i><div class="code_lang">python</div><div class="copy-notice"></div><i class="fa fa-clipboard" aria-hidden="true"></i></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla
      
    
    </summary>
    
    
      <category term="python" scheme="http://yoursite.com/categories/python/"/>
    
      <category term="basics" scheme="http://yoursite.com/categories/python/basics/"/>
    
    
      <category term="python" scheme="http://yoursite.com/tags/python/"/>
    
      <category term="iterator" scheme="http://yoursite.com/tags/iterator/"/>
    
  </entry>
  
</feed>
